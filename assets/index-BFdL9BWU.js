(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();var nx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Tn(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var E1={exports:{}},_g={},P1={exports:{}},pn={};var DI;function N$(){if(DI)return pn;DI=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),d=Symbol.iterator;function m(V){return V===null||typeof V!="object"?null:(V=d&&V[d]||V["@@iterator"],typeof V=="function"?V:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,S={};function _(V,ee,se){this.props=V,this.context=ee,this.refs=S,this.updater=se||v}_.prototype.isReactComponent={},_.prototype.setState=function(V,ee){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,ee,"setState")},_.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function b(){}b.prototype=_.prototype;function M(V,ee,se){this.props=V,this.context=ee,this.refs=S,this.updater=se||v}var T=M.prototype=new b;T.constructor=M,x(T,_.prototype),T.isPureReactComponent=!0;var E=Array.isArray,P=Object.prototype.hasOwnProperty,R={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function U(V,ee,se){var me,Ce={},Ne=null,De=null;if(ee!=null)for(me in ee.ref!==void 0&&(De=ee.ref),ee.key!==void 0&&(Ne=""+ee.key),ee)P.call(ee,me)&&!I.hasOwnProperty(me)&&(Ce[me]=ee[me]);var Ke=arguments.length-2;if(Ke===1)Ce.children=se;else if(1<Ke){for(var Te=Array(Ke),Le=0;Le<Ke;Le++)Te[Le]=arguments[Le+2];Ce.children=Te}if(V&&V.defaultProps)for(me in Ke=V.defaultProps,Ke)Ce[me]===void 0&&(Ce[me]=Ke[me]);return{$$typeof:n,type:V,key:Ne,ref:De,props:Ce,_owner:R.current}}function N(V,ee){return{$$typeof:n,type:V.type,key:ee,ref:V.ref,props:V.props,_owner:V._owner}}function k(V){return typeof V=="object"&&V!==null&&V.$$typeof===n}function z(V){var ee={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(se){return ee[se]})}var G=/\/+/g;function K(V,ee){return typeof V=="object"&&V!==null&&V.key!=null?z(""+V.key):ee.toString(36)}function H(V,ee,se,me,Ce){var Ne=typeof V;(Ne==="undefined"||Ne==="boolean")&&(V=null);var De=!1;if(V===null)De=!0;else switch(Ne){case"string":case"number":De=!0;break;case"object":switch(V.$$typeof){case n:case e:De=!0}}if(De)return De=V,Ce=Ce(De),V=me===""?"."+K(De,0):me,E(Ce)?(se="",V!=null&&(se=V.replace(G,"$&/")+"/"),H(Ce,ee,se,"",function(Le){return Le})):Ce!=null&&(k(Ce)&&(Ce=N(Ce,se+(!Ce.key||De&&De.key===Ce.key?"":(""+Ce.key).replace(G,"$&/")+"/")+V)),ee.push(Ce)),1;if(De=0,me=me===""?".":me+":",E(V))for(var Ke=0;Ke<V.length;Ke++){Ne=V[Ke];var Te=me+K(Ne,Ke);De+=H(Ne,ee,se,Te,Ce)}else if(Te=m(V),typeof Te=="function")for(V=Te.call(V),Ke=0;!(Ne=V.next()).done;)Ne=Ne.value,Te=me+K(Ne,Ke++),De+=H(Ne,ee,se,Te,Ce);else if(Ne==="object")throw ee=String(V),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.");return De}function te(V,ee,se){if(V==null)return V;var me=[],Ce=0;return H(V,me,"","",function(Ne){return ee.call(se,Ne,Ce++)}),me}function J(V){if(V._status===-1){var ee=V._result;ee=ee(),ee.then(function(se){(V._status===0||V._status===-1)&&(V._status=1,V._result=se)},function(se){(V._status===0||V._status===-1)&&(V._status=2,V._result=se)}),V._status===-1&&(V._status=0,V._result=ee)}if(V._status===1)return V._result.default;throw V._result}var ie={current:null},B={transition:null},X={ReactCurrentDispatcher:ie,ReactCurrentBatchConfig:B,ReactCurrentOwner:R};function $(){throw Error("act(...) is not supported in production builds of React.")}return pn.Children={map:te,forEach:function(V,ee,se){te(V,function(){ee.apply(this,arguments)},se)},count:function(V){var ee=0;return te(V,function(){ee++}),ee},toArray:function(V){return te(V,function(ee){return ee})||[]},only:function(V){if(!k(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},pn.Component=_,pn.Fragment=t,pn.Profiler=i,pn.PureComponent=M,pn.StrictMode=r,pn.Suspense=l,pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X,pn.act=$,pn.cloneElement=function(V,ee,se){if(V==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+V+".");var me=x({},V.props),Ce=V.key,Ne=V.ref,De=V._owner;if(ee!=null){if(ee.ref!==void 0&&(Ne=ee.ref,De=R.current),ee.key!==void 0&&(Ce=""+ee.key),V.type&&V.type.defaultProps)var Ke=V.type.defaultProps;for(Te in ee)P.call(ee,Te)&&!I.hasOwnProperty(Te)&&(me[Te]=ee[Te]===void 0&&Ke!==void 0?Ke[Te]:ee[Te])}var Te=arguments.length-2;if(Te===1)me.children=se;else if(1<Te){Ke=Array(Te);for(var Le=0;Le<Te;Le++)Ke[Le]=arguments[Le+2];me.children=Ke}return{$$typeof:n,type:V.type,key:Ce,ref:Ne,props:me,_owner:De}},pn.createContext=function(V){return V={$$typeof:o,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},V.Provider={$$typeof:a,_context:V},V.Consumer=V},pn.createElement=U,pn.createFactory=function(V){var ee=U.bind(null,V);return ee.type=V,ee},pn.createRef=function(){return{current:null}},pn.forwardRef=function(V){return{$$typeof:s,render:V}},pn.isValidElement=k,pn.lazy=function(V){return{$$typeof:f,_payload:{_status:-1,_result:V},_init:J}},pn.memo=function(V,ee){return{$$typeof:c,type:V,compare:ee===void 0?null:ee}},pn.startTransition=function(V){var ee=B.transition;B.transition={};try{V()}finally{B.transition=ee}},pn.unstable_act=$,pn.useCallback=function(V,ee){return ie.current.useCallback(V,ee)},pn.useContext=function(V){return ie.current.useContext(V)},pn.useDebugValue=function(){},pn.useDeferredValue=function(V){return ie.current.useDeferredValue(V)},pn.useEffect=function(V,ee){return ie.current.useEffect(V,ee)},pn.useId=function(){return ie.current.useId()},pn.useImperativeHandle=function(V,ee,se){return ie.current.useImperativeHandle(V,ee,se)},pn.useInsertionEffect=function(V,ee){return ie.current.useInsertionEffect(V,ee)},pn.useLayoutEffect=function(V,ee){return ie.current.useLayoutEffect(V,ee)},pn.useMemo=function(V,ee){return ie.current.useMemo(V,ee)},pn.useReducer=function(V,ee,se){return ie.current.useReducer(V,ee,se)},pn.useRef=function(V){return ie.current.useRef(V)},pn.useState=function(V){return ie.current.useState(V)},pn.useSyncExternalStore=function(V,ee,se){return ie.current.useSyncExternalStore(V,ee,se)},pn.useTransition=function(){return ie.current.useTransition()},pn.version="18.3.1",pn}var LI;function Bb(){return LI||(LI=1,P1.exports=N$()),P1.exports}var NI;function k$(){if(NI)return _g;NI=1;var n=Bb(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function o(s,l,c){var f,d={},m=null,v=null;c!==void 0&&(m=""+c),l.key!==void 0&&(m=""+l.key),l.ref!==void 0&&(v=l.ref);for(f in l)r.call(l,f)&&!a.hasOwnProperty(f)&&(d[f]=l[f]);if(s&&s.defaultProps)for(f in l=s.defaultProps,l)d[f]===void 0&&(d[f]=l[f]);return{$$typeof:e,type:s,key:m,ref:v,props:d,_owner:i.current}}return _g.Fragment=t,_g.jsx=o,_g.jsxs=o,_g}var kI;function U$(){return kI||(kI=1,E1.exports=k$()),E1.exports}var oe=U$(),fe=Bb();const re=Tn(fe);var rx={},C1={exports:{}},Ea={},O1={exports:{}},R1={};var UI;function F$(){return UI||(UI=1,(function(n){function e(B,X){var $=B.length;B.push(X);e:for(;0<$;){var V=$-1>>>1,ee=B[V];if(0<i(ee,X))B[V]=X,B[$]=ee,$=V;else break e}}function t(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var X=B[0],$=B.pop();if($!==X){B[0]=$;e:for(var V=0,ee=B.length,se=ee>>>1;V<se;){var me=2*(V+1)-1,Ce=B[me],Ne=me+1,De=B[Ne];if(0>i(Ce,$))Ne<ee&&0>i(De,Ce)?(B[V]=De,B[Ne]=$,V=Ne):(B[V]=Ce,B[me]=$,V=me);else if(Ne<ee&&0>i(De,$))B[V]=De,B[Ne]=$,V=Ne;else break e}}return X}function i(B,X){var $=B.sortIndex-X.sortIndex;return $!==0?$:B.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();n.unstable_now=function(){return o.now()-s}}var l=[],c=[],f=1,d=null,m=3,v=!1,x=!1,S=!1,_=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(B){for(var X=t(c);X!==null;){if(X.callback===null)r(c);else if(X.startTime<=B)r(c),X.sortIndex=X.expirationTime,e(l,X);else break;X=t(c)}}function E(B){if(S=!1,T(B),!x)if(t(l)!==null)x=!0,J(P);else{var X=t(c);X!==null&&ie(E,X.startTime-B)}}function P(B,X){x=!1,S&&(S=!1,b(U),U=-1),v=!0;var $=m;try{for(T(X),d=t(l);d!==null&&(!(d.expirationTime>X)||B&&!z());){var V=d.callback;if(typeof V=="function"){d.callback=null,m=d.priorityLevel;var ee=V(d.expirationTime<=X);X=n.unstable_now(),typeof ee=="function"?d.callback=ee:d===t(l)&&r(l),T(X)}else r(l);d=t(l)}if(d!==null)var se=!0;else{var me=t(c);me!==null&&ie(E,me.startTime-X),se=!1}return se}finally{d=null,m=$,v=!1}}var R=!1,I=null,U=-1,N=5,k=-1;function z(){return!(n.unstable_now()-k<N)}function G(){if(I!==null){var B=n.unstable_now();k=B;var X=!0;try{X=I(!0,B)}finally{X?K():(R=!1,I=null)}}else R=!1}var K;if(typeof M=="function")K=function(){M(G)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,te=H.port2;H.port1.onmessage=G,K=function(){te.postMessage(null)}}else K=function(){_(G,0)};function J(B){I=B,R||(R=!0,K())}function ie(B,X){U=_(function(){B(n.unstable_now())},X)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(B){B.callback=null},n.unstable_continueExecution=function(){x||v||(x=!0,J(P))},n.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<B?Math.floor(1e3/B):5},n.unstable_getCurrentPriorityLevel=function(){return m},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(B){switch(m){case 1:case 2:case 3:var X=3;break;default:X=m}var $=m;m=X;try{return B()}finally{m=$}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(B,X){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var $=m;m=B;try{return X()}finally{m=$}},n.unstable_scheduleCallback=function(B,X,$){var V=n.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?V+$:V):$=V,B){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=$+ee,B={id:f++,callback:X,priorityLevel:B,startTime:$,expirationTime:ee,sortIndex:-1},$>V?(B.sortIndex=$,e(c,B),t(l)===null&&B===t(c)&&(S?(b(U),U=-1):S=!0,ie(E,$-V))):(B.sortIndex=ee,e(l,B),x||v||(x=!0,J(P))),B},n.unstable_shouldYield=z,n.unstable_wrapCallback=function(B){var X=m;return function(){var $=m;m=X;try{return B.apply(this,arguments)}finally{m=$}}}})(R1)),R1}var FI;function B$(){return FI||(FI=1,O1.exports=F$()),O1.exports}var BI;function z$(){if(BI)return Ea;BI=1;var n=Bb(),e=B$();function t(u){for(var h="https://reactjs.org/docs/error-decoder.html?invariant="+u,y=1;y<arguments.length;y++)h+="&args[]="+encodeURIComponent(arguments[y]);return"Minified React error #"+u+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(u,h){o(u,h),o(u+"Capture",h)}function o(u,h){for(i[u]=h,u=0;u<h.length;u++)r.add(h[u])}var s=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},d={};function m(u){return l.call(d,u)?!0:l.call(f,u)?!1:c.test(u)?d[u]=!0:(f[u]=!0,!1)}function v(u,h,y,A){if(y!==null&&y.type===0)return!1;switch(typeof h){case"function":case"symbol":return!0;case"boolean":return A?!1:y!==null?!y.acceptsBooleans:(u=u.toLowerCase().slice(0,5),u!=="data-"&&u!=="aria-");default:return!1}}function x(u,h,y,A){if(h===null||typeof h>"u"||v(u,h,y,A))return!0;if(A)return!1;if(y!==null)switch(y.type){case 3:return!h;case 4:return h===!1;case 5:return isNaN(h);case 6:return isNaN(h)||1>h}return!1}function S(u,h,y,A,O,L,j){this.acceptsBooleans=h===2||h===3||h===4,this.attributeName=A,this.attributeNamespace=O,this.mustUseProperty=y,this.propertyName=u,this.type=h,this.sanitizeURL=L,this.removeEmptyString=j}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(u){_[u]=new S(u,0,!1,u,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(u){var h=u[0];_[h]=new S(h,1,!1,u[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(u){_[u]=new S(u,2,!1,u.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(u){_[u]=new S(u,2,!1,u,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(u){_[u]=new S(u,3,!1,u.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(u){_[u]=new S(u,3,!0,u,null,!1,!1)}),["capture","download"].forEach(function(u){_[u]=new S(u,4,!1,u,null,!1,!1)}),["cols","rows","size","span"].forEach(function(u){_[u]=new S(u,6,!1,u,null,!1,!1)}),["rowSpan","start"].forEach(function(u){_[u]=new S(u,5,!1,u.toLowerCase(),null,!1,!1)});var b=/[\-:]([a-z])/g;function M(u){return u[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(u){var h=u.replace(b,M);_[h]=new S(h,1,!1,u,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(u){var h=u.replace(b,M);_[h]=new S(h,1,!1,u,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(u){var h=u.replace(b,M);_[h]=new S(h,1,!1,u,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(u){_[u]=new S(u,1,!1,u.toLowerCase(),null,!1,!1)}),_.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(u){_[u]=new S(u,1,!1,u.toLowerCase(),null,!0,!0)});function T(u,h,y,A){var O=_.hasOwnProperty(h)?_[h]:null;(O!==null?O.type!==0:A||!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(x(h,y,O,A)&&(y=null),A||O===null?m(h)&&(y===null?u.removeAttribute(h):u.setAttribute(h,""+y)):O.mustUseProperty?u[O.propertyName]=y===null?O.type===3?!1:"":y:(h=O.attributeName,A=O.attributeNamespace,y===null?u.removeAttribute(h):(O=O.type,y=O===3||O===4&&y===!0?"":""+y,A?u.setAttributeNS(A,h,y):u.setAttribute(h,y))))}var E=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P=Symbol.for("react.element"),R=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),z=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),te=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),ie=Symbol.for("react.offscreen"),B=Symbol.iterator;function X(u){return u===null||typeof u!="object"?null:(u=B&&u[B]||u["@@iterator"],typeof u=="function"?u:null)}var $=Object.assign,V;function ee(u){if(V===void 0)try{throw Error()}catch(y){var h=y.stack.trim().match(/\n( *(at )?)/);V=h&&h[1]||""}return`
`+V+u}var se=!1;function me(u,h){if(!u||se)return"";se=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(h)if(h=function(){throw Error()},Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(we){var A=we}Reflect.construct(u,[],h)}else{try{h.call()}catch(we){A=we}u.call(h.prototype)}else{try{throw Error()}catch(we){A=we}u()}}catch(we){if(we&&A&&typeof we.stack=="string"){for(var O=we.stack.split(`
`),L=A.stack.split(`
`),j=O.length-1,ae=L.length-1;1<=j&&0<=ae&&O[j]!==L[ae];)ae--;for(;1<=j&&0<=ae;j--,ae--)if(O[j]!==L[ae]){if(j!==1||ae!==1)do if(j--,ae--,0>ae||O[j]!==L[ae]){var ce=`
`+O[j].replace(" at new "," at ");return u.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",u.displayName)),ce}while(1<=j&&0<=ae);break}}}finally{se=!1,Error.prepareStackTrace=y}return(u=u?u.displayName||u.name:"")?ee(u):""}function Ce(u){switch(u.tag){case 5:return ee(u.type);case 16:return ee("Lazy");case 13:return ee("Suspense");case 19:return ee("SuspenseList");case 0:case 2:case 15:return u=me(u.type,!1),u;case 11:return u=me(u.type.render,!1),u;case 1:return u=me(u.type,!0),u;default:return""}}function Ne(u){if(u==null)return null;if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case I:return"Fragment";case R:return"Portal";case N:return"Profiler";case U:return"StrictMode";case K:return"Suspense";case H:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case z:return(u.displayName||"Context")+".Consumer";case k:return(u._context.displayName||"Context")+".Provider";case G:var h=u.render;return u=u.displayName,u||(u=h.displayName||h.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case te:return h=u.displayName||null,h!==null?h:Ne(u.type)||"Memo";case J:h=u._payload,u=u._init;try{return Ne(u(h))}catch{}}return null}function De(u){var h=u.type;switch(u.tag){case 24:return"Cache";case 9:return(h.displayName||"Context")+".Consumer";case 10:return(h._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return u=h.render,u=u.displayName||u.name||"",h.displayName||(u!==""?"ForwardRef("+u+")":"ForwardRef");case 7:return"Fragment";case 5:return h;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ne(h);case 8:return h===U?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h}return null}function Ke(u){switch(typeof u){case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function Te(u){var h=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function Le(u){var h=Te(u)?"checked":"value",y=Object.getOwnPropertyDescriptor(u.constructor.prototype,h),A=""+u[h];if(!u.hasOwnProperty(h)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var O=y.get,L=y.set;return Object.defineProperty(u,h,{configurable:!0,get:function(){return O.call(this)},set:function(j){A=""+j,L.call(this,j)}}),Object.defineProperty(u,h,{enumerable:y.enumerable}),{getValue:function(){return A},setValue:function(j){A=""+j},stopTracking:function(){u._valueTracker=null,delete u[h]}}}}function Ge(u){u._valueTracker||(u._valueTracker=Le(u))}function q(u){if(!u)return!1;var h=u._valueTracker;if(!h)return!0;var y=h.getValue(),A="";return u&&(A=Te(u)?u.checked?"true":"false":u.value),u=A,u!==y?(h.setValue(u),!0):!1}function Re(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}function _e(u,h){var y=h.checked;return $({},h,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:y??u._wrapperState.initialChecked})}function Fe(u,h){var y=h.defaultValue==null?"":h.defaultValue,A=h.checked!=null?h.checked:h.defaultChecked;y=Ke(h.value!=null?h.value:y),u._wrapperState={initialChecked:A,initialValue:y,controlled:h.type==="checkbox"||h.type==="radio"?h.checked!=null:h.value!=null}}function Ae(u,h){h=h.checked,h!=null&&T(u,"checked",h,!1)}function it(u,h){Ae(u,h);var y=Ke(h.value),A=h.type;if(y!=null)A==="number"?(y===0&&u.value===""||u.value!=y)&&(u.value=""+y):u.value!==""+y&&(u.value=""+y);else if(A==="submit"||A==="reset"){u.removeAttribute("value");return}h.hasOwnProperty("value")?Y(u,h.type,y):h.hasOwnProperty("defaultValue")&&Y(u,h.type,Ke(h.defaultValue)),h.checked==null&&h.defaultChecked!=null&&(u.defaultChecked=!!h.defaultChecked)}function Qe(u,h,y){if(h.hasOwnProperty("value")||h.hasOwnProperty("defaultValue")){var A=h.type;if(!(A!=="submit"&&A!=="reset"||h.value!==void 0&&h.value!==null))return;h=""+u._wrapperState.initialValue,y||h===u.value||(u.value=h),u.defaultValue=h}y=u.name,y!==""&&(u.name=""),u.defaultChecked=!!u._wrapperState.initialChecked,y!==""&&(u.name=y)}function Y(u,h,y){(h!=="number"||Re(u.ownerDocument)!==u)&&(y==null?u.defaultValue=""+u._wrapperState.initialValue:u.defaultValue!==""+y&&(u.defaultValue=""+y))}var W=Array.isArray;function ge(u,h,y,A){if(u=u.options,h){h={};for(var O=0;O<y.length;O++)h["$"+y[O]]=!0;for(y=0;y<u.length;y++)O=h.hasOwnProperty("$"+u[y].value),u[y].selected!==O&&(u[y].selected=O),O&&A&&(u[y].defaultSelected=!0)}else{for(y=""+Ke(y),h=null,O=0;O<u.length;O++){if(u[O].value===y){u[O].selected=!0,A&&(u[O].defaultSelected=!0);return}h!==null||u[O].disabled||(h=u[O])}h!==null&&(h.selected=!0)}}function ze(u,h){if(h.dangerouslySetInnerHTML!=null)throw Error(t(91));return $({},h,{value:void 0,defaultValue:void 0,children:""+u._wrapperState.initialValue})}function je(u,h){var y=h.value;if(y==null){if(y=h.children,h=h.defaultValue,y!=null){if(h!=null)throw Error(t(92));if(W(y)){if(1<y.length)throw Error(t(93));y=y[0]}h=y}h==null&&(h=""),y=h}u._wrapperState={initialValue:Ke(y)}}function ke(u,h){var y=Ke(h.value),A=Ke(h.defaultValue);y!=null&&(y=""+y,y!==u.value&&(u.value=y),h.defaultValue==null&&u.defaultValue!==y&&(u.defaultValue=y)),A!=null&&(u.defaultValue=""+A)}function xt(u){var h=u.textContent;h===u._wrapperState.initialValue&&h!==""&&h!==null&&(u.value=h)}function tt(u){switch(u){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lt(u,h){return u==null||u==="http://www.w3.org/1999/xhtml"?tt(h):u==="http://www.w3.org/2000/svg"&&h==="foreignObject"?"http://www.w3.org/1999/xhtml":u}var Tt,Vt=(function(u){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(h,y,A,O){MSApp.execUnsafeLocalFunction(function(){return u(h,y,A,O)})}:u})(function(u,h){if(u.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in u)u.innerHTML=h;else{for(Tt=Tt||document.createElement("div"),Tt.innerHTML="<svg>"+h.valueOf().toString()+"</svg>",h=Tt.firstChild;u.firstChild;)u.removeChild(u.firstChild);for(;h.firstChild;)u.appendChild(h.firstChild)}});function Ve(u,h){if(h){var y=u.firstChild;if(y&&y===u.lastChild&&y.nodeType===3){y.nodeValue=h;return}}u.textContent=h}var en={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zt=["Webkit","ms","Moz","O"];Object.keys(en).forEach(function(u){Zt.forEach(function(h){h=h+u.charAt(0).toUpperCase()+u.substring(1),en[h]=en[u]})});function Ft(u,h,y){return h==null||typeof h=="boolean"||h===""?"":y||typeof h!="number"||h===0||en.hasOwnProperty(u)&&en[u]?(""+h).trim():h+"px"}function Ct(u,h){u=u.style;for(var y in h)if(h.hasOwnProperty(y)){var A=y.indexOf("--")===0,O=Ft(y,h[y],A);y==="float"&&(y="cssFloat"),A?u.setProperty(y,O):u[y]=O}}var pt=$({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ue(u,h){if(h){if(pt[u]&&(h.children!=null||h.dangerouslySetInnerHTML!=null))throw Error(t(137,u));if(h.dangerouslySetInnerHTML!=null){if(h.children!=null)throw Error(t(60));if(typeof h.dangerouslySetInnerHTML!="object"||!("__html"in h.dangerouslySetInnerHTML))throw Error(t(61))}if(h.style!=null&&typeof h.style!="object")throw Error(t(62))}}function Ue(u,h){if(u.indexOf("-")===-1)return typeof h.is=="string";switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var st=null;function at(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var He=null,le=null,Xe=null;function rt(u){if(u=Ho(u)){if(typeof He!="function")throw Error(t(280));var h=u.stateNode;h&&(h=dd(h),He(u.stateNode,u.type,h))}}function Rt(u){le?Xe?Xe.push(u):Xe=[u]:le=u}function _t(){if(le){var u=le,h=Xe;if(Xe=le=null,rt(u),h)for(u=0;u<h.length;u++)rt(h[u])}}function rn(u,h){return u(h)}function dn(){}var En=!1;function zn(u,h,y){if(En)return u(h,y);En=!0;try{return rn(u,h,y)}finally{En=!1,(le!==null||Xe!==null)&&(dn(),_t())}}function hn(u,h){var y=u.stateNode;if(y===null)return null;var A=dd(y);if(A===null)return null;y=A[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(A=!A.disabled)||(u=u.type,A=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!A;break e;default:u=!1}if(u)return null;if(y&&typeof y!="function")throw Error(t(231,h,typeof y));return y}var wr=!1;if(s)try{var ai={};Object.defineProperty(ai,"passive",{get:function(){wr=!0}}),window.addEventListener("test",ai,ai),window.removeEventListener("test",ai,ai)}catch{wr=!1}function Fc(u,h,y,A,O,L,j,ae,ce){var we=Array.prototype.slice.call(arguments,3);try{h.apply(y,we)}catch($e){this.onError($e)}}var Io=!1,Do=null,ka=!1,Es=null,Ih={onError:function(u){Io=!0,Do=u}};function Dh(u,h,y,A,O,L,j,ae,ce){Io=!1,Do=null,Fc.apply(Ih,arguments)}function Am(u,h,y,A,O,L,j,ae,ce){if(Dh.apply(this,arguments),Io){if(Io){var we=Do;Io=!1,Do=null}else throw Error(t(198));ka||(ka=!0,Es=we)}}function Lo(u){var h=u,y=u;if(u.alternate)for(;h.return;)h=h.return;else{u=h;do h=u,(h.flags&4098)!==0&&(y=h.return),u=h.return;while(u)}return h.tag===3?y:null}function Lh(u){if(u.tag===13){var h=u.memoizedState;if(h===null&&(u=u.alternate,u!==null&&(h=u.memoizedState)),h!==null)return h.dehydrated}return null}function Z(u){if(Lo(u)!==u)throw Error(t(188))}function ve(u){var h=u.alternate;if(!h){if(h=Lo(u),h===null)throw Error(t(188));return h!==u?null:u}for(var y=u,A=h;;){var O=y.return;if(O===null)break;var L=O.alternate;if(L===null){if(A=O.return,A!==null){y=A;continue}break}if(O.child===L.child){for(L=O.child;L;){if(L===y)return Z(O),u;if(L===A)return Z(O),h;L=L.sibling}throw Error(t(188))}if(y.return!==A.return)y=O,A=L;else{for(var j=!1,ae=O.child;ae;){if(ae===y){j=!0,y=O,A=L;break}if(ae===A){j=!0,A=O,y=L;break}ae=ae.sibling}if(!j){for(ae=L.child;ae;){if(ae===y){j=!0,y=L,A=O;break}if(ae===A){j=!0,A=L,y=O;break}ae=ae.sibling}if(!j)throw Error(t(189))}}if(y.alternate!==A)throw Error(t(190))}if(y.tag!==3)throw Error(t(188));return y.stateNode.current===y?u:h}function Me(u){return u=ve(u),u!==null?Ee(u):null}function Ee(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){var h=Ee(u);if(h!==null)return h;u=u.sibling}return null}var Se=e.unstable_scheduleCallback,ct=e.unstable_cancelCallback,Ot=e.unstable_shouldYield,Dt=e.unstable_requestPaint,ht=e.unstable_now,$t=e.unstable_getCurrentPriorityLevel,Bt=e.unstable_ImmediatePriority,Ht=e.unstable_UserBlockingPriority,Ln=e.unstable_NormalPriority,jr=e.unstable_LowPriority,Nn=e.unstable_IdlePriority,ur=null,Et=null;function gt(u){if(Et&&typeof Et.onCommitFiberRoot=="function")try{Et.onCommitFiberRoot(ur,u,void 0,(u.current.flags&128)===128)}catch{}}var tr=Math.clz32?Math.clz32:io,an=Math.log,nr=Math.LN2;function io(u){return u>>>=0,u===0?32:31-(an(u)/nr|0)|0}var vi=64,cr=4194304;function jn(u){switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return u&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return u}}function Xi(u,h){var y=u.pendingLanes;if(y===0)return 0;var A=0,O=u.suspendedLanes,L=u.pingedLanes,j=y&268435455;if(j!==0){var ae=j&~O;ae!==0?A=jn(ae):(L&=j,L!==0&&(A=jn(L)))}else j=y&~O,j!==0?A=jn(j):L!==0&&(A=jn(L));if(A===0)return 0;if(h!==0&&h!==A&&(h&O)===0&&(O=A&-A,L=h&-h,O>=L||O===16&&(L&4194240)!==0))return h;if((A&4)!==0&&(A|=y&16),h=u.entangledLanes,h!==0)for(u=u.entanglements,h&=A;0<h;)y=31-tr(h),O=1<<y,A|=u[y],h&=~O;return A}function mu(u,h){switch(u){case 1:case 2:case 4:return h+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vr(u,h){for(var y=u.suspendedLanes,A=u.pingedLanes,O=u.expirationTimes,L=u.pendingLanes;0<L;){var j=31-tr(L),ae=1<<j,ce=O[j];ce===-1?((ae&y)===0||(ae&A)!==0)&&(O[j]=mu(ae,h)):ce<=h&&(u.expiredLanes|=ae),L&=~ae}}function Ps(u){return u=u.pendingLanes&-1073741825,u!==0?u:u&1073741824?1073741824:0}function Oi(){var u=vi;return vi<<=1,(vi&4194240)===0&&(vi=64),u}function gu(u){for(var h=[],y=0;31>y;y++)h.push(u);return h}function Bc(u,h,y){u.pendingLanes|=h,h!==536870912&&(u.suspendedLanes=0,u.pingedLanes=0),u=u.eventTimes,h=31-tr(h),u[h]=y}function ZS(u,h){var y=u.pendingLanes&~h;u.pendingLanes=h,u.suspendedLanes=0,u.pingedLanes=0,u.expiredLanes&=h,u.mutableReadLanes&=h,u.entangledLanes&=h,h=u.entanglements;var A=u.eventTimes;for(u=u.expirationTimes;0<y;){var O=31-tr(y),L=1<<O;h[O]=0,A[O]=-1,u[O]=-1,y&=~L}}function vu(u,h){var y=u.entangledLanes|=h;for(u=u.entanglements;y;){var A=31-tr(y),O=1<<A;O&h|u[A]&h&&(u[A]|=h),y&=~O}}var vn=0;function yu(u){return u&=-u,1<u?4<u?(u&268435455)!==0?16:536870912:4:1}var zc,Tm,c0,Nh,kh,rl=!1,Uh=[],ao=null,on=null,No=null,il=new Map,xu=new Map,Cs=[],JS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mr(u,h){switch(u){case"focusin":case"focusout":ao=null;break;case"dragenter":case"dragleave":on=null;break;case"mouseover":case"mouseout":No=null;break;case"pointerover":case"pointerout":il.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":xu.delete(h.pointerId)}}function al(u,h,y,A,O,L){return u===null||u.nativeEvent!==L?(u={blockedOn:h,domEventName:y,eventSystemFlags:A,nativeEvent:L,targetContainers:[O]},h!==null&&(h=Ho(h),h!==null&&Tm(h)),u):(u.eventSystemFlags|=A,h=u.targetContainers,O!==null&&h.indexOf(O)===-1&&h.push(O),u)}function QS(u,h,y,A,O){switch(h){case"focusin":return ao=al(ao,u,h,y,A,O),!0;case"dragenter":return on=al(on,u,h,y,A,O),!0;case"mouseover":return No=al(No,u,h,y,A,O),!0;case"pointerover":var L=O.pointerId;return il.set(L,al(il.get(L)||null,u,h,y,A,O)),!0;case"gotpointercapture":return L=O.pointerId,xu.set(L,al(xu.get(L)||null,u,h,y,A,O)),!0}return!1}function Fh(u){var h=ks(u.target);if(h!==null){var y=Lo(h);if(y!==null){if(h=y.tag,h===13){if(h=Lh(y),h!==null){u.blockedOn=h,kh(u.priority,function(){c0(y)});return}}else if(h===3&&y.stateNode.current.memoizedState.isDehydrated){u.blockedOn=y.tag===3?y.stateNode.containerInfo:null;return}}}u.blockedOn=null}function Bh(u){if(u.blockedOn!==null)return!1;for(var h=u.targetContainers;0<h.length;){var y=va(u.domEventName,u.eventSystemFlags,h[0],u.nativeEvent);if(y===null){y=u.nativeEvent;var A=new y.constructor(y.type,y);st=A,y.target.dispatchEvent(A),st=null}else return h=Ho(y),h!==null&&Tm(h),u.blockedOn=y,!1;h.shift()}return!0}function jc(u,h,y){Bh(u)&&y.delete(h)}function oo(){rl=!1,ao!==null&&Bh(ao)&&(ao=null),on!==null&&Bh(on)&&(on=null),No!==null&&Bh(No)&&(No=null),il.forEach(jc),xu.forEach(jc)}function Vc(u,h){u.blockedOn===h&&(u.blockedOn=null,rl||(rl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,oo)))}function Hc(u){function h(O){return Vc(O,u)}if(0<Uh.length){Vc(Uh[0],u);for(var y=1;y<Uh.length;y++){var A=Uh[y];A.blockedOn===u&&(A.blockedOn=null)}}for(ao!==null&&Vc(ao,u),on!==null&&Vc(on,u),No!==null&&Vc(No,u),il.forEach(h),xu.forEach(h),y=0;y<Cs.length;y++)A=Cs[y],A.blockedOn===u&&(A.blockedOn=null);for(;0<Cs.length&&(y=Cs[0],y.blockedOn===null);)Fh(y),y.blockedOn===null&&Cs.shift()}var yi=E.ReactCurrentBatchConfig,ga=!0;function zh(u,h,y,A){var O=vn,L=yi.transition;yi.transition=null;try{vn=1,jh(u,h,y,A)}finally{vn=O,yi.transition=L}}function Em(u,h,y,A){var O=vn,L=yi.transition;yi.transition=null;try{vn=4,jh(u,h,y,A)}finally{vn=O,yi.transition=L}}function jh(u,h,y,A){if(ga){var O=va(u,h,y,A);if(O===null)sd(u,h,A,Vh,y),Mr(u,A);else if(QS(O,u,h,y,A))A.stopPropagation();else if(Mr(u,A),h&4&&-1<JS.indexOf(u)){for(;O!==null;){var L=Ho(O);if(L!==null&&zc(L),L=va(u,h,y,A),L===null&&sd(u,h,A,Vh,y),L===O)break;O=L}O!==null&&A.stopPropagation()}else sd(u,h,A,null,y)}}var Vh=null;function va(u,h,y,A){if(Vh=null,u=at(A),u=ks(u),u!==null)if(h=Lo(u),h===null)u=null;else if(y=h.tag,y===13){if(u=Lh(h),u!==null)return u;u=null}else if(y===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;u=null}else h!==u&&(u=null);return Vh=u,null}function f0(u){switch(u){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($t()){case Bt:return 1;case Ht:return 4;case Ln:case jr:return 16;case Nn:return 536870912;default:return 16}default:return 16}}var Ua=null,Pm=null,Ri=null;function Wc(){if(Ri)return Ri;var u,h=Pm,y=h.length,A,O="value"in Ua?Ua.value:Ua.textContent,L=O.length;for(u=0;u<y&&h[u]===O[u];u++);var j=y-u;for(A=1;A<=j&&h[y-A]===O[L-A];A++);return Ri=O.slice(u,1<A?1-A:void 0)}function ol(u){var h=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&h===13&&(u=13)):u=h,u===10&&(u=13),32<=u||u===13?u:0}function ko(){return!0}function Hh(){return!1}function xi(u){function h(y,A,O,L,j){this._reactName=y,this._targetInst=O,this.type=A,this.nativeEvent=L,this.target=j,this.currentTarget=null;for(var ae in u)u.hasOwnProperty(ae)&&(y=u[ae],this[ae]=y?y(L):L[ae]);return this.isDefaultPrevented=(L.defaultPrevented!=null?L.defaultPrevented:L.returnValue===!1)?ko:Hh,this.isPropagationStopped=Hh,this}return $(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var y=this.nativeEvent;y&&(y.preventDefault?y.preventDefault():typeof y.returnValue!="unknown"&&(y.returnValue=!1),this.isDefaultPrevented=ko)},stopPropagation:function(){var y=this.nativeEvent;y&&(y.stopPropagation?y.stopPropagation():typeof y.cancelBubble!="unknown"&&(y.cancelBubble=!0),this.isPropagationStopped=ko)},persist:function(){},isPersistent:ko}),h}var sl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gc=xi(sl),ll=$({},sl,{view:0,detail:0}),_u=xi(ll),Ii,ya,xa,bu=$({},ll,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rs,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==xa&&(xa&&u.type==="mousemove"?(Ii=u.screenX-xa.screenX,ya=u.screenY-xa.screenY):ya=Ii=0,xa=u),Ii)},movementY:function(u){return"movementY"in u?u.movementY:ya}}),Cm=xi(bu),Uo=$({},bu,{dataTransfer:0}),Os=xi(Uo),Wh=$({},ll,{relatedTarget:0}),Gh=xi(Wh),$h=$({},sl,{animationName:0,elapsedTime:0,pseudoElement:0}),h0=xi($h),d0=$({},sl,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),Om=xi(d0),qh=$({},sl,{data:0}),Rm=xi(qh),p0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},m0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Im={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Su(u){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(u):(u=Im[u])?!!h[u]:!1}function Rs(){return Su}var Xh=$({},ll,{key:function(u){if(u.key){var h=p0[u.key]||u.key;if(h!=="Unidentified")return h}return u.type==="keypress"?(u=ol(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?m0[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rs,charCode:function(u){return u.type==="keypress"?ol(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?ol(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),Yh=xi(Xh),_a=$({},bu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yi=xi(_a),ul=$({},ll,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rs}),Fo=xi(ul),Bo=$({},sl,{propertyName:0,elapsedTime:0,pseudoElement:0}),cl=xi(Bo),g0=$({},bu,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),Dm=xi(g0),Lm=[9,13,27,32],_i=s&&"CompositionEvent"in window,Hr=null;s&&"documentMode"in document&&(Hr=document.documentMode);var Gn=s&&"TextEvent"in window&&!Hr,wu=s&&(!_i||Hr&&8<Hr&&11>=Hr),ba=" ",Nm=!1;function km(u,h){switch(u){case"keyup":return Lm.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kh(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var Is=!1;function v0(u,h){switch(u){case"compositionend":return Kh(h);case"keypress":return h.which!==32?null:(Nm=!0,ba);case"textInput":return u=h.data,u===ba&&Nm?null:u;default:return null}}function $c(u,h){if(Is)return u==="compositionend"||!_i&&km(u,h)?(u=Wc(),Ri=Pm=Ua=null,Is=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return wu&&h.locale!=="ko"?null:h.data;default:return null}}var Mu={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zh(u){var h=u&&u.nodeName&&u.nodeName.toLowerCase();return h==="input"?!!Mu[u.type]:h==="textarea"}function Au(u,h,y,A){Rt(A),h=ld(h,"onChange"),0<h.length&&(y=new Gc("onChange","change",null,y,A),u.push({event:y,listeners:h}))}var Ds=null,Tu=null;function y0(u){Ou(u,0)}function zo(u){var h=fr(u);if(q(h))return u}function x0(u,h){if(u==="change")return h}var Eu=!1;if(s){var Di;if(s){var fl="oninput"in document;if(!fl){var hl=document.createElement("div");hl.setAttribute("oninput","return;"),fl=typeof hl.oninput=="function"}Di=fl}else Di=!1;Eu=Di&&(!document.documentMode||9<document.documentMode)}function Fa(){Ds&&(Ds.detachEvent("onpropertychange",Jh),Tu=Ds=null)}function Jh(u){if(u.propertyName==="value"&&zo(Tu)){var h=[];Au(h,Tu,u,at(u)),zn(y0,h)}}function Pu(u,h,y){u==="focusin"?(Fa(),Ds=h,Tu=y,Ds.attachEvent("onpropertychange",Jh)):u==="focusout"&&Fa()}function _0(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return zo(Tu)}function Um(u,h){if(u==="click")return zo(h)}function Zn(u,h){if(u==="input"||u==="change")return zo(h)}function Qh(u,h){return u===h&&(u!==0||1/u===1/h)||u!==u&&h!==h}var Ki=typeof Object.is=="function"?Object.is:Qh;function dl(u,h){if(Ki(u,h))return!0;if(typeof u!="object"||u===null||typeof h!="object"||h===null)return!1;var y=Object.keys(u),A=Object.keys(h);if(y.length!==A.length)return!1;for(A=0;A<y.length;A++){var O=y[A];if(!l.call(h,O)||!Ki(u[O],h[O]))return!1}return!0}function qc(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function Zi(u,h){var y=qc(u);u=0;for(var A;y;){if(y.nodeType===3){if(A=u+y.textContent.length,u<=h&&A>=h)return{node:y,offset:h-u};u=A}e:{for(;y;){if(y.nextSibling){y=y.nextSibling;break e}y=y.parentNode}y=void 0}y=qc(y)}}function pl(u,h){return u&&h?u===h?!0:u&&u.nodeType===3?!1:h&&h.nodeType===3?pl(u,h.parentNode):"contains"in u?u.contains(h):u.compareDocumentPosition?!!(u.compareDocumentPosition(h)&16):!1:!1}function Jn(){for(var u=window,h=Re();h instanceof u.HTMLIFrameElement;){try{var y=typeof h.contentWindow.location.href=="string"}catch{y=!1}if(y)u=h.contentWindow;else break;h=Re(u.document)}return h}function Ir(u){var h=u&&u.nodeName&&u.nodeName.toLowerCase();return h&&(h==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||h==="textarea"||u.contentEditable==="true")}function Dr(u){var h=Jn(),y=u.focusedElem,A=u.selectionRange;if(h!==y&&y&&y.ownerDocument&&pl(y.ownerDocument.documentElement,y)){if(A!==null&&Ir(y)){if(h=A.start,u=A.end,u===void 0&&(u=h),"selectionStart"in y)y.selectionStart=h,y.selectionEnd=Math.min(u,y.value.length);else if(u=(h=y.ownerDocument||document)&&h.defaultView||window,u.getSelection){u=u.getSelection();var O=y.textContent.length,L=Math.min(A.start,O);A=A.end===void 0?L:Math.min(A.end,O),!u.extend&&L>A&&(O=A,A=L,L=O),O=Zi(y,L);var j=Zi(y,A);O&&j&&(u.rangeCount!==1||u.anchorNode!==O.node||u.anchorOffset!==O.offset||u.focusNode!==j.node||u.focusOffset!==j.offset)&&(h=h.createRange(),h.setStart(O.node,O.offset),u.removeAllRanges(),L>A?(u.addRange(h),u.extend(j.node,j.offset)):(h.setEnd(j.node,j.offset),u.addRange(h)))}}for(h=[],u=y;u=u.parentNode;)u.nodeType===1&&h.push({element:u,left:u.scrollLeft,top:u.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<h.length;y++)u=h[y],u.element.scrollLeft=u.left,u.element.scrollTop=u.top}}var ed=s&&"documentMode"in document&&11>=document.documentMode,so=null,ml=null,Xc=null,Lr=!1;function td(u,h,y){var A=y.window===y?y.document:y.nodeType===9?y:y.ownerDocument;Lr||so==null||so!==Re(A)||(A=so,"selectionStart"in A&&Ir(A)?A={start:A.selectionStart,end:A.selectionEnd}:(A=(A.ownerDocument&&A.ownerDocument.defaultView||window).getSelection(),A={anchorNode:A.anchorNode,anchorOffset:A.anchorOffset,focusNode:A.focusNode,focusOffset:A.focusOffset}),Xc&&dl(Xc,A)||(Xc=A,A=ld(ml,"onSelect"),0<A.length&&(h=new Gc("onSelect","select",null,h,y),u.push({event:h,listeners:A}),h.target=so)))}function Cu(u,h){var y={};return y[u.toLowerCase()]=h.toLowerCase(),y["Webkit"+u]="webkit"+h,y["Moz"+u]="moz"+h,y}var Ls={animationend:Cu("Animation","AnimationEnd"),animationiteration:Cu("Animation","AnimationIteration"),animationstart:Cu("Animation","AnimationStart"),transitionend:Cu("Transition","TransitionEnd")},Ba={},za={};s&&(za=document.createElement("div").style,"AnimationEvent"in window||(delete Ls.animationend.animation,delete Ls.animationiteration.animation,delete Ls.animationstart.animation),"TransitionEvent"in window||delete Ls.transitionend.transition);function lo(u){if(Ba[u])return Ba[u];if(!Ls[u])return u;var h=Ls[u],y;for(y in h)if(h.hasOwnProperty(y)&&y in za)return Ba[u]=h[y];return u}var Yc=lo("animationend"),Kc=lo("animationiteration"),Fm=lo("animationstart"),Bm=lo("transitionend"),zm=new Map,jm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jo(u,h){zm.set(u,h),a(h,[u])}for(var nd=0;nd<jm.length;nd++){var Zc=jm[nd],Jc=Zc.toLowerCase(),b0=Zc[0].toUpperCase()+Zc.slice(1);jo(Jc,"on"+b0)}jo(Yc,"onAnimationEnd"),jo(Kc,"onAnimationIteration"),jo(Fm,"onAnimationStart"),jo("dblclick","onDoubleClick"),jo("focusin","onFocus"),jo("focusout","onBlur"),jo(Bm,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ns="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rd=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ns));function id(u,h,y){var A=u.type||"unknown-event";u.currentTarget=y,Am(A,h,void 0,u),u.currentTarget=null}function Ou(u,h){h=(h&4)!==0;for(var y=0;y<u.length;y++){var A=u[y],O=A.event;A=A.listeners;e:{var L=void 0;if(h)for(var j=A.length-1;0<=j;j--){var ae=A[j],ce=ae.instance,we=ae.currentTarget;if(ae=ae.listener,ce!==L&&O.isPropagationStopped())break e;id(O,ae,we),L=ce}else for(j=0;j<A.length;j++){if(ae=A[j],ce=ae.instance,we=ae.currentTarget,ae=ae.listener,ce!==L&&O.isPropagationStopped())break e;id(O,ae,we),L=ce}}}if(ka)throw u=Es,ka=!1,Es=null,u}function kn(u,h){var y=h[yl];y===void 0&&(y=h[yl]=new Set);var A=u+"__bubble";y.has(A)||(od(h,u,2,!1),y.add(A))}function ad(u,h,y){var A=0;h&&(A|=4),od(y,u,A,h)}var Qc="_reactListening"+Math.random().toString(36).slice(2);function Ru(u){if(!u[Qc]){u[Qc]=!0,r.forEach(function(y){y!=="selectionchange"&&(rd.has(y)||ad(y,!1,u),ad(y,!0,u))});var h=u.nodeType===9?u:u.ownerDocument;h===null||h[Qc]||(h[Qc]=!0,ad("selectionchange",!1,h))}}function od(u,h,y,A){switch(f0(h)){case 1:var O=zh;break;case 4:O=Em;break;default:O=jh}y=O.bind(null,h,y,u),O=void 0,!wr||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(O=!0),A?O!==void 0?u.addEventListener(h,y,{capture:!0,passive:O}):u.addEventListener(h,y,!0):O!==void 0?u.addEventListener(h,y,{passive:O}):u.addEventListener(h,y,!1)}function sd(u,h,y,A,O){var L=A;if((h&1)===0&&(h&2)===0&&A!==null)e:for(;;){if(A===null)return;var j=A.tag;if(j===3||j===4){var ae=A.stateNode.containerInfo;if(ae===O||ae.nodeType===8&&ae.parentNode===O)break;if(j===4)for(j=A.return;j!==null;){var ce=j.tag;if((ce===3||ce===4)&&(ce=j.stateNode.containerInfo,ce===O||ce.nodeType===8&&ce.parentNode===O))return;j=j.return}for(;ae!==null;){if(j=ks(ae),j===null)return;if(ce=j.tag,ce===5||ce===6){A=L=j;continue e}ae=ae.parentNode}}A=A.return}zn(function(){var we=L,$e=at(y),qe=[];e:{var We=zm.get(u);if(We!==void 0){var dt=Gc,bt=u;switch(u){case"keypress":if(ol(y)===0)break e;case"keydown":case"keyup":dt=Yh;break;case"focusin":bt="focus",dt=Gh;break;case"focusout":bt="blur",dt=Gh;break;case"beforeblur":case"afterblur":dt=Gh;break;case"click":if(y.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":dt=Cm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":dt=Os;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":dt=Fo;break;case Yc:case Kc:case Fm:dt=h0;break;case Bm:dt=cl;break;case"scroll":dt=_u;break;case"wheel":dt=Dm;break;case"copy":case"cut":case"paste":dt=Om;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":dt=Yi}var St=(h&4)!==0,Tr=!St&&u==="scroll",ye=St?We!==null?We+"Capture":null:We;St=[];for(var he=we,xe;he!==null;){xe=he;var Je=xe.stateNode;if(xe.tag===5&&Je!==null&&(xe=Je,ye!==null&&(Je=hn(he,ye),Je!=null&&St.push(Iu(he,Je,xe)))),Tr)break;he=he.return}0<St.length&&(We=new dt(We,bt,null,y,$e),qe.push({event:We,listeners:St}))}}if((h&7)===0){e:{if(We=u==="mouseover"||u==="pointerover",dt=u==="mouseout"||u==="pointerout",We&&y!==st&&(bt=y.relatedTarget||y.fromElement)&&(ks(bt)||bt[Ji]))break e;if((dt||We)&&(We=$e.window===$e?$e:(We=$e.ownerDocument)?We.defaultView||We.parentWindow:window,dt?(bt=y.relatedTarget||y.toElement,dt=we,bt=bt?ks(bt):null,bt!==null&&(Tr=Lo(bt),bt!==Tr||bt.tag!==5&&bt.tag!==6)&&(bt=null)):(dt=null,bt=we),dt!==bt)){if(St=Cm,Je="onMouseLeave",ye="onMouseEnter",he="mouse",(u==="pointerout"||u==="pointerover")&&(St=Yi,Je="onPointerLeave",ye="onPointerEnter",he="pointer"),Tr=dt==null?We:fr(dt),xe=bt==null?We:fr(bt),We=new St(Je,he+"leave",dt,y,$e),We.target=Tr,We.relatedTarget=xe,Je=null,ks($e)===we&&(St=new St(ye,he+"enter",bt,y,$e),St.target=xe,St.relatedTarget=Tr,Je=St),Tr=Je,dt&&bt)t:{for(St=dt,ye=bt,he=0,xe=St;xe;xe=gl(xe))he++;for(xe=0,Je=ye;Je;Je=gl(Je))xe++;for(;0<he-xe;)St=gl(St),he--;for(;0<xe-he;)ye=gl(ye),xe--;for(;he--;){if(St===ye||ye!==null&&St===ye.alternate)break t;St=gl(St),ye=gl(ye)}St=null}else St=null;dt!==null&&S0(qe,We,dt,St,!1),bt!==null&&Tr!==null&&S0(qe,Tr,bt,St,!0)}}e:{if(We=we?fr(we):window,dt=We.nodeName&&We.nodeName.toLowerCase(),dt==="select"||dt==="input"&&We.type==="file")var Pt=x0;else if(Zh(We))if(Eu)Pt=Zn;else{Pt=_0;var Lt=Pu}else(dt=We.nodeName)&&dt.toLowerCase()==="input"&&(We.type==="checkbox"||We.type==="radio")&&(Pt=Um);if(Pt&&(Pt=Pt(u,we))){Au(qe,Pt,y,$e);break e}Lt&&Lt(u,We,we),u==="focusout"&&(Lt=We._wrapperState)&&Lt.controlled&&We.type==="number"&&Y(We,"number",We.value)}switch(Lt=we?fr(we):window,u){case"focusin":(Zh(Lt)||Lt.contentEditable==="true")&&(so=Lt,ml=we,Xc=null);break;case"focusout":Xc=ml=so=null;break;case"mousedown":Lr=!0;break;case"contextmenu":case"mouseup":case"dragend":Lr=!1,td(qe,y,$e);break;case"selectionchange":if(ed)break;case"keydown":case"keyup":td(qe,y,$e)}var Nt;if(_i)e:{switch(u){case"compositionstart":var qt="onCompositionStart";break e;case"compositionend":qt="onCompositionEnd";break e;case"compositionupdate":qt="onCompositionUpdate";break e}qt=void 0}else Is?km(u,y)&&(qt="onCompositionEnd"):u==="keydown"&&y.keyCode===229&&(qt="onCompositionStart");qt&&(wu&&y.locale!=="ko"&&(Is||qt!=="onCompositionStart"?qt==="onCompositionEnd"&&Is&&(Nt=Wc()):(Ua=$e,Pm="value"in Ua?Ua.value:Ua.textContent,Is=!0)),Lt=ld(we,qt),0<Lt.length&&(qt=new Rm(qt,u,null,y,$e),qe.push({event:qt,listeners:Lt}),Nt?qt.data=Nt:(Nt=Kh(y),Nt!==null&&(qt.data=Nt)))),(Nt=Gn?v0(u,y):$c(u,y))&&(we=ld(we,"onBeforeInput"),0<we.length&&($e=new Rm("onBeforeInput","beforeinput",null,y,$e),qe.push({event:$e,listeners:we}),$e.data=Nt))}Ou(qe,h)})}function Iu(u,h,y){return{instance:u,listener:h,currentTarget:y}}function ld(u,h){for(var y=h+"Capture",A=[];u!==null;){var O=u,L=O.stateNode;O.tag===5&&L!==null&&(O=L,L=hn(u,y),L!=null&&A.unshift(Iu(u,L,O)),L=hn(u,h),L!=null&&A.push(Iu(u,L,O))),u=u.return}return A}function gl(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5);return u||null}function S0(u,h,y,A,O){for(var L=h._reactName,j=[];y!==null&&y!==A;){var ae=y,ce=ae.alternate,we=ae.stateNode;if(ce!==null&&ce===A)break;ae.tag===5&&we!==null&&(ae=we,O?(ce=hn(y,L),ce!=null&&j.unshift(Iu(y,ce,ae))):O||(ce=hn(y,L),ce!=null&&j.push(Iu(y,ce,ae)))),y=y.return}j.length!==0&&u.push({event:h,listeners:j})}var e1=/\r\n?/g,w0=/\u0000|\uFFFD/g;function Vm(u){return(typeof u=="string"?u:""+u).replace(e1,`
`).replace(w0,"")}function ef(u,h,y){if(h=Vm(h),Vm(u)!==h&&y)throw Error(t(425))}function tf(){}var Du=null,Hm=null;function Wm(u,h){return u==="textarea"||u==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var Gm=typeof setTimeout=="function"?setTimeout:void 0,$m=typeof clearTimeout=="function"?clearTimeout:void 0,ud=typeof Promise=="function"?Promise:void 0,t1=typeof queueMicrotask=="function"?queueMicrotask:typeof ud<"u"?function(u){return ud.resolve(null).then(u).catch(M0)}:Gm;function M0(u){setTimeout(function(){throw u})}function cd(u,h){var y=h,A=0;do{var O=y.nextSibling;if(u.removeChild(y),O&&O.nodeType===8)if(y=O.data,y==="/$"){if(A===0){u.removeChild(O),Hc(h);return}A--}else y!=="$"&&y!=="$?"&&y!=="$!"||A++;y=O}while(y);Hc(h)}function Vo(u){for(;u!=null;u=u.nextSibling){var h=u.nodeType;if(h===1||h===3)break;if(h===8){if(h=u.data,h==="$"||h==="$!"||h==="$?")break;if(h==="/$")return null}}return u}function qm(u){u=u.previousSibling;for(var h=0;u;){if(u.nodeType===8){var y=u.data;if(y==="$"||y==="$!"||y==="$?"){if(h===0)return u;h--}else y==="/$"&&h++}u=u.previousSibling}return null}var vl=Math.random().toString(36).slice(2),Ar="__reactFiber$"+vl,Lu="__reactProps$"+vl,Ji="__reactContainer$"+vl,yl="__reactEvents$"+vl,fd="__reactListeners$"+vl,hd="__reactHandles$"+vl;function ks(u){var h=u[Ar];if(h)return h;for(var y=u.parentNode;y;){if(h=y[Ji]||y[Ar]){if(y=h.alternate,h.child!==null||y!==null&&y.child!==null)for(u=qm(u);u!==null;){if(y=u[Ar])return y;u=qm(u)}return h}u=y,y=u.parentNode}return null}function Ho(u){return u=u[Ar]||u[Ji],!u||u.tag!==5&&u.tag!==6&&u.tag!==13&&u.tag!==3?null:u}function fr(u){if(u.tag===5||u.tag===6)return u.stateNode;throw Error(t(33))}function dd(u){return u[Lu]||null}var Xm=[],Nr=-1;function rr(u){return{current:u}}function Un(u){0>Nr||(u.current=Xm[Nr],Xm[Nr]=null,Nr--)}function Rn(u,h){Nr++,Xm[Nr]=u.current,u.current=h}var Wo={},Wr=rr(Wo),bi=rr(!1),Go=Wo;function xl(u,h){var y=u.type.contextTypes;if(!y)return Wo;var A=u.stateNode;if(A&&A.__reactInternalMemoizedUnmaskedChildContext===h)return A.__reactInternalMemoizedMaskedChildContext;var O={},L;for(L in y)O[L]=h[L];return A&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=h,u.__reactInternalMemoizedMaskedChildContext=O),O}function oi(u){return u=u.childContextTypes,u!=null}function nf(){Un(bi),Un(Wr)}function Ym(u,h,y){if(Wr.current!==Wo)throw Error(t(168));Rn(Wr,h),Rn(bi,y)}function rf(u,h,y){var A=u.stateNode;if(h=h.childContextTypes,typeof A.getChildContext!="function")return y;A=A.getChildContext();for(var O in A)if(!(O in h))throw Error(t(108,De(u)||"Unknown",O));return $({},y,A)}function _l(u){return u=(u=u.stateNode)&&u.__reactInternalMemoizedMergedChildContext||Wo,Go=Wr.current,Rn(Wr,u),Rn(bi,bi.current),!0}function Km(u,h,y){var A=u.stateNode;if(!A)throw Error(t(169));y?(u=rf(u,h,Go),A.__reactInternalMemoizedMergedChildContext=u,Un(bi),Un(Wr),Rn(Wr,u)):Un(bi),Rn(bi,y)}var ja=null,af=!1,pd=!1;function of(u){ja===null?ja=[u]:ja.push(u)}function A0(u){af=!0,of(u)}function uo(){if(!pd&&ja!==null){pd=!0;var u=0,h=vn;try{var y=ja;for(vn=1;u<y.length;u++){var A=y[u];do A=A(!0);while(A!==null)}ja=null,af=!1}catch(O){throw ja!==null&&(ja=ja.slice(u+1)),Se(Bt,uo),O}finally{vn=h,pd=!1}}return null}var bl=[],Li=0,md=null,gd=0,Si=[],kr=0,Sl=null,et=1,Sa="";function $o(u,h){bl[Li++]=gd,bl[Li++]=md,md=u,gd=h}function Zm(u,h,y){Si[kr++]=et,Si[kr++]=Sa,Si[kr++]=Sl,Sl=u;var A=et;u=Sa;var O=32-tr(A)-1;A&=~(1<<O),y+=1;var L=32-tr(h)+O;if(30<L){var j=O-O%5;L=(A&(1<<j)-1).toString(32),A>>=j,O-=j,et=1<<32-tr(h)+O|y<<O|A,Sa=L+u}else et=1<<L|y<<O|A,Sa=u}function Jm(u){u.return!==null&&($o(u,1),Zm(u,1,0))}function qo(u){for(;u===md;)md=bl[--Li],bl[Li]=null,gd=bl[--Li],bl[Li]=null;for(;u===Sl;)Sl=Si[--kr],Si[kr]=null,Sa=Si[--kr],Si[kr]=null,et=Si[--kr],Si[kr]=null}var Gr=null,wi=null,Vn=!1,wa=null;function Qm(u,h){var y=mo(5,null,null,0);y.elementType="DELETED",y.stateNode=h,y.return=u,h=u.deletions,h===null?(u.deletions=[y],u.flags|=16):h.push(y)}function eg(u,h){switch(u.tag){case 5:var y=u.type;return h=h.nodeType!==1||y.toLowerCase()!==h.nodeName.toLowerCase()?null:h,h!==null?(u.stateNode=h,Gr=u,wi=Vo(h.firstChild),!0):!1;case 6:return h=u.pendingProps===""||h.nodeType!==3?null:h,h!==null?(u.stateNode=h,Gr=u,wi=null,!0):!1;case 13:return h=h.nodeType!==8?null:h,h!==null?(y=Sl!==null?{id:et,overflow:Sa}:null,u.memoizedState={dehydrated:h,treeContext:y,retryLane:1073741824},y=mo(18,null,null,0),y.stateNode=h,y.return=u,u.child=y,Gr=u,wi=null,!0):!1;default:return!1}}function vd(u){return(u.mode&1)!==0&&(u.flags&128)===0}function yd(u){if(Vn){var h=wi;if(h){var y=h;if(!eg(u,h)){if(vd(u))throw Error(t(418));h=Vo(y.nextSibling);var A=Gr;h&&eg(u,h)?Qm(A,y):(u.flags=u.flags&-4097|2,Vn=!1,Gr=u)}}else{if(vd(u))throw Error(t(418));u.flags=u.flags&-4097|2,Vn=!1,Gr=u}}}function xd(u){for(u=u.return;u!==null&&u.tag!==5&&u.tag!==3&&u.tag!==13;)u=u.return;Gr=u}function Nu(u){if(u!==Gr)return!1;if(!Vn)return xd(u),Vn=!0,!1;var h;if((h=u.tag!==3)&&!(h=u.tag!==5)&&(h=u.type,h=h!=="head"&&h!=="body"&&!Wm(u.type,u.memoizedProps)),h&&(h=wi)){if(vd(u))throw tg(),Error(t(418));for(;h;)Qm(u,h),h=Vo(h.nextSibling)}if(xd(u),u.tag===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(t(317));e:{for(u=u.nextSibling,h=0;u;){if(u.nodeType===8){var y=u.data;if(y==="/$"){if(h===0){wi=Vo(u.nextSibling);break e}h--}else y!=="$"&&y!=="$!"&&y!=="$?"||h++}u=u.nextSibling}wi=null}}else wi=Gr?Vo(u.stateNode.nextSibling):null;return!0}function tg(){for(var u=wi;u;)u=Vo(u.nextSibling)}function Us(){wi=Gr=null,Vn=!1}function ku(u){wa===null?wa=[u]:wa.push(u)}var n1=E.ReactCurrentBatchConfig;function sf(u,h,y){if(u=y.ref,u!==null&&typeof u!="function"&&typeof u!="object"){if(y._owner){if(y=y._owner,y){if(y.tag!==1)throw Error(t(309));var A=y.stateNode}if(!A)throw Error(t(147,u));var O=A,L=""+u;return h!==null&&h.ref!==null&&typeof h.ref=="function"&&h.ref._stringRef===L?h.ref:(h=function(j){var ae=O.refs;j===null?delete ae[L]:ae[L]=j},h._stringRef=L,h)}if(typeof u!="string")throw Error(t(284));if(!y._owner)throw Error(t(290,u))}return u}function lf(u,h){throw u=Object.prototype.toString.call(h),Error(t(31,u==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":u))}function ng(u){var h=u._init;return h(u._payload)}function rg(u){function h(ye,he){if(u){var xe=ye.deletions;xe===null?(ye.deletions=[he],ye.flags|=16):xe.push(he)}}function y(ye,he){if(!u)return null;for(;he!==null;)h(ye,he),he=he.sibling;return null}function A(ye,he){for(ye=new Map;he!==null;)he.key!==null?ye.set(he.key,he):ye.set(he.index,he),he=he.sibling;return ye}function O(ye,he){return ye=qu(ye,he),ye.index=0,ye.sibling=null,ye}function L(ye,he,xe){return ye.index=xe,u?(xe=ye.alternate,xe!==null?(xe=xe.index,xe<he?(ye.flags|=2,he):xe):(ye.flags|=2,he)):(ye.flags|=1048576,he)}function j(ye){return u&&ye.alternate===null&&(ye.flags|=2),ye}function ae(ye,he,xe,Je){return he===null||he.tag!==6?(he=b1(xe,ye.mode,Je),he.return=ye,he):(he=O(he,xe),he.return=ye,he)}function ce(ye,he,xe,Je){var Pt=xe.type;return Pt===I?$e(ye,he,xe.props.children,Je,xe.key):he!==null&&(he.elementType===Pt||typeof Pt=="object"&&Pt!==null&&Pt.$$typeof===J&&ng(Pt)===he.type)?(Je=O(he,xe.props),Je.ref=sf(ye,he,xe),Je.return=ye,Je):(Je=X0(xe.type,xe.key,xe.props,null,ye.mode,Je),Je.ref=sf(ye,he,xe),Je.return=ye,Je)}function we(ye,he,xe,Je){return he===null||he.tag!==4||he.stateNode.containerInfo!==xe.containerInfo||he.stateNode.implementation!==xe.implementation?(he=S1(xe,ye.mode,Je),he.return=ye,he):(he=O(he,xe.children||[]),he.return=ye,he)}function $e(ye,he,xe,Je,Pt){return he===null||he.tag!==7?(he=Af(xe,ye.mode,Je,Pt),he.return=ye,he):(he=O(he,xe),he.return=ye,he)}function qe(ye,he,xe){if(typeof he=="string"&&he!==""||typeof he=="number")return he=b1(""+he,ye.mode,xe),he.return=ye,he;if(typeof he=="object"&&he!==null){switch(he.$$typeof){case P:return xe=X0(he.type,he.key,he.props,null,ye.mode,xe),xe.ref=sf(ye,null,he),xe.return=ye,xe;case R:return he=S1(he,ye.mode,xe),he.return=ye,he;case J:var Je=he._init;return qe(ye,Je(he._payload),xe)}if(W(he)||X(he))return he=Af(he,ye.mode,xe,null),he.return=ye,he;lf(ye,he)}return null}function We(ye,he,xe,Je){var Pt=he!==null?he.key:null;if(typeof xe=="string"&&xe!==""||typeof xe=="number")return Pt!==null?null:ae(ye,he,""+xe,Je);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case P:return xe.key===Pt?ce(ye,he,xe,Je):null;case R:return xe.key===Pt?we(ye,he,xe,Je):null;case J:return Pt=xe._init,We(ye,he,Pt(xe._payload),Je)}if(W(xe)||X(xe))return Pt!==null?null:$e(ye,he,xe,Je,null);lf(ye,xe)}return null}function dt(ye,he,xe,Je,Pt){if(typeof Je=="string"&&Je!==""||typeof Je=="number")return ye=ye.get(xe)||null,ae(he,ye,""+Je,Pt);if(typeof Je=="object"&&Je!==null){switch(Je.$$typeof){case P:return ye=ye.get(Je.key===null?xe:Je.key)||null,ce(he,ye,Je,Pt);case R:return ye=ye.get(Je.key===null?xe:Je.key)||null,we(he,ye,Je,Pt);case J:var Lt=Je._init;return dt(ye,he,xe,Lt(Je._payload),Pt)}if(W(Je)||X(Je))return ye=ye.get(xe)||null,$e(he,ye,Je,Pt,null);lf(he,Je)}return null}function bt(ye,he,xe,Je){for(var Pt=null,Lt=null,Nt=he,qt=he=0,ci=null;Nt!==null&&qt<xe.length;qt++){Nt.index>qt?(ci=Nt,Nt=null):ci=Nt.sibling;var wn=We(ye,Nt,xe[qt],Je);if(wn===null){Nt===null&&(Nt=ci);break}u&&Nt&&wn.alternate===null&&h(ye,Nt),he=L(wn,he,qt),Lt===null?Pt=wn:Lt.sibling=wn,Lt=wn,Nt=ci}if(qt===xe.length)return y(ye,Nt),Vn&&$o(ye,qt),Pt;if(Nt===null){for(;qt<xe.length;qt++)Nt=qe(ye,xe[qt],Je),Nt!==null&&(he=L(Nt,he,qt),Lt===null?Pt=Nt:Lt.sibling=Nt,Lt=Nt);return Vn&&$o(ye,qt),Pt}for(Nt=A(ye,Nt);qt<xe.length;qt++)ci=dt(Nt,ye,qt,xe[qt],Je),ci!==null&&(u&&ci.alternate!==null&&Nt.delete(ci.key===null?qt:ci.key),he=L(ci,he,qt),Lt===null?Pt=ci:Lt.sibling=ci,Lt=ci);return u&&Nt.forEach(function(Xu){return h(ye,Xu)}),Vn&&$o(ye,qt),Pt}function St(ye,he,xe,Je){var Pt=X(xe);if(typeof Pt!="function")throw Error(t(150));if(xe=Pt.call(xe),xe==null)throw Error(t(151));for(var Lt=Pt=null,Nt=he,qt=he=0,ci=null,wn=xe.next();Nt!==null&&!wn.done;qt++,wn=xe.next()){Nt.index>qt?(ci=Nt,Nt=null):ci=Nt.sibling;var Xu=We(ye,Nt,wn.value,Je);if(Xu===null){Nt===null&&(Nt=ci);break}u&&Nt&&Xu.alternate===null&&h(ye,Nt),he=L(Xu,he,qt),Lt===null?Pt=Xu:Lt.sibling=Xu,Lt=Xu,Nt=ci}if(wn.done)return y(ye,Nt),Vn&&$o(ye,qt),Pt;if(Nt===null){for(;!wn.done;qt++,wn=xe.next())wn=qe(ye,wn.value,Je),wn!==null&&(he=L(wn,he,qt),Lt===null?Pt=wn:Lt.sibling=wn,Lt=wn);return Vn&&$o(ye,qt),Pt}for(Nt=A(ye,Nt);!wn.done;qt++,wn=xe.next())wn=dt(Nt,ye,qt,wn.value,Je),wn!==null&&(u&&wn.alternate!==null&&Nt.delete(wn.key===null?qt:wn.key),he=L(wn,he,qt),Lt===null?Pt=wn:Lt.sibling=wn,Lt=wn);return u&&Nt.forEach(function(L$){return h(ye,L$)}),Vn&&$o(ye,qt),Pt}function Tr(ye,he,xe,Je){if(typeof xe=="object"&&xe!==null&&xe.type===I&&xe.key===null&&(xe=xe.props.children),typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case P:e:{for(var Pt=xe.key,Lt=he;Lt!==null;){if(Lt.key===Pt){if(Pt=xe.type,Pt===I){if(Lt.tag===7){y(ye,Lt.sibling),he=O(Lt,xe.props.children),he.return=ye,ye=he;break e}}else if(Lt.elementType===Pt||typeof Pt=="object"&&Pt!==null&&Pt.$$typeof===J&&ng(Pt)===Lt.type){y(ye,Lt.sibling),he=O(Lt,xe.props),he.ref=sf(ye,Lt,xe),he.return=ye,ye=he;break e}y(ye,Lt);break}else h(ye,Lt);Lt=Lt.sibling}xe.type===I?(he=Af(xe.props.children,ye.mode,Je,xe.key),he.return=ye,ye=he):(Je=X0(xe.type,xe.key,xe.props,null,ye.mode,Je),Je.ref=sf(ye,he,xe),Je.return=ye,ye=Je)}return j(ye);case R:e:{for(Lt=xe.key;he!==null;){if(he.key===Lt)if(he.tag===4&&he.stateNode.containerInfo===xe.containerInfo&&he.stateNode.implementation===xe.implementation){y(ye,he.sibling),he=O(he,xe.children||[]),he.return=ye,ye=he;break e}else{y(ye,he);break}else h(ye,he);he=he.sibling}he=S1(xe,ye.mode,Je),he.return=ye,ye=he}return j(ye);case J:return Lt=xe._init,Tr(ye,he,Lt(xe._payload),Je)}if(W(xe))return bt(ye,he,xe,Je);if(X(xe))return St(ye,he,xe,Je);lf(ye,xe)}return typeof xe=="string"&&xe!==""||typeof xe=="number"?(xe=""+xe,he!==null&&he.tag===6?(y(ye,he.sibling),he=O(he,xe),he.return=ye,ye=he):(y(ye,he),he=b1(xe,ye.mode,Je),he.return=ye,ye=he),j(ye)):y(ye,he)}return Tr}var wl=rg(!0),uf=rg(!1),Ml=rr(null),Al=null,Xo=null,Uu=null;function Tl(){Uu=Xo=Al=null}function cf(u){var h=Ml.current;Un(Ml),u._currentValue=h}function ff(u,h,y){for(;u!==null;){var A=u.alternate;if((u.childLanes&h)!==h?(u.childLanes|=h,A!==null&&(A.childLanes|=h)):A!==null&&(A.childLanes&h)!==h&&(A.childLanes|=h),u===y)break;u=u.return}}function Fs(u,h){Al=u,Uu=Xo=null,u=u.dependencies,u!==null&&u.firstContext!==null&&((u.lanes&h)!==0&&(tn=!0),u.firstContext=null)}function Qi(u){var h=u._currentValue;if(Uu!==u)if(u={context:u,memoizedValue:h,next:null},Xo===null){if(Al===null)throw Error(t(308));Xo=u,Al.dependencies={lanes:0,firstContext:u}}else Xo=Xo.next=u;return h}var Yo=null;function ig(u){Yo===null?Yo=[u]:Yo.push(u)}function hf(u,h,y,A){var O=h.interleaved;return O===null?(y.next=y,ig(h)):(y.next=O.next,O.next=y),h.interleaved=y,Va(u,A)}function Va(u,h){u.lanes|=h;var y=u.alternate;for(y!==null&&(y.lanes|=h),y=u,u=u.return;u!==null;)u.childLanes|=h,y=u.alternate,y!==null&&(y.childLanes|=h),y=u,u=u.return;return y.tag===3?y.stateNode:null}var Pn=!1;function Jt(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hr(u,h){u=u.updateQueue,h.updateQueue===u&&(h.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,effects:u.effects})}function Cn(u,h){return{eventTime:u,lane:h,tag:0,payload:null,callback:null,next:null}}function $n(u,h,y){var A=u.updateQueue;if(A===null)return null;if(A=A.shared,(xn&2)!==0){var O=A.pending;return O===null?h.next=h:(h.next=O.next,O.next=h),A.pending=h,Va(u,y)}return O=A.interleaved,O===null?(h.next=h,ig(A)):(h.next=O.next,O.next=h),A.interleaved=h,Va(u,y)}function si(u,h,y){if(h=h.updateQueue,h!==null&&(h=h.shared,(y&4194240)!==0)){var A=h.lanes;A&=u.pendingLanes,y|=A,h.lanes=y,vu(u,y)}}function El(u,h){var y=u.updateQueue,A=u.alternate;if(A!==null&&(A=A.updateQueue,y===A)){var O=null,L=null;if(y=y.firstBaseUpdate,y!==null){do{var j={eventTime:y.eventTime,lane:y.lane,tag:y.tag,payload:y.payload,callback:y.callback,next:null};L===null?O=L=j:L=L.next=j,y=y.next}while(y!==null);L===null?O=L=h:L=L.next=h}else O=L=h;y={baseState:A.baseState,firstBaseUpdate:O,lastBaseUpdate:L,shared:A.shared,effects:A.effects},u.updateQueue=y;return}u=y.lastBaseUpdate,u===null?y.firstBaseUpdate=h:u.next=h,y.lastBaseUpdate=h}function ir(u,h,y,A){var O=u.updateQueue;Pn=!1;var L=O.firstBaseUpdate,j=O.lastBaseUpdate,ae=O.shared.pending;if(ae!==null){O.shared.pending=null;var ce=ae,we=ce.next;ce.next=null,j===null?L=we:j.next=we,j=ce;var $e=u.alternate;$e!==null&&($e=$e.updateQueue,ae=$e.lastBaseUpdate,ae!==j&&(ae===null?$e.firstBaseUpdate=we:ae.next=we,$e.lastBaseUpdate=ce))}if(L!==null){var qe=O.baseState;j=0,$e=we=ce=null,ae=L;do{var We=ae.lane,dt=ae.eventTime;if((A&We)===We){$e!==null&&($e=$e.next={eventTime:dt,lane:0,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null});e:{var bt=u,St=ae;switch(We=h,dt=y,St.tag){case 1:if(bt=St.payload,typeof bt=="function"){qe=bt.call(dt,qe,We);break e}qe=bt;break e;case 3:bt.flags=bt.flags&-65537|128;case 0:if(bt=St.payload,We=typeof bt=="function"?bt.call(dt,qe,We):bt,We==null)break e;qe=$({},qe,We);break e;case 2:Pn=!0}}ae.callback!==null&&ae.lane!==0&&(u.flags|=64,We=O.effects,We===null?O.effects=[ae]:We.push(ae))}else dt={eventTime:dt,lane:We,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null},$e===null?(we=$e=dt,ce=qe):$e=$e.next=dt,j|=We;if(ae=ae.next,ae===null){if(ae=O.shared.pending,ae===null)break;We=ae,ae=We.next,We.next=null,O.lastBaseUpdate=We,O.shared.pending=null}}while(!0);if($e===null&&(ce=qe),O.baseState=ce,O.firstBaseUpdate=we,O.lastBaseUpdate=$e,h=O.shared.interleaved,h!==null){O=h;do j|=O.lane,O=O.next;while(O!==h)}else L===null&&(O.shared.lanes=0);bf|=j,u.lanes=j,u.memoizedState=qe}}function Fu(u,h,y){if(u=h.effects,h.effects=null,u!==null)for(h=0;h<u.length;h++){var A=u[h],O=A.callback;if(O!==null){if(A.callback=null,A=y,typeof O!="function")throw Error(t(191,O));O.call(A)}}}var co={},ea=rr(co),Pl=rr(co),Ko=rr(co);function gr(u){if(u===co)throw Error(t(174));return u}function df(u,h){switch(Rn(Ko,h),Rn(Pl,u),Rn(ea,co),u=h.nodeType,u){case 9:case 11:h=(h=h.documentElement)?h.namespaceURI:lt(null,"");break;default:u=u===8?h.parentNode:h,h=u.namespaceURI||null,u=u.tagName,h=lt(h,u)}Un(ea),Rn(ea,h)}function Bs(){Un(ea),Un(Pl),Un(Ko)}function Cl(u){gr(Ko.current);var h=gr(ea.current),y=lt(h,u.type);h!==y&&(Rn(Pl,u),Rn(ea,y))}function Bu(u){Pl.current===u&&(Un(ea),Un(Pl))}var Hn=rr(0);function Ha(u){for(var h=u;h!==null;){if(h.tag===13){var y=h.memoizedState;if(y!==null&&(y=y.dehydrated,y===null||y.data==="$?"||y.data==="$!"))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var zu=[];function fo(){for(var u=0;u<zu.length;u++)zu[u]._workInProgressVersionPrimary=null;zu.length=0}var Ol=E.ReactCurrentDispatcher,Rl=E.ReactCurrentBatchConfig,Zo=0,Fn=null,ar=null,yn=null,Wa=!1,li=!1,zs=0,Ni=0;function $r(){throw Error(t(321))}function pf(u,h){if(h===null)return!1;for(var y=0;y<h.length&&y<u.length;y++)if(!Ki(u[y],h[y]))return!1;return!0}function mf(u,h,y,A,O,L){if(Zo=L,Fn=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,Ol.current=u===null||u.memoizedState===null?I0:D0,u=y(A,O),li){L=0;do{if(li=!1,zs=0,25<=L)throw Error(t(301));L+=1,yn=ar=null,h.updateQueue=null,Ol.current=L0,u=y(A,O)}while(li)}if(Ol.current=Td,h=ar!==null&&ar.next!==null,Zo=0,yn=ar=Fn=null,Wa=!1,h)throw Error(t(300));return u}function ag(){var u=zs!==0;return zs=0,u}function qr(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yn===null?Fn.memoizedState=yn=u:yn=yn.next=u,yn}function ta(){if(ar===null){var u=Fn.alternate;u=u!==null?u.memoizedState:null}else u=ar.next;var h=yn===null?Fn.memoizedState:yn.next;if(h!==null)yn=h,ar=u;else{if(u===null)throw Error(t(310));ar=u,u={memoizedState:ar.memoizedState,baseState:ar.baseState,baseQueue:ar.baseQueue,queue:ar.queue,next:null},yn===null?Fn.memoizedState=yn=u:yn=yn.next=u}return yn}function ju(u,h){return typeof h=="function"?h(u):h}function gf(u){var h=ta(),y=h.queue;if(y===null)throw Error(t(311));y.lastRenderedReducer=u;var A=ar,O=A.baseQueue,L=y.pending;if(L!==null){if(O!==null){var j=O.next;O.next=L.next,L.next=j}A.baseQueue=O=L,y.pending=null}if(O!==null){L=O.next,A=A.baseState;var ae=j=null,ce=null,we=L;do{var $e=we.lane;if((Zo&$e)===$e)ce!==null&&(ce=ce.next={lane:0,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null}),A=we.hasEagerState?we.eagerState:u(A,we.action);else{var qe={lane:$e,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null};ce===null?(ae=ce=qe,j=A):ce=ce.next=qe,Fn.lanes|=$e,bf|=$e}we=we.next}while(we!==null&&we!==L);ce===null?j=A:ce.next=ae,Ki(A,h.memoizedState)||(tn=!0),h.memoizedState=A,h.baseState=j,h.baseQueue=ce,y.lastRenderedState=A}if(u=y.interleaved,u!==null){O=u;do L=O.lane,Fn.lanes|=L,bf|=L,O=O.next;while(O!==u)}else O===null&&(y.lanes=0);return[h.memoizedState,y.dispatch]}function Jo(u){var h=ta(),y=h.queue;if(y===null)throw Error(t(311));y.lastRenderedReducer=u;var A=y.dispatch,O=y.pending,L=h.memoizedState;if(O!==null){y.pending=null;var j=O=O.next;do L=u(L,j.action),j=j.next;while(j!==O);Ki(L,h.memoizedState)||(tn=!0),h.memoizedState=L,h.baseQueue===null&&(h.baseState=L),y.lastRenderedState=L}return[L,A]}function og(){}function sg(u,h){var y=Fn,A=ta(),O=h(),L=!Ki(A.memoizedState,O);if(L&&(A.memoizedState=O,tn=!0),A=A.queue,cg(T0.bind(null,y,A,u),[u]),A.getSnapshot!==h||L||yn!==null&&yn.memoizedState.tag&1){if(y.flags|=2048,Ga(9,vf.bind(null,y,A,O,h),void 0,null),ui===null)throw Error(t(349));(Zo&30)!==0||_d(y,h,O)}return O}function _d(u,h,y){u.flags|=16384,u={getSnapshot:h,value:y},h=Fn.updateQueue,h===null?(h={lastEffect:null,stores:null},Fn.updateQueue=h,h.stores=[u]):(y=h.stores,y===null?h.stores=[u]:y.push(u))}function vf(u,h,y,A){h.value=y,h.getSnapshot=A,E0(h)&&lg(u)}function T0(u,h,y){return y(function(){E0(h)&&lg(u)})}function E0(u){var h=u.getSnapshot;u=u.value;try{var y=h();return!Ki(u,y)}catch{return!0}}function lg(u){var h=Va(u,1);h!==null&&rs(h,u,1,-1)}function ug(u){var h=qr();return typeof u=="function"&&(u=u()),h.memoizedState=h.baseState=u,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ju,lastRenderedState:u},h.queue=u,u=u.dispatch=Il.bind(null,Fn,u),[h.memoizedState,u]}function Ga(u,h,y,A){return u={tag:u,create:h,destroy:y,deps:A,next:null},h=Fn.updateQueue,h===null?(h={lastEffect:null,stores:null},Fn.updateQueue=h,h.lastEffect=u.next=u):(y=h.lastEffect,y===null?h.lastEffect=u.next=u:(A=y.next,y.next=u,u.next=A,h.lastEffect=u)),u}function P0(){return ta().memoizedState}function ho(u,h,y,A){var O=qr();Fn.flags|=u,O.memoizedState=Ga(1|h,y,void 0,A===void 0?null:A)}function yf(u,h,y,A){var O=ta();A=A===void 0?null:A;var L=void 0;if(ar!==null){var j=ar.memoizedState;if(L=j.destroy,A!==null&&pf(A,j.deps)){O.memoizedState=Ga(h,y,L,A);return}}Fn.flags|=u,O.memoizedState=Ga(1|h,y,L,A)}function Mi(u,h){return ho(8390656,8,u,h)}function cg(u,h){return yf(2048,8,u,h)}function fg(u,h){return yf(4,2,u,h)}function C0(u,h){return yf(4,4,u,h)}function O0(u,h){if(typeof h=="function")return u=u(),h(u),function(){h(null)};if(h!=null)return u=u(),h.current=u,function(){h.current=null}}function hg(u,h,y){return y=y!=null?y.concat([u]):null,yf(4,4,O0.bind(null,h,u),y)}function bd(){}function R0(u,h){var y=ta();h=h===void 0?null:h;var A=y.memoizedState;return A!==null&&h!==null&&pf(h,A[1])?A[0]:(y.memoizedState=[u,h],u)}function na(u,h){var y=ta();h=h===void 0?null:h;var A=y.memoizedState;return A!==null&&h!==null&&pf(h,A[1])?A[0]:(u=u(),y.memoizedState=[u,h],u)}function Sd(u,h,y){return(Zo&21)===0?(u.baseState&&(u.baseState=!1,tn=!0),u.memoizedState=y):(Ki(y,h)||(y=Oi(),Fn.lanes|=y,bf|=y,u.baseState=!0),h)}function r1(u,h){var y=vn;vn=y!==0&&4>y?y:4,u(!0);var A=Rl.transition;Rl.transition={};try{u(!1),h()}finally{vn=y,Rl.transition=A}}function Qo(){return ta().memoizedState}function wd(u,h,y){var A=Gu(u);if(y={lane:A,action:y,hasEagerState:!1,eagerState:null,next:null},xf(u))Md(h,y);else if(y=hf(u,h,y,A),y!==null){var O=ia();rs(y,u,A,O),Ad(y,h,A)}}function Il(u,h,y){var A=Gu(u),O={lane:A,action:y,hasEagerState:!1,eagerState:null,next:null};if(xf(u))Md(h,O);else{var L=u.alternate;if(u.lanes===0&&(L===null||L.lanes===0)&&(L=h.lastRenderedReducer,L!==null))try{var j=h.lastRenderedState,ae=L(j,y);if(O.hasEagerState=!0,O.eagerState=ae,Ki(ae,j)){var ce=h.interleaved;ce===null?(O.next=O,ig(h)):(O.next=ce.next,ce.next=O),h.interleaved=O;return}}catch{}y=hf(u,h,O,A),y!==null&&(O=ia(),rs(y,u,A,O),Ad(y,h,A))}}function xf(u){var h=u.alternate;return u===Fn||h!==null&&h===Fn}function Md(u,h){li=Wa=!0;var y=u.pending;y===null?h.next=h:(h.next=y.next,y.next=h),u.pending=h}function Ad(u,h,y){if((y&4194240)!==0){var A=h.lanes;A&=u.pendingLanes,y|=A,h.lanes=y,vu(u,y)}}var Td={readContext:Qi,useCallback:$r,useContext:$r,useEffect:$r,useImperativeHandle:$r,useInsertionEffect:$r,useLayoutEffect:$r,useMemo:$r,useReducer:$r,useRef:$r,useState:$r,useDebugValue:$r,useDeferredValue:$r,useTransition:$r,useMutableSource:$r,useSyncExternalStore:$r,useId:$r,unstable_isNewReconciler:!1},I0={readContext:Qi,useCallback:function(u,h){return qr().memoizedState=[u,h===void 0?null:h],u},useContext:Qi,useEffect:Mi,useImperativeHandle:function(u,h,y){return y=y!=null?y.concat([u]):null,ho(4194308,4,O0.bind(null,h,u),y)},useLayoutEffect:function(u,h){return ho(4194308,4,u,h)},useInsertionEffect:function(u,h){return ho(4,2,u,h)},useMemo:function(u,h){var y=qr();return h=h===void 0?null:h,u=u(),y.memoizedState=[u,h],u},useReducer:function(u,h,y){var A=qr();return h=y!==void 0?y(h):h,A.memoizedState=A.baseState=h,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:h},A.queue=u,u=u.dispatch=wd.bind(null,Fn,u),[A.memoizedState,u]},useRef:function(u){var h=qr();return u={current:u},h.memoizedState=u},useState:ug,useDebugValue:bd,useDeferredValue:function(u){return qr().memoizedState=u},useTransition:function(){var u=ug(!1),h=u[0];return u=r1.bind(null,u[1]),qr().memoizedState=u,[h,u]},useMutableSource:function(){},useSyncExternalStore:function(u,h,y){var A=Fn,O=qr();if(Vn){if(y===void 0)throw Error(t(407));y=y()}else{if(y=h(),ui===null)throw Error(t(349));(Zo&30)!==0||_d(A,h,y)}O.memoizedState=y;var L={value:y,getSnapshot:h};return O.queue=L,Mi(T0.bind(null,A,L,u),[u]),A.flags|=2048,Ga(9,vf.bind(null,A,L,y,h),void 0,null),y},useId:function(){var u=qr(),h=ui.identifierPrefix;if(Vn){var y=Sa,A=et;y=(A&~(1<<32-tr(A)-1)).toString(32)+y,h=":"+h+"R"+y,y=zs++,0<y&&(h+="H"+y.toString(32)),h+=":"}else y=Ni++,h=":"+h+"r"+y.toString(32)+":";return u.memoizedState=h},unstable_isNewReconciler:!1},D0={readContext:Qi,useCallback:R0,useContext:Qi,useEffect:cg,useImperativeHandle:hg,useInsertionEffect:fg,useLayoutEffect:C0,useMemo:na,useReducer:gf,useRef:P0,useState:function(){return gf(ju)},useDebugValue:bd,useDeferredValue:function(u){var h=ta();return Sd(h,ar.memoizedState,u)},useTransition:function(){var u=gf(ju)[0],h=ta().memoizedState;return[u,h]},useMutableSource:og,useSyncExternalStore:sg,useId:Qo,unstable_isNewReconciler:!1},L0={readContext:Qi,useCallback:R0,useContext:Qi,useEffect:cg,useImperativeHandle:hg,useInsertionEffect:fg,useLayoutEffect:C0,useMemo:na,useReducer:Jo,useRef:P0,useState:function(){return Jo(ju)},useDebugValue:bd,useDeferredValue:function(u){var h=ta();return ar===null?h.memoizedState=u:Sd(h,ar.memoizedState,u)},useTransition:function(){var u=Jo(ju)[0],h=ta().memoizedState;return[u,h]},useMutableSource:og,useSyncExternalStore:sg,useId:Qo,unstable_isNewReconciler:!1};function Ma(u,h){if(u&&u.defaultProps){h=$({},h),u=u.defaultProps;for(var y in u)h[y]===void 0&&(h[y]=u[y]);return h}return h}function _f(u,h,y,A){h=u.memoizedState,y=y(A,h),y=y==null?h:$({},h,y),u.memoizedState=y,u.lanes===0&&(u.updateQueue.baseState=y)}var Ed={isMounted:function(u){return(u=u._reactInternals)?Lo(u)===u:!1},enqueueSetState:function(u,h,y){u=u._reactInternals;var A=ia(),O=Gu(u),L=Cn(A,O);L.payload=h,y!=null&&(L.callback=y),h=$n(u,L,O),h!==null&&(rs(h,u,O,A),si(h,u,O))},enqueueReplaceState:function(u,h,y){u=u._reactInternals;var A=ia(),O=Gu(u),L=Cn(A,O);L.tag=1,L.payload=h,y!=null&&(L.callback=y),h=$n(u,L,O),h!==null&&(rs(h,u,O,A),si(h,u,O))},enqueueForceUpdate:function(u,h){u=u._reactInternals;var y=ia(),A=Gu(u),O=Cn(y,A);O.tag=2,h!=null&&(O.callback=h),h=$n(u,O,A),h!==null&&(rs(h,u,A,y),si(h,u,A))}};function N0(u,h,y,A,O,L,j){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(A,L,j):h.prototype&&h.prototype.isPureReactComponent?!dl(y,A)||!dl(O,L):!0}function p(u,h,y){var A=!1,O=Wo,L=h.contextType;return typeof L=="object"&&L!==null?L=Qi(L):(O=oi(h)?Go:Wr.current,A=h.contextTypes,L=(A=A!=null)?xl(u,O):Wo),h=new h(y,L),u.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Ed,u.stateNode=h,h._reactInternals=u,A&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=O,u.__reactInternalMemoizedMaskedChildContext=L),h}function g(u,h,y,A){u=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(y,A),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(y,A),h.state!==u&&Ed.enqueueReplaceState(h,h.state,null)}function w(u,h,y,A){var O=u.stateNode;O.props=y,O.state=u.memoizedState,O.refs={},Jt(u);var L=h.contextType;typeof L=="object"&&L!==null?O.context=Qi(L):(L=oi(h)?Go:Wr.current,O.context=xl(u,L)),O.state=u.memoizedState,L=h.getDerivedStateFromProps,typeof L=="function"&&(_f(u,h,L,y),O.state=u.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof O.getSnapshotBeforeUpdate=="function"||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(h=O.state,typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount(),h!==O.state&&Ed.enqueueReplaceState(O,O.state,null),ir(u,y,O,A),O.state=u.memoizedState),typeof O.componentDidMount=="function"&&(u.flags|=4194308)}function C(u,h){try{var y="",A=h;do y+=Ce(A),A=A.return;while(A);var O=y}catch(L){O=`
Error generating stack: `+L.message+`
`+L.stack}return{value:u,source:h,stack:O,digest:null}}function D(u,h,y){return{value:u,source:null,stack:y??null,digest:h??null}}function F(u,h){try{console.error(h.value)}catch(y){setTimeout(function(){throw y})}}var ne=typeof WeakMap=="function"?WeakMap:Map;function de(u,h,y){y=Cn(-1,y),y.tag=3,y.payload={element:null};var A=h.value;return y.callback=function(){V0||(V0=!0,d1=A),F(u,h)},y}function Oe(u,h,y){y=Cn(-1,y),y.tag=3;var A=u.type.getDerivedStateFromError;if(typeof A=="function"){var O=h.value;y.payload=function(){return A(O)},y.callback=function(){F(u,h)}}var L=u.stateNode;return L!==null&&typeof L.componentDidCatch=="function"&&(y.callback=function(){F(u,h),typeof A!="function"&&(Hu===null?Hu=new Set([this]):Hu.add(this));var j=h.stack;this.componentDidCatch(h.value,{componentStack:j!==null?j:""})}),y}function Ye(u,h,y){var A=u.pingCache;if(A===null){A=u.pingCache=new ne;var O=new Set;A.set(h,O)}else O=A.get(h),O===void 0&&(O=new Set,A.set(h,O));O.has(y)||(O.add(y),u=w$.bind(null,u,h,y),h.then(u,u))}function mt(u){do{var h;if((h=u.tag===13)&&(h=u.memoizedState,h=h!==null?h.dehydrated!==null:!0),h)return u;u=u.return}while(u!==null);return null}function Xt(u,h,y,A,O){return(u.mode&1)===0?(u===h?u.flags|=65536:(u.flags|=128,y.flags|=131072,y.flags&=-52805,y.tag===1&&(y.alternate===null?y.tag=17:(h=Cn(-1,1),h.tag=2,$n(y,h,1))),y.lanes|=1),u):(u.flags|=65536,u.lanes=O,u)}var It=E.ReactCurrentOwner,tn=!1;function ut(u,h,y,A){h.child=u===null?uf(h,null,y,A):wl(h,u.child,y,A)}function Xr(u,h,y,A,O){y=y.render;var L=h.ref;return Fs(h,O),A=mf(u,h,y,A,L,O),y=ag(),u!==null&&!tn?(h.updateQueue=u.updateQueue,h.flags&=-2053,u.lanes&=~O,Dl(u,h,O)):(Vn&&y&&Jm(h),h.flags|=1,ut(u,h,A,O),h.child)}function ra(u,h,y,A,O){if(u===null){var L=y.type;return typeof L=="function"&&!_1(L)&&L.defaultProps===void 0&&y.compare===null&&y.defaultProps===void 0?(h.tag=15,h.type=L,be(u,h,L,A,O)):(u=X0(y.type,null,A,h,h.mode,O),u.ref=h.ref,u.return=h,h.child=u)}if(L=u.child,(u.lanes&O)===0){var j=L.memoizedProps;if(y=y.compare,y=y!==null?y:dl,y(j,A)&&u.ref===h.ref)return Dl(u,h,O)}return h.flags|=1,u=qu(L,A),u.ref=h.ref,u.return=h,h.child=u}function be(u,h,y,A,O){if(u!==null){var L=u.memoizedProps;if(dl(L,A)&&u.ref===h.ref)if(tn=!1,h.pendingProps=A=L,(u.lanes&O)!==0)(u.flags&131072)!==0&&(tn=!0);else return h.lanes=u.lanes,Dl(u,h,O)}return ot(u,h,y,A,O)}function pe(u,h,y){var A=h.pendingProps,O=A.children,L=u!==null?u.memoizedState:null;if(A.mode==="hidden")if((h.mode&1)===0)h.memoizedState={baseLanes:0,cachePool:null,transitions:null},Rn(Cd,$a),$a|=y;else{if((y&1073741824)===0)return u=L!==null?L.baseLanes|y:y,h.lanes=h.childLanes=1073741824,h.memoizedState={baseLanes:u,cachePool:null,transitions:null},h.updateQueue=null,Rn(Cd,$a),$a|=u,null;h.memoizedState={baseLanes:0,cachePool:null,transitions:null},A=L!==null?L.baseLanes:y,Rn(Cd,$a),$a|=A}else L!==null?(A=L.baseLanes|y,h.memoizedState=null):A=y,Rn(Cd,$a),$a|=A;return ut(u,h,O,y),h.child}function Pe(u,h){var y=h.ref;(u===null&&y!==null||u!==null&&u.ref!==y)&&(h.flags|=512,h.flags|=2097152)}function ot(u,h,y,A,O){var L=oi(y)?Go:Wr.current;return L=xl(h,L),Fs(h,O),y=mf(u,h,y,A,L,O),A=ag(),u!==null&&!tn?(h.updateQueue=u.updateQueue,h.flags&=-2053,u.lanes&=~O,Dl(u,h,O)):(Vn&&A&&Jm(h),h.flags|=1,ut(u,h,y,O),h.child)}function wt(u,h,y,A,O){if(oi(y)){var L=!0;_l(h)}else L=!1;if(Fs(h,O),h.stateNode===null)U0(u,h),p(h,y,A),w(h,y,A,O),A=!0;else if(u===null){var j=h.stateNode,ae=h.memoizedProps;j.props=ae;var ce=j.context,we=y.contextType;typeof we=="object"&&we!==null?we=Qi(we):(we=oi(y)?Go:Wr.current,we=xl(h,we));var $e=y.getDerivedStateFromProps,qe=typeof $e=="function"||typeof j.getSnapshotBeforeUpdate=="function";qe||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(ae!==A||ce!==we)&&g(h,j,A,we),Pn=!1;var We=h.memoizedState;j.state=We,ir(h,A,j,O),ce=h.memoizedState,ae!==A||We!==ce||bi.current||Pn?(typeof $e=="function"&&(_f(h,y,$e,A),ce=h.memoizedState),(ae=Pn||N0(h,y,ae,A,We,ce,we))?(qe||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(h.flags|=4194308)):(typeof j.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=A,h.memoizedState=ce),j.props=A,j.state=ce,j.context=we,A=ae):(typeof j.componentDidMount=="function"&&(h.flags|=4194308),A=!1)}else{j=h.stateNode,hr(u,h),ae=h.memoizedProps,we=h.type===h.elementType?ae:Ma(h.type,ae),j.props=we,qe=h.pendingProps,We=j.context,ce=y.contextType,typeof ce=="object"&&ce!==null?ce=Qi(ce):(ce=oi(y)?Go:Wr.current,ce=xl(h,ce));var dt=y.getDerivedStateFromProps;($e=typeof dt=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(ae!==qe||We!==ce)&&g(h,j,A,ce),Pn=!1,We=h.memoizedState,j.state=We,ir(h,A,j,O);var bt=h.memoizedState;ae!==qe||We!==bt||bi.current||Pn?(typeof dt=="function"&&(_f(h,y,dt,A),bt=h.memoizedState),(we=Pn||N0(h,y,we,A,We,bt,ce)||!1)?($e||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(A,bt,ce),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(A,bt,ce)),typeof j.componentDidUpdate=="function"&&(h.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof j.componentDidUpdate!="function"||ae===u.memoizedProps&&We===u.memoizedState||(h.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||ae===u.memoizedProps&&We===u.memoizedState||(h.flags|=1024),h.memoizedProps=A,h.memoizedState=bt),j.props=A,j.state=bt,j.context=ce,A=we):(typeof j.componentDidUpdate!="function"||ae===u.memoizedProps&&We===u.memoizedState||(h.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||ae===u.memoizedProps&&We===u.memoizedState||(h.flags|=1024),A=!1)}return Kt(u,h,y,A,L,O)}function Kt(u,h,y,A,O,L){Pe(u,h);var j=(h.flags&128)!==0;if(!A&&!j)return O&&Km(h,y,!1),Dl(u,h,L);A=h.stateNode,It.current=h;var ae=j&&typeof y.getDerivedStateFromError!="function"?null:A.render();return h.flags|=1,u!==null&&j?(h.child=wl(h,u.child,null,L),h.child=wl(h,null,ae,L)):ut(u,h,ae,L),h.memoizedState=A.state,O&&Km(h,y,!0),h.child}function Yt(u){var h=u.stateNode;h.pendingContext?Ym(u,h.pendingContext,h.pendingContext!==h.context):h.context&&Ym(u,h.context,!1),df(u,h.containerInfo)}function gn(u,h,y,A,O){return Us(),ku(O),h.flags|=256,ut(u,h,y,A),h.child}var vr={dehydrated:null,treeContext:null,retryLane:0};function mn(u){return{baseLanes:u,cachePool:null,transitions:null}}function es(u,h,y){var A=h.pendingProps,O=Hn.current,L=!1,j=(h.flags&128)!==0,ae;if((ae=j)||(ae=u!==null&&u.memoizedState===null?!1:(O&2)!==0),ae?(L=!0,h.flags&=-129):(u===null||u.memoizedState!==null)&&(O|=1),Rn(Hn,O&1),u===null)return yd(h),u=h.memoizedState,u!==null&&(u=u.dehydrated,u!==null)?((h.mode&1)===0?h.lanes=1:u.data==="$!"?h.lanes=8:h.lanes=1073741824,null):(j=A.children,u=A.fallback,L?(A=h.mode,L=h.child,j={mode:"hidden",children:j},(A&1)===0&&L!==null?(L.childLanes=0,L.pendingProps=j):L=Y0(j,A,0,null),u=Af(u,A,y,null),L.return=h,u.return=h,L.sibling=u,h.child=L,h.child.memoizedState=mn(y),h.memoizedState=vr,u):dg(h,j));if(O=u.memoizedState,O!==null&&(ae=O.dehydrated,ae!==null))return f$(u,h,j,A,ae,O,y);if(L){L=A.fallback,j=h.mode,O=u.child,ae=O.sibling;var ce={mode:"hidden",children:A.children};return(j&1)===0&&h.child!==O?(A=h.child,A.childLanes=0,A.pendingProps=ce,h.deletions=null):(A=qu(O,ce),A.subtreeFlags=O.subtreeFlags&14680064),ae!==null?L=qu(ae,L):(L=Af(L,j,y,null),L.flags|=2),L.return=h,A.return=h,A.sibling=L,h.child=A,A=L,L=h.child,j=u.child.memoizedState,j=j===null?mn(y):{baseLanes:j.baseLanes|y,cachePool:null,transitions:j.transitions},L.memoizedState=j,L.childLanes=u.childLanes&~y,h.memoizedState=vr,A}return L=u.child,u=L.sibling,A=qu(L,{mode:"visible",children:A.children}),(h.mode&1)===0&&(A.lanes=y),A.return=h,A.sibling=null,u!==null&&(y=h.deletions,y===null?(h.deletions=[u],h.flags|=16):y.push(u)),h.child=A,h.memoizedState=null,A}function dg(u,h){return h=Y0({mode:"visible",children:h},u.mode,0,null),h.return=u,u.child=h}function k0(u,h,y,A){return A!==null&&ku(A),wl(h,u.child,null,y),u=dg(h,h.pendingProps.children),u.flags|=2,h.memoizedState=null,u}function f$(u,h,y,A,O,L,j){if(y)return h.flags&256?(h.flags&=-257,A=D(Error(t(422))),k0(u,h,j,A)):h.memoizedState!==null?(h.child=u.child,h.flags|=128,null):(L=A.fallback,O=h.mode,A=Y0({mode:"visible",children:A.children},O,0,null),L=Af(L,O,j,null),L.flags|=2,A.return=h,L.return=h,A.sibling=L,h.child=A,(h.mode&1)!==0&&wl(h,u.child,null,j),h.child.memoizedState=mn(j),h.memoizedState=vr,L);if((h.mode&1)===0)return k0(u,h,j,null);if(O.data==="$!"){if(A=O.nextSibling&&O.nextSibling.dataset,A)var ae=A.dgst;return A=ae,L=Error(t(419)),A=D(L,A,void 0),k0(u,h,j,A)}if(ae=(j&u.childLanes)!==0,tn||ae){if(A=ui,A!==null){switch(j&-j){case 4:O=2;break;case 16:O=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:O=32;break;case 536870912:O=268435456;break;default:O=0}O=(O&(A.suspendedLanes|j))!==0?0:O,O!==0&&O!==L.retryLane&&(L.retryLane=O,Va(u,O),rs(A,u,O,-1))}return x1(),A=D(Error(t(421))),k0(u,h,j,A)}return O.data==="$?"?(h.flags|=128,h.child=u.child,h=M$.bind(null,u),O._reactRetry=h,null):(u=L.treeContext,wi=Vo(O.nextSibling),Gr=h,Vn=!0,wa=null,u!==null&&(Si[kr++]=et,Si[kr++]=Sa,Si[kr++]=Sl,et=u.id,Sa=u.overflow,Sl=h),h=dg(h,A.children),h.flags|=4096,h)}function nI(u,h,y){u.lanes|=h;var A=u.alternate;A!==null&&(A.lanes|=h),ff(u.return,h,y)}function i1(u,h,y,A,O){var L=u.memoizedState;L===null?u.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:A,tail:y,tailMode:O}:(L.isBackwards=h,L.rendering=null,L.renderingStartTime=0,L.last=A,L.tail=y,L.tailMode=O)}function rI(u,h,y){var A=h.pendingProps,O=A.revealOrder,L=A.tail;if(ut(u,h,A.children,y),A=Hn.current,(A&2)!==0)A=A&1|2,h.flags|=128;else{if(u!==null&&(u.flags&128)!==0)e:for(u=h.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&nI(u,y,h);else if(u.tag===19)nI(u,y,h);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===h)break e;for(;u.sibling===null;){if(u.return===null||u.return===h)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}A&=1}if(Rn(Hn,A),(h.mode&1)===0)h.memoizedState=null;else switch(O){case"forwards":for(y=h.child,O=null;y!==null;)u=y.alternate,u!==null&&Ha(u)===null&&(O=y),y=y.sibling;y=O,y===null?(O=h.child,h.child=null):(O=y.sibling,y.sibling=null),i1(h,!1,O,y,L);break;case"backwards":for(y=null,O=h.child,h.child=null;O!==null;){if(u=O.alternate,u!==null&&Ha(u)===null){h.child=O;break}u=O.sibling,O.sibling=y,y=O,O=u}i1(h,!0,y,null,L);break;case"together":i1(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function U0(u,h){(h.mode&1)===0&&u!==null&&(u.alternate=null,h.alternate=null,h.flags|=2)}function Dl(u,h,y){if(u!==null&&(h.dependencies=u.dependencies),bf|=h.lanes,(y&h.childLanes)===0)return null;if(u!==null&&h.child!==u.child)throw Error(t(153));if(h.child!==null){for(u=h.child,y=qu(u,u.pendingProps),h.child=y,y.return=h;u.sibling!==null;)u=u.sibling,y=y.sibling=qu(u,u.pendingProps),y.return=h;y.sibling=null}return h.child}function h$(u,h,y){switch(h.tag){case 3:Yt(h),Us();break;case 5:Cl(h);break;case 1:oi(h.type)&&_l(h);break;case 4:df(h,h.stateNode.containerInfo);break;case 10:var A=h.type._context,O=h.memoizedProps.value;Rn(Ml,A._currentValue),A._currentValue=O;break;case 13:if(A=h.memoizedState,A!==null)return A.dehydrated!==null?(Rn(Hn,Hn.current&1),h.flags|=128,null):(y&h.child.childLanes)!==0?es(u,h,y):(Rn(Hn,Hn.current&1),u=Dl(u,h,y),u!==null?u.sibling:null);Rn(Hn,Hn.current&1);break;case 19:if(A=(y&h.childLanes)!==0,(u.flags&128)!==0){if(A)return rI(u,h,y);h.flags|=128}if(O=h.memoizedState,O!==null&&(O.rendering=null,O.tail=null,O.lastEffect=null),Rn(Hn,Hn.current),A)break;return null;case 22:case 23:return h.lanes=0,pe(u,h,y)}return Dl(u,h,y)}var iI,a1,aI,oI;iI=function(u,h){for(var y=h.child;y!==null;){if(y.tag===5||y.tag===6)u.appendChild(y.stateNode);else if(y.tag!==4&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===h)break;for(;y.sibling===null;){if(y.return===null||y.return===h)return;y=y.return}y.sibling.return=y.return,y=y.sibling}},a1=function(){},aI=function(u,h,y,A){var O=u.memoizedProps;if(O!==A){u=h.stateNode,gr(ea.current);var L=null;switch(y){case"input":O=_e(u,O),A=_e(u,A),L=[];break;case"select":O=$({},O,{value:void 0}),A=$({},A,{value:void 0}),L=[];break;case"textarea":O=ze(u,O),A=ze(u,A),L=[];break;default:typeof O.onClick!="function"&&typeof A.onClick=="function"&&(u.onclick=tf)}ue(y,A);var j;y=null;for(we in O)if(!A.hasOwnProperty(we)&&O.hasOwnProperty(we)&&O[we]!=null)if(we==="style"){var ae=O[we];for(j in ae)ae.hasOwnProperty(j)&&(y||(y={}),y[j]="")}else we!=="dangerouslySetInnerHTML"&&we!=="children"&&we!=="suppressContentEditableWarning"&&we!=="suppressHydrationWarning"&&we!=="autoFocus"&&(i.hasOwnProperty(we)?L||(L=[]):(L=L||[]).push(we,null));for(we in A){var ce=A[we];if(ae=O?.[we],A.hasOwnProperty(we)&&ce!==ae&&(ce!=null||ae!=null))if(we==="style")if(ae){for(j in ae)!ae.hasOwnProperty(j)||ce&&ce.hasOwnProperty(j)||(y||(y={}),y[j]="");for(j in ce)ce.hasOwnProperty(j)&&ae[j]!==ce[j]&&(y||(y={}),y[j]=ce[j])}else y||(L||(L=[]),L.push(we,y)),y=ce;else we==="dangerouslySetInnerHTML"?(ce=ce?ce.__html:void 0,ae=ae?ae.__html:void 0,ce!=null&&ae!==ce&&(L=L||[]).push(we,ce)):we==="children"?typeof ce!="string"&&typeof ce!="number"||(L=L||[]).push(we,""+ce):we!=="suppressContentEditableWarning"&&we!=="suppressHydrationWarning"&&(i.hasOwnProperty(we)?(ce!=null&&we==="onScroll"&&kn("scroll",u),L||ae===ce||(L=[])):(L=L||[]).push(we,ce))}y&&(L=L||[]).push("style",y);var we=L;(h.updateQueue=we)&&(h.flags|=4)}},oI=function(u,h,y,A){y!==A&&(h.flags|=4)};function pg(u,h){if(!Vn)switch(u.tailMode){case"hidden":h=u.tail;for(var y=null;h!==null;)h.alternate!==null&&(y=h),h=h.sibling;y===null?u.tail=null:y.sibling=null;break;case"collapsed":y=u.tail;for(var A=null;y!==null;)y.alternate!==null&&(A=y),y=y.sibling;A===null?h||u.tail===null?u.tail=null:u.tail.sibling=null:A.sibling=null}}function ki(u){var h=u.alternate!==null&&u.alternate.child===u.child,y=0,A=0;if(h)for(var O=u.child;O!==null;)y|=O.lanes|O.childLanes,A|=O.subtreeFlags&14680064,A|=O.flags&14680064,O.return=u,O=O.sibling;else for(O=u.child;O!==null;)y|=O.lanes|O.childLanes,A|=O.subtreeFlags,A|=O.flags,O.return=u,O=O.sibling;return u.subtreeFlags|=A,u.childLanes=y,h}function d$(u,h,y){var A=h.pendingProps;switch(qo(h),h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ki(h),null;case 1:return oi(h.type)&&nf(),ki(h),null;case 3:return A=h.stateNode,Bs(),Un(bi),Un(Wr),fo(),A.pendingContext&&(A.context=A.pendingContext,A.pendingContext=null),(u===null||u.child===null)&&(Nu(h)?h.flags|=4:u===null||u.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,wa!==null&&(g1(wa),wa=null))),a1(u,h),ki(h),null;case 5:Bu(h);var O=gr(Ko.current);if(y=h.type,u!==null&&h.stateNode!=null)aI(u,h,y,A,O),u.ref!==h.ref&&(h.flags|=512,h.flags|=2097152);else{if(!A){if(h.stateNode===null)throw Error(t(166));return ki(h),null}if(u=gr(ea.current),Nu(h)){A=h.stateNode,y=h.type;var L=h.memoizedProps;switch(A[Ar]=h,A[Lu]=L,u=(h.mode&1)!==0,y){case"dialog":kn("cancel",A),kn("close",A);break;case"iframe":case"object":case"embed":kn("load",A);break;case"video":case"audio":for(O=0;O<Ns.length;O++)kn(Ns[O],A);break;case"source":kn("error",A);break;case"img":case"image":case"link":kn("error",A),kn("load",A);break;case"details":kn("toggle",A);break;case"input":Fe(A,L),kn("invalid",A);break;case"select":A._wrapperState={wasMultiple:!!L.multiple},kn("invalid",A);break;case"textarea":je(A,L),kn("invalid",A)}ue(y,L),O=null;for(var j in L)if(L.hasOwnProperty(j)){var ae=L[j];j==="children"?typeof ae=="string"?A.textContent!==ae&&(L.suppressHydrationWarning!==!0&&ef(A.textContent,ae,u),O=["children",ae]):typeof ae=="number"&&A.textContent!==""+ae&&(L.suppressHydrationWarning!==!0&&ef(A.textContent,ae,u),O=["children",""+ae]):i.hasOwnProperty(j)&&ae!=null&&j==="onScroll"&&kn("scroll",A)}switch(y){case"input":Ge(A),Qe(A,L,!0);break;case"textarea":Ge(A),xt(A);break;case"select":case"option":break;default:typeof L.onClick=="function"&&(A.onclick=tf)}A=O,h.updateQueue=A,A!==null&&(h.flags|=4)}else{j=O.nodeType===9?O:O.ownerDocument,u==="http://www.w3.org/1999/xhtml"&&(u=tt(y)),u==="http://www.w3.org/1999/xhtml"?y==="script"?(u=j.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild)):typeof A.is=="string"?u=j.createElement(y,{is:A.is}):(u=j.createElement(y),y==="select"&&(j=u,A.multiple?j.multiple=!0:A.size&&(j.size=A.size))):u=j.createElementNS(u,y),u[Ar]=h,u[Lu]=A,iI(u,h,!1,!1),h.stateNode=u;e:{switch(j=Ue(y,A),y){case"dialog":kn("cancel",u),kn("close",u),O=A;break;case"iframe":case"object":case"embed":kn("load",u),O=A;break;case"video":case"audio":for(O=0;O<Ns.length;O++)kn(Ns[O],u);O=A;break;case"source":kn("error",u),O=A;break;case"img":case"image":case"link":kn("error",u),kn("load",u),O=A;break;case"details":kn("toggle",u),O=A;break;case"input":Fe(u,A),O=_e(u,A),kn("invalid",u);break;case"option":O=A;break;case"select":u._wrapperState={wasMultiple:!!A.multiple},O=$({},A,{value:void 0}),kn("invalid",u);break;case"textarea":je(u,A),O=ze(u,A),kn("invalid",u);break;default:O=A}ue(y,O),ae=O;for(L in ae)if(ae.hasOwnProperty(L)){var ce=ae[L];L==="style"?Ct(u,ce):L==="dangerouslySetInnerHTML"?(ce=ce?ce.__html:void 0,ce!=null&&Vt(u,ce)):L==="children"?typeof ce=="string"?(y!=="textarea"||ce!=="")&&Ve(u,ce):typeof ce=="number"&&Ve(u,""+ce):L!=="suppressContentEditableWarning"&&L!=="suppressHydrationWarning"&&L!=="autoFocus"&&(i.hasOwnProperty(L)?ce!=null&&L==="onScroll"&&kn("scroll",u):ce!=null&&T(u,L,ce,j))}switch(y){case"input":Ge(u),Qe(u,A,!1);break;case"textarea":Ge(u),xt(u);break;case"option":A.value!=null&&u.setAttribute("value",""+Ke(A.value));break;case"select":u.multiple=!!A.multiple,L=A.value,L!=null?ge(u,!!A.multiple,L,!1):A.defaultValue!=null&&ge(u,!!A.multiple,A.defaultValue,!0);break;default:typeof O.onClick=="function"&&(u.onclick=tf)}switch(y){case"button":case"input":case"select":case"textarea":A=!!A.autoFocus;break e;case"img":A=!0;break e;default:A=!1}}A&&(h.flags|=4)}h.ref!==null&&(h.flags|=512,h.flags|=2097152)}return ki(h),null;case 6:if(u&&h.stateNode!=null)oI(u,h,u.memoizedProps,A);else{if(typeof A!="string"&&h.stateNode===null)throw Error(t(166));if(y=gr(Ko.current),gr(ea.current),Nu(h)){if(A=h.stateNode,y=h.memoizedProps,A[Ar]=h,(L=A.nodeValue!==y)&&(u=Gr,u!==null))switch(u.tag){case 3:ef(A.nodeValue,y,(u.mode&1)!==0);break;case 5:u.memoizedProps.suppressHydrationWarning!==!0&&ef(A.nodeValue,y,(u.mode&1)!==0)}L&&(h.flags|=4)}else A=(y.nodeType===9?y:y.ownerDocument).createTextNode(A),A[Ar]=h,h.stateNode=A}return ki(h),null;case 13:if(Un(Hn),A=h.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(Vn&&wi!==null&&(h.mode&1)!==0&&(h.flags&128)===0)tg(),Us(),h.flags|=98560,L=!1;else if(L=Nu(h),A!==null&&A.dehydrated!==null){if(u===null){if(!L)throw Error(t(318));if(L=h.memoizedState,L=L!==null?L.dehydrated:null,!L)throw Error(t(317));L[Ar]=h}else Us(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;ki(h),L=!1}else wa!==null&&(g1(wa),wa=null),L=!0;if(!L)return h.flags&65536?h:null}return(h.flags&128)!==0?(h.lanes=y,h):(A=A!==null,A!==(u!==null&&u.memoizedState!==null)&&A&&(h.child.flags|=8192,(h.mode&1)!==0&&(u===null||(Hn.current&1)!==0?Yr===0&&(Yr=3):x1())),h.updateQueue!==null&&(h.flags|=4),ki(h),null);case 4:return Bs(),a1(u,h),u===null&&Ru(h.stateNode.containerInfo),ki(h),null;case 10:return cf(h.type._context),ki(h),null;case 17:return oi(h.type)&&nf(),ki(h),null;case 19:if(Un(Hn),L=h.memoizedState,L===null)return ki(h),null;if(A=(h.flags&128)!==0,j=L.rendering,j===null)if(A)pg(L,!1);else{if(Yr!==0||u!==null&&(u.flags&128)!==0)for(u=h.child;u!==null;){if(j=Ha(u),j!==null){for(h.flags|=128,pg(L,!1),A=j.updateQueue,A!==null&&(h.updateQueue=A,h.flags|=4),h.subtreeFlags=0,A=y,y=h.child;y!==null;)L=y,u=A,L.flags&=14680066,j=L.alternate,j===null?(L.childLanes=0,L.lanes=u,L.child=null,L.subtreeFlags=0,L.memoizedProps=null,L.memoizedState=null,L.updateQueue=null,L.dependencies=null,L.stateNode=null):(L.childLanes=j.childLanes,L.lanes=j.lanes,L.child=j.child,L.subtreeFlags=0,L.deletions=null,L.memoizedProps=j.memoizedProps,L.memoizedState=j.memoizedState,L.updateQueue=j.updateQueue,L.type=j.type,u=j.dependencies,L.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),y=y.sibling;return Rn(Hn,Hn.current&1|2),h.child}u=u.sibling}L.tail!==null&&ht()>Od&&(h.flags|=128,A=!0,pg(L,!1),h.lanes=4194304)}else{if(!A)if(u=Ha(j),u!==null){if(h.flags|=128,A=!0,y=u.updateQueue,y!==null&&(h.updateQueue=y,h.flags|=4),pg(L,!0),L.tail===null&&L.tailMode==="hidden"&&!j.alternate&&!Vn)return ki(h),null}else 2*ht()-L.renderingStartTime>Od&&y!==1073741824&&(h.flags|=128,A=!0,pg(L,!1),h.lanes=4194304);L.isBackwards?(j.sibling=h.child,h.child=j):(y=L.last,y!==null?y.sibling=j:h.child=j,L.last=j)}return L.tail!==null?(h=L.tail,L.rendering=h,L.tail=h.sibling,L.renderingStartTime=ht(),h.sibling=null,y=Hn.current,Rn(Hn,A?y&1|2:y&1),h):(ki(h),null);case 22:case 23:return y1(),A=h.memoizedState!==null,u!==null&&u.memoizedState!==null!==A&&(h.flags|=8192),A&&(h.mode&1)!==0?($a&1073741824)!==0&&(ki(h),h.subtreeFlags&6&&(h.flags|=8192)):ki(h),null;case 24:return null;case 25:return null}throw Error(t(156,h.tag))}function p$(u,h){switch(qo(h),h.tag){case 1:return oi(h.type)&&nf(),u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 3:return Bs(),Un(bi),Un(Wr),fo(),u=h.flags,(u&65536)!==0&&(u&128)===0?(h.flags=u&-65537|128,h):null;case 5:return Bu(h),null;case 13:if(Un(Hn),u=h.memoizedState,u!==null&&u.dehydrated!==null){if(h.alternate===null)throw Error(t(340));Us()}return u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 19:return Un(Hn),null;case 4:return Bs(),null;case 10:return cf(h.type._context),null;case 22:case 23:return y1(),null;case 24:return null;default:return null}}var F0=!1,Ui=!1,m$=typeof WeakSet=="function"?WeakSet:Set,vt=null;function Pd(u,h){var y=u.ref;if(y!==null)if(typeof y=="function")try{y(null)}catch(A){yr(u,h,A)}else y.current=null}function o1(u,h,y){try{y()}catch(A){yr(u,h,A)}}var sI=!1;function g$(u,h){if(Du=ga,u=Jn(),Ir(u)){if("selectionStart"in u)var y={start:u.selectionStart,end:u.selectionEnd};else e:{y=(y=u.ownerDocument)&&y.defaultView||window;var A=y.getSelection&&y.getSelection();if(A&&A.rangeCount!==0){y=A.anchorNode;var O=A.anchorOffset,L=A.focusNode;A=A.focusOffset;try{y.nodeType,L.nodeType}catch{y=null;break e}var j=0,ae=-1,ce=-1,we=0,$e=0,qe=u,We=null;t:for(;;){for(var dt;qe!==y||O!==0&&qe.nodeType!==3||(ae=j+O),qe!==L||A!==0&&qe.nodeType!==3||(ce=j+A),qe.nodeType===3&&(j+=qe.nodeValue.length),(dt=qe.firstChild)!==null;)We=qe,qe=dt;for(;;){if(qe===u)break t;if(We===y&&++we===O&&(ae=j),We===L&&++$e===A&&(ce=j),(dt=qe.nextSibling)!==null)break;qe=We,We=qe.parentNode}qe=dt}y=ae===-1||ce===-1?null:{start:ae,end:ce}}else y=null}y=y||{start:0,end:0}}else y=null;for(Hm={focusedElem:u,selectionRange:y},ga=!1,vt=h;vt!==null;)if(h=vt,u=h.child,(h.subtreeFlags&1028)!==0&&u!==null)u.return=h,vt=u;else for(;vt!==null;){h=vt;try{var bt=h.alternate;if((h.flags&1024)!==0)switch(h.tag){case 0:case 11:case 15:break;case 1:if(bt!==null){var St=bt.memoizedProps,Tr=bt.memoizedState,ye=h.stateNode,he=ye.getSnapshotBeforeUpdate(h.elementType===h.type?St:Ma(h.type,St),Tr);ye.__reactInternalSnapshotBeforeUpdate=he}break;case 3:var xe=h.stateNode.containerInfo;xe.nodeType===1?xe.textContent="":xe.nodeType===9&&xe.documentElement&&xe.removeChild(xe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Je){yr(h,h.return,Je)}if(u=h.sibling,u!==null){u.return=h.return,vt=u;break}vt=h.return}return bt=sI,sI=!1,bt}function mg(u,h,y){var A=h.updateQueue;if(A=A!==null?A.lastEffect:null,A!==null){var O=A=A.next;do{if((O.tag&u)===u){var L=O.destroy;O.destroy=void 0,L!==void 0&&o1(h,y,L)}O=O.next}while(O!==A)}}function B0(u,h){if(h=h.updateQueue,h=h!==null?h.lastEffect:null,h!==null){var y=h=h.next;do{if((y.tag&u)===u){var A=y.create;y.destroy=A()}y=y.next}while(y!==h)}}function s1(u){var h=u.ref;if(h!==null){var y=u.stateNode;u.tag,u=y,typeof h=="function"?h(u):h.current=u}}function lI(u){var h=u.alternate;h!==null&&(u.alternate=null,lI(h)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(h=u.stateNode,h!==null&&(delete h[Ar],delete h[Lu],delete h[yl],delete h[fd],delete h[hd])),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function uI(u){return u.tag===5||u.tag===3||u.tag===4}function cI(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||uI(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function l1(u,h,y){var A=u.tag;if(A===5||A===6)u=u.stateNode,h?y.nodeType===8?y.parentNode.insertBefore(u,h):y.insertBefore(u,h):(y.nodeType===8?(h=y.parentNode,h.insertBefore(u,y)):(h=y,h.appendChild(u)),y=y._reactRootContainer,y!=null||h.onclick!==null||(h.onclick=tf));else if(A!==4&&(u=u.child,u!==null))for(l1(u,h,y),u=u.sibling;u!==null;)l1(u,h,y),u=u.sibling}function u1(u,h,y){var A=u.tag;if(A===5||A===6)u=u.stateNode,h?y.insertBefore(u,h):y.appendChild(u);else if(A!==4&&(u=u.child,u!==null))for(u1(u,h,y),u=u.sibling;u!==null;)u1(u,h,y),u=u.sibling}var Ai=null,ts=!1;function Vu(u,h,y){for(y=y.child;y!==null;)fI(u,h,y),y=y.sibling}function fI(u,h,y){if(Et&&typeof Et.onCommitFiberUnmount=="function")try{Et.onCommitFiberUnmount(ur,y)}catch{}switch(y.tag){case 5:Ui||Pd(y,h);case 6:var A=Ai,O=ts;Ai=null,Vu(u,h,y),Ai=A,ts=O,Ai!==null&&(ts?(u=Ai,y=y.stateNode,u.nodeType===8?u.parentNode.removeChild(y):u.removeChild(y)):Ai.removeChild(y.stateNode));break;case 18:Ai!==null&&(ts?(u=Ai,y=y.stateNode,u.nodeType===8?cd(u.parentNode,y):u.nodeType===1&&cd(u,y),Hc(u)):cd(Ai,y.stateNode));break;case 4:A=Ai,O=ts,Ai=y.stateNode.containerInfo,ts=!0,Vu(u,h,y),Ai=A,ts=O;break;case 0:case 11:case 14:case 15:if(!Ui&&(A=y.updateQueue,A!==null&&(A=A.lastEffect,A!==null))){O=A=A.next;do{var L=O,j=L.destroy;L=L.tag,j!==void 0&&((L&2)!==0||(L&4)!==0)&&o1(y,h,j),O=O.next}while(O!==A)}Vu(u,h,y);break;case 1:if(!Ui&&(Pd(y,h),A=y.stateNode,typeof A.componentWillUnmount=="function"))try{A.props=y.memoizedProps,A.state=y.memoizedState,A.componentWillUnmount()}catch(ae){yr(y,h,ae)}Vu(u,h,y);break;case 21:Vu(u,h,y);break;case 22:y.mode&1?(Ui=(A=Ui)||y.memoizedState!==null,Vu(u,h,y),Ui=A):Vu(u,h,y);break;default:Vu(u,h,y)}}function hI(u){var h=u.updateQueue;if(h!==null){u.updateQueue=null;var y=u.stateNode;y===null&&(y=u.stateNode=new m$),h.forEach(function(A){var O=A$.bind(null,u,A);y.has(A)||(y.add(A),A.then(O,O))})}}function ns(u,h){var y=h.deletions;if(y!==null)for(var A=0;A<y.length;A++){var O=y[A];try{var L=u,j=h,ae=j;e:for(;ae!==null;){switch(ae.tag){case 5:Ai=ae.stateNode,ts=!1;break e;case 3:Ai=ae.stateNode.containerInfo,ts=!0;break e;case 4:Ai=ae.stateNode.containerInfo,ts=!0;break e}ae=ae.return}if(Ai===null)throw Error(t(160));fI(L,j,O),Ai=null,ts=!1;var ce=O.alternate;ce!==null&&(ce.return=null),O.return=null}catch(we){yr(O,h,we)}}if(h.subtreeFlags&12854)for(h=h.child;h!==null;)dI(h,u),h=h.sibling}function dI(u,h){var y=u.alternate,A=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:if(ns(h,u),js(u),A&4){try{mg(3,u,u.return),B0(3,u)}catch(St){yr(u,u.return,St)}try{mg(5,u,u.return)}catch(St){yr(u,u.return,St)}}break;case 1:ns(h,u),js(u),A&512&&y!==null&&Pd(y,y.return);break;case 5:if(ns(h,u),js(u),A&512&&y!==null&&Pd(y,y.return),u.flags&32){var O=u.stateNode;try{Ve(O,"")}catch(St){yr(u,u.return,St)}}if(A&4&&(O=u.stateNode,O!=null)){var L=u.memoizedProps,j=y!==null?y.memoizedProps:L,ae=u.type,ce=u.updateQueue;if(u.updateQueue=null,ce!==null)try{ae==="input"&&L.type==="radio"&&L.name!=null&&Ae(O,L),Ue(ae,j);var we=Ue(ae,L);for(j=0;j<ce.length;j+=2){var $e=ce[j],qe=ce[j+1];$e==="style"?Ct(O,qe):$e==="dangerouslySetInnerHTML"?Vt(O,qe):$e==="children"?Ve(O,qe):T(O,$e,qe,we)}switch(ae){case"input":it(O,L);break;case"textarea":ke(O,L);break;case"select":var We=O._wrapperState.wasMultiple;O._wrapperState.wasMultiple=!!L.multiple;var dt=L.value;dt!=null?ge(O,!!L.multiple,dt,!1):We!==!!L.multiple&&(L.defaultValue!=null?ge(O,!!L.multiple,L.defaultValue,!0):ge(O,!!L.multiple,L.multiple?[]:"",!1))}O[Lu]=L}catch(St){yr(u,u.return,St)}}break;case 6:if(ns(h,u),js(u),A&4){if(u.stateNode===null)throw Error(t(162));O=u.stateNode,L=u.memoizedProps;try{O.nodeValue=L}catch(St){yr(u,u.return,St)}}break;case 3:if(ns(h,u),js(u),A&4&&y!==null&&y.memoizedState.isDehydrated)try{Hc(h.containerInfo)}catch(St){yr(u,u.return,St)}break;case 4:ns(h,u),js(u);break;case 13:ns(h,u),js(u),O=u.child,O.flags&8192&&(L=O.memoizedState!==null,O.stateNode.isHidden=L,!L||O.alternate!==null&&O.alternate.memoizedState!==null||(h1=ht())),A&4&&hI(u);break;case 22:if($e=y!==null&&y.memoizedState!==null,u.mode&1?(Ui=(we=Ui)||$e,ns(h,u),Ui=we):ns(h,u),js(u),A&8192){if(we=u.memoizedState!==null,(u.stateNode.isHidden=we)&&!$e&&(u.mode&1)!==0)for(vt=u,$e=u.child;$e!==null;){for(qe=vt=$e;vt!==null;){switch(We=vt,dt=We.child,We.tag){case 0:case 11:case 14:case 15:mg(4,We,We.return);break;case 1:Pd(We,We.return);var bt=We.stateNode;if(typeof bt.componentWillUnmount=="function"){A=We,y=We.return;try{h=A,bt.props=h.memoizedProps,bt.state=h.memoizedState,bt.componentWillUnmount()}catch(St){yr(A,y,St)}}break;case 5:Pd(We,We.return);break;case 22:if(We.memoizedState!==null){gI(qe);continue}}dt!==null?(dt.return=We,vt=dt):gI(qe)}$e=$e.sibling}e:for($e=null,qe=u;;){if(qe.tag===5){if($e===null){$e=qe;try{O=qe.stateNode,we?(L=O.style,typeof L.setProperty=="function"?L.setProperty("display","none","important"):L.display="none"):(ae=qe.stateNode,ce=qe.memoizedProps.style,j=ce!=null&&ce.hasOwnProperty("display")?ce.display:null,ae.style.display=Ft("display",j))}catch(St){yr(u,u.return,St)}}}else if(qe.tag===6){if($e===null)try{qe.stateNode.nodeValue=we?"":qe.memoizedProps}catch(St){yr(u,u.return,St)}}else if((qe.tag!==22&&qe.tag!==23||qe.memoizedState===null||qe===u)&&qe.child!==null){qe.child.return=qe,qe=qe.child;continue}if(qe===u)break e;for(;qe.sibling===null;){if(qe.return===null||qe.return===u)break e;$e===qe&&($e=null),qe=qe.return}$e===qe&&($e=null),qe.sibling.return=qe.return,qe=qe.sibling}}break;case 19:ns(h,u),js(u),A&4&&hI(u);break;case 21:break;default:ns(h,u),js(u)}}function js(u){var h=u.flags;if(h&2){try{e:{for(var y=u.return;y!==null;){if(uI(y)){var A=y;break e}y=y.return}throw Error(t(160))}switch(A.tag){case 5:var O=A.stateNode;A.flags&32&&(Ve(O,""),A.flags&=-33);var L=cI(u);u1(u,L,O);break;case 3:case 4:var j=A.stateNode.containerInfo,ae=cI(u);l1(u,ae,j);break;default:throw Error(t(161))}}catch(ce){yr(u,u.return,ce)}u.flags&=-3}h&4096&&(u.flags&=-4097)}function v$(u,h,y){vt=u,pI(u)}function pI(u,h,y){for(var A=(u.mode&1)!==0;vt!==null;){var O=vt,L=O.child;if(O.tag===22&&A){var j=O.memoizedState!==null||F0;if(!j){var ae=O.alternate,ce=ae!==null&&ae.memoizedState!==null||Ui;ae=F0;var we=Ui;if(F0=j,(Ui=ce)&&!we)for(vt=O;vt!==null;)j=vt,ce=j.child,j.tag===22&&j.memoizedState!==null?vI(O):ce!==null?(ce.return=j,vt=ce):vI(O);for(;L!==null;)vt=L,pI(L),L=L.sibling;vt=O,F0=ae,Ui=we}mI(u)}else(O.subtreeFlags&8772)!==0&&L!==null?(L.return=O,vt=L):mI(u)}}function mI(u){for(;vt!==null;){var h=vt;if((h.flags&8772)!==0){var y=h.alternate;try{if((h.flags&8772)!==0)switch(h.tag){case 0:case 11:case 15:Ui||B0(5,h);break;case 1:var A=h.stateNode;if(h.flags&4&&!Ui)if(y===null)A.componentDidMount();else{var O=h.elementType===h.type?y.memoizedProps:Ma(h.type,y.memoizedProps);A.componentDidUpdate(O,y.memoizedState,A.__reactInternalSnapshotBeforeUpdate)}var L=h.updateQueue;L!==null&&Fu(h,L,A);break;case 3:var j=h.updateQueue;if(j!==null){if(y=null,h.child!==null)switch(h.child.tag){case 5:y=h.child.stateNode;break;case 1:y=h.child.stateNode}Fu(h,j,y)}break;case 5:var ae=h.stateNode;if(y===null&&h.flags&4){y=ae;var ce=h.memoizedProps;switch(h.type){case"button":case"input":case"select":case"textarea":ce.autoFocus&&y.focus();break;case"img":ce.src&&(y.src=ce.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(h.memoizedState===null){var we=h.alternate;if(we!==null){var $e=we.memoizedState;if($e!==null){var qe=$e.dehydrated;qe!==null&&Hc(qe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Ui||h.flags&512&&s1(h)}catch(We){yr(h,h.return,We)}}if(h===u){vt=null;break}if(y=h.sibling,y!==null){y.return=h.return,vt=y;break}vt=h.return}}function gI(u){for(;vt!==null;){var h=vt;if(h===u){vt=null;break}var y=h.sibling;if(y!==null){y.return=h.return,vt=y;break}vt=h.return}}function vI(u){for(;vt!==null;){var h=vt;try{switch(h.tag){case 0:case 11:case 15:var y=h.return;try{B0(4,h)}catch(ce){yr(h,y,ce)}break;case 1:var A=h.stateNode;if(typeof A.componentDidMount=="function"){var O=h.return;try{A.componentDidMount()}catch(ce){yr(h,O,ce)}}var L=h.return;try{s1(h)}catch(ce){yr(h,L,ce)}break;case 5:var j=h.return;try{s1(h)}catch(ce){yr(h,j,ce)}}}catch(ce){yr(h,h.return,ce)}if(h===u){vt=null;break}var ae=h.sibling;if(ae!==null){ae.return=h.return,vt=ae;break}vt=h.return}}var y$=Math.ceil,z0=E.ReactCurrentDispatcher,c1=E.ReactCurrentOwner,po=E.ReactCurrentBatchConfig,xn=0,ui=null,Ur=null,Ti=0,$a=0,Cd=rr(0),Yr=0,gg=null,bf=0,j0=0,f1=0,vg=null,Aa=null,h1=0,Od=1/0,Ll=null,V0=!1,d1=null,Hu=null,H0=!1,Wu=null,W0=0,yg=0,p1=null,G0=-1,$0=0;function ia(){return(xn&6)!==0?ht():G0!==-1?G0:G0=ht()}function Gu(u){return(u.mode&1)===0?1:(xn&2)!==0&&Ti!==0?Ti&-Ti:n1.transition!==null?($0===0&&($0=Oi()),$0):(u=vn,u!==0||(u=window.event,u=u===void 0?16:f0(u.type)),u)}function rs(u,h,y,A){if(50<yg)throw yg=0,p1=null,Error(t(185));Bc(u,y,A),((xn&2)===0||u!==ui)&&(u===ui&&((xn&2)===0&&(j0|=y),Yr===4&&$u(u,Ti)),Ta(u,A),y===1&&xn===0&&(h.mode&1)===0&&(Od=ht()+500,af&&uo()))}function Ta(u,h){var y=u.callbackNode;Vr(u,h);var A=Xi(u,u===ui?Ti:0);if(A===0)y!==null&&ct(y),u.callbackNode=null,u.callbackPriority=0;else if(h=A&-A,u.callbackPriority!==h){if(y!=null&&ct(y),h===1)u.tag===0?A0(xI.bind(null,u)):of(xI.bind(null,u)),t1(function(){(xn&6)===0&&uo()}),y=null;else{switch(yu(A)){case 1:y=Bt;break;case 4:y=Ht;break;case 16:y=Ln;break;case 536870912:y=Nn;break;default:y=Ln}y=EI(y,yI.bind(null,u))}u.callbackPriority=h,u.callbackNode=y}}function yI(u,h){if(G0=-1,$0=0,(xn&6)!==0)throw Error(t(327));var y=u.callbackNode;if(Rd()&&u.callbackNode!==y)return null;var A=Xi(u,u===ui?Ti:0);if(A===0)return null;if((A&30)!==0||(A&u.expiredLanes)!==0||h)h=q0(u,A);else{h=A;var O=xn;xn|=2;var L=bI();(ui!==u||Ti!==h)&&(Ll=null,Od=ht()+500,wf(u,h));do try{b$();break}catch(ae){_I(u,ae)}while(!0);Tl(),z0.current=L,xn=O,Ur!==null?h=0:(ui=null,Ti=0,h=Yr)}if(h!==0){if(h===2&&(O=Ps(u),O!==0&&(A=O,h=m1(u,O))),h===1)throw y=gg,wf(u,0),$u(u,A),Ta(u,ht()),y;if(h===6)$u(u,A);else{if(O=u.current.alternate,(A&30)===0&&!x$(O)&&(h=q0(u,A),h===2&&(L=Ps(u),L!==0&&(A=L,h=m1(u,L))),h===1))throw y=gg,wf(u,0),$u(u,A),Ta(u,ht()),y;switch(u.finishedWork=O,u.finishedLanes=A,h){case 0:case 1:throw Error(t(345));case 2:Mf(u,Aa,Ll);break;case 3:if($u(u,A),(A&130023424)===A&&(h=h1+500-ht(),10<h)){if(Xi(u,0)!==0)break;if(O=u.suspendedLanes,(O&A)!==A){ia(),u.pingedLanes|=u.suspendedLanes&O;break}u.timeoutHandle=Gm(Mf.bind(null,u,Aa,Ll),h);break}Mf(u,Aa,Ll);break;case 4:if($u(u,A),(A&4194240)===A)break;for(h=u.eventTimes,O=-1;0<A;){var j=31-tr(A);L=1<<j,j=h[j],j>O&&(O=j),A&=~L}if(A=O,A=ht()-A,A=(120>A?120:480>A?480:1080>A?1080:1920>A?1920:3e3>A?3e3:4320>A?4320:1960*y$(A/1960))-A,10<A){u.timeoutHandle=Gm(Mf.bind(null,u,Aa,Ll),A);break}Mf(u,Aa,Ll);break;case 5:Mf(u,Aa,Ll);break;default:throw Error(t(329))}}}return Ta(u,ht()),u.callbackNode===y?yI.bind(null,u):null}function m1(u,h){var y=vg;return u.current.memoizedState.isDehydrated&&(wf(u,h).flags|=256),u=q0(u,h),u!==2&&(h=Aa,Aa=y,h!==null&&g1(h)),u}function g1(u){Aa===null?Aa=u:Aa.push.apply(Aa,u)}function x$(u){for(var h=u;;){if(h.flags&16384){var y=h.updateQueue;if(y!==null&&(y=y.stores,y!==null))for(var A=0;A<y.length;A++){var O=y[A],L=O.getSnapshot;O=O.value;try{if(!Ki(L(),O))return!1}catch{return!1}}}if(y=h.child,h.subtreeFlags&16384&&y!==null)y.return=h,h=y;else{if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function $u(u,h){for(h&=~f1,h&=~j0,u.suspendedLanes|=h,u.pingedLanes&=~h,u=u.expirationTimes;0<h;){var y=31-tr(h),A=1<<y;u[y]=-1,h&=~A}}function xI(u){if((xn&6)!==0)throw Error(t(327));Rd();var h=Xi(u,0);if((h&1)===0)return Ta(u,ht()),null;var y=q0(u,h);if(u.tag!==0&&y===2){var A=Ps(u);A!==0&&(h=A,y=m1(u,A))}if(y===1)throw y=gg,wf(u,0),$u(u,h),Ta(u,ht()),y;if(y===6)throw Error(t(345));return u.finishedWork=u.current.alternate,u.finishedLanes=h,Mf(u,Aa,Ll),Ta(u,ht()),null}function v1(u,h){var y=xn;xn|=1;try{return u(h)}finally{xn=y,xn===0&&(Od=ht()+500,af&&uo())}}function Sf(u){Wu!==null&&Wu.tag===0&&(xn&6)===0&&Rd();var h=xn;xn|=1;var y=po.transition,A=vn;try{if(po.transition=null,vn=1,u)return u()}finally{vn=A,po.transition=y,xn=h,(xn&6)===0&&uo()}}function y1(){$a=Cd.current,Un(Cd)}function wf(u,h){u.finishedWork=null,u.finishedLanes=0;var y=u.timeoutHandle;if(y!==-1&&(u.timeoutHandle=-1,$m(y)),Ur!==null)for(y=Ur.return;y!==null;){var A=y;switch(qo(A),A.tag){case 1:A=A.type.childContextTypes,A!=null&&nf();break;case 3:Bs(),Un(bi),Un(Wr),fo();break;case 5:Bu(A);break;case 4:Bs();break;case 13:Un(Hn);break;case 19:Un(Hn);break;case 10:cf(A.type._context);break;case 22:case 23:y1()}y=y.return}if(ui=u,Ur=u=qu(u.current,null),Ti=$a=h,Yr=0,gg=null,f1=j0=bf=0,Aa=vg=null,Yo!==null){for(h=0;h<Yo.length;h++)if(y=Yo[h],A=y.interleaved,A!==null){y.interleaved=null;var O=A.next,L=y.pending;if(L!==null){var j=L.next;L.next=O,A.next=j}y.pending=A}Yo=null}return u}function _I(u,h){do{var y=Ur;try{if(Tl(),Ol.current=Td,Wa){for(var A=Fn.memoizedState;A!==null;){var O=A.queue;O!==null&&(O.pending=null),A=A.next}Wa=!1}if(Zo=0,yn=ar=Fn=null,li=!1,zs=0,c1.current=null,y===null||y.return===null){Yr=1,gg=h,Ur=null;break}e:{var L=u,j=y.return,ae=y,ce=h;if(h=Ti,ae.flags|=32768,ce!==null&&typeof ce=="object"&&typeof ce.then=="function"){var we=ce,$e=ae,qe=$e.tag;if(($e.mode&1)===0&&(qe===0||qe===11||qe===15)){var We=$e.alternate;We?($e.updateQueue=We.updateQueue,$e.memoizedState=We.memoizedState,$e.lanes=We.lanes):($e.updateQueue=null,$e.memoizedState=null)}var dt=mt(j);if(dt!==null){dt.flags&=-257,Xt(dt,j,ae,L,h),dt.mode&1&&Ye(L,we,h),h=dt,ce=we;var bt=h.updateQueue;if(bt===null){var St=new Set;St.add(ce),h.updateQueue=St}else bt.add(ce);break e}else{if((h&1)===0){Ye(L,we,h),x1();break e}ce=Error(t(426))}}else if(Vn&&ae.mode&1){var Tr=mt(j);if(Tr!==null){(Tr.flags&65536)===0&&(Tr.flags|=256),Xt(Tr,j,ae,L,h),ku(C(ce,ae));break e}}L=ce=C(ce,ae),Yr!==4&&(Yr=2),vg===null?vg=[L]:vg.push(L),L=j;do{switch(L.tag){case 3:L.flags|=65536,h&=-h,L.lanes|=h;var ye=de(L,ce,h);El(L,ye);break e;case 1:ae=ce;var he=L.type,xe=L.stateNode;if((L.flags&128)===0&&(typeof he.getDerivedStateFromError=="function"||xe!==null&&typeof xe.componentDidCatch=="function"&&(Hu===null||!Hu.has(xe)))){L.flags|=65536,h&=-h,L.lanes|=h;var Je=Oe(L,ae,h);El(L,Je);break e}}L=L.return}while(L!==null)}wI(y)}catch(Pt){h=Pt,Ur===y&&y!==null&&(Ur=y=y.return);continue}break}while(!0)}function bI(){var u=z0.current;return z0.current=Td,u===null?Td:u}function x1(){(Yr===0||Yr===3||Yr===2)&&(Yr=4),ui===null||(bf&268435455)===0&&(j0&268435455)===0||$u(ui,Ti)}function q0(u,h){var y=xn;xn|=2;var A=bI();(ui!==u||Ti!==h)&&(Ll=null,wf(u,h));do try{_$();break}catch(O){_I(u,O)}while(!0);if(Tl(),xn=y,z0.current=A,Ur!==null)throw Error(t(261));return ui=null,Ti=0,Yr}function _$(){for(;Ur!==null;)SI(Ur)}function b$(){for(;Ur!==null&&!Ot();)SI(Ur)}function SI(u){var h=TI(u.alternate,u,$a);u.memoizedProps=u.pendingProps,h===null?wI(u):Ur=h,c1.current=null}function wI(u){var h=u;do{var y=h.alternate;if(u=h.return,(h.flags&32768)===0){if(y=d$(y,h,$a),y!==null){Ur=y;return}}else{if(y=p$(y,h),y!==null){y.flags&=32767,Ur=y;return}if(u!==null)u.flags|=32768,u.subtreeFlags=0,u.deletions=null;else{Yr=6,Ur=null;return}}if(h=h.sibling,h!==null){Ur=h;return}Ur=h=u}while(h!==null);Yr===0&&(Yr=5)}function Mf(u,h,y){var A=vn,O=po.transition;try{po.transition=null,vn=1,S$(u,h,y,A)}finally{po.transition=O,vn=A}return null}function S$(u,h,y,A){do Rd();while(Wu!==null);if((xn&6)!==0)throw Error(t(327));y=u.finishedWork;var O=u.finishedLanes;if(y===null)return null;if(u.finishedWork=null,u.finishedLanes=0,y===u.current)throw Error(t(177));u.callbackNode=null,u.callbackPriority=0;var L=y.lanes|y.childLanes;if(ZS(u,L),u===ui&&(Ur=ui=null,Ti=0),(y.subtreeFlags&2064)===0&&(y.flags&2064)===0||H0||(H0=!0,EI(Ln,function(){return Rd(),null})),L=(y.flags&15990)!==0,(y.subtreeFlags&15990)!==0||L){L=po.transition,po.transition=null;var j=vn;vn=1;var ae=xn;xn|=4,c1.current=null,g$(u,y),dI(y,u),Dr(Hm),ga=!!Du,Hm=Du=null,u.current=y,v$(y),Dt(),xn=ae,vn=j,po.transition=L}else u.current=y;if(H0&&(H0=!1,Wu=u,W0=O),L=u.pendingLanes,L===0&&(Hu=null),gt(y.stateNode),Ta(u,ht()),h!==null)for(A=u.onRecoverableError,y=0;y<h.length;y++)O=h[y],A(O.value,{componentStack:O.stack,digest:O.digest});if(V0)throw V0=!1,u=d1,d1=null,u;return(W0&1)!==0&&u.tag!==0&&Rd(),L=u.pendingLanes,(L&1)!==0?u===p1?yg++:(yg=0,p1=u):yg=0,uo(),null}function Rd(){if(Wu!==null){var u=yu(W0),h=po.transition,y=vn;try{if(po.transition=null,vn=16>u?16:u,Wu===null)var A=!1;else{if(u=Wu,Wu=null,W0=0,(xn&6)!==0)throw Error(t(331));var O=xn;for(xn|=4,vt=u.current;vt!==null;){var L=vt,j=L.child;if((vt.flags&16)!==0){var ae=L.deletions;if(ae!==null){for(var ce=0;ce<ae.length;ce++){var we=ae[ce];for(vt=we;vt!==null;){var $e=vt;switch($e.tag){case 0:case 11:case 15:mg(8,$e,L)}var qe=$e.child;if(qe!==null)qe.return=$e,vt=qe;else for(;vt!==null;){$e=vt;var We=$e.sibling,dt=$e.return;if(lI($e),$e===we){vt=null;break}if(We!==null){We.return=dt,vt=We;break}vt=dt}}}var bt=L.alternate;if(bt!==null){var St=bt.child;if(St!==null){bt.child=null;do{var Tr=St.sibling;St.sibling=null,St=Tr}while(St!==null)}}vt=L}}if((L.subtreeFlags&2064)!==0&&j!==null)j.return=L,vt=j;else e:for(;vt!==null;){if(L=vt,(L.flags&2048)!==0)switch(L.tag){case 0:case 11:case 15:mg(9,L,L.return)}var ye=L.sibling;if(ye!==null){ye.return=L.return,vt=ye;break e}vt=L.return}}var he=u.current;for(vt=he;vt!==null;){j=vt;var xe=j.child;if((j.subtreeFlags&2064)!==0&&xe!==null)xe.return=j,vt=xe;else e:for(j=he;vt!==null;){if(ae=vt,(ae.flags&2048)!==0)try{switch(ae.tag){case 0:case 11:case 15:B0(9,ae)}}catch(Pt){yr(ae,ae.return,Pt)}if(ae===j){vt=null;break e}var Je=ae.sibling;if(Je!==null){Je.return=ae.return,vt=Je;break e}vt=ae.return}}if(xn=O,uo(),Et&&typeof Et.onPostCommitFiberRoot=="function")try{Et.onPostCommitFiberRoot(ur,u)}catch{}A=!0}return A}finally{vn=y,po.transition=h}}return!1}function MI(u,h,y){h=C(y,h),h=de(u,h,1),u=$n(u,h,1),h=ia(),u!==null&&(Bc(u,1,h),Ta(u,h))}function yr(u,h,y){if(u.tag===3)MI(u,u,y);else for(;h!==null;){if(h.tag===3){MI(h,u,y);break}else if(h.tag===1){var A=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof A.componentDidCatch=="function"&&(Hu===null||!Hu.has(A))){u=C(y,u),u=Oe(h,u,1),h=$n(h,u,1),u=ia(),h!==null&&(Bc(h,1,u),Ta(h,u));break}}h=h.return}}function w$(u,h,y){var A=u.pingCache;A!==null&&A.delete(h),h=ia(),u.pingedLanes|=u.suspendedLanes&y,ui===u&&(Ti&y)===y&&(Yr===4||Yr===3&&(Ti&130023424)===Ti&&500>ht()-h1?wf(u,0):f1|=y),Ta(u,h)}function AI(u,h){h===0&&((u.mode&1)===0?h=1:(h=cr,cr<<=1,(cr&130023424)===0&&(cr=4194304)));var y=ia();u=Va(u,h),u!==null&&(Bc(u,h,y),Ta(u,y))}function M$(u){var h=u.memoizedState,y=0;h!==null&&(y=h.retryLane),AI(u,y)}function A$(u,h){var y=0;switch(u.tag){case 13:var A=u.stateNode,O=u.memoizedState;O!==null&&(y=O.retryLane);break;case 19:A=u.stateNode;break;default:throw Error(t(314))}A!==null&&A.delete(h),AI(u,y)}var TI;TI=function(u,h,y){if(u!==null)if(u.memoizedProps!==h.pendingProps||bi.current)tn=!0;else{if((u.lanes&y)===0&&(h.flags&128)===0)return tn=!1,h$(u,h,y);tn=(u.flags&131072)!==0}else tn=!1,Vn&&(h.flags&1048576)!==0&&Zm(h,gd,h.index);switch(h.lanes=0,h.tag){case 2:var A=h.type;U0(u,h),u=h.pendingProps;var O=xl(h,Wr.current);Fs(h,y),O=mf(null,h,A,u,O,y);var L=ag();return h.flags|=1,typeof O=="object"&&O!==null&&typeof O.render=="function"&&O.$$typeof===void 0?(h.tag=1,h.memoizedState=null,h.updateQueue=null,oi(A)?(L=!0,_l(h)):L=!1,h.memoizedState=O.state!==null&&O.state!==void 0?O.state:null,Jt(h),O.updater=Ed,h.stateNode=O,O._reactInternals=h,w(h,A,u,y),h=Kt(null,h,A,!0,L,y)):(h.tag=0,Vn&&L&&Jm(h),ut(null,h,O,y),h=h.child),h;case 16:A=h.elementType;e:{switch(U0(u,h),u=h.pendingProps,O=A._init,A=O(A._payload),h.type=A,O=h.tag=E$(A),u=Ma(A,u),O){case 0:h=ot(null,h,A,u,y);break e;case 1:h=wt(null,h,A,u,y);break e;case 11:h=Xr(null,h,A,u,y);break e;case 14:h=ra(null,h,A,Ma(A.type,u),y);break e}throw Error(t(306,A,""))}return h;case 0:return A=h.type,O=h.pendingProps,O=h.elementType===A?O:Ma(A,O),ot(u,h,A,O,y);case 1:return A=h.type,O=h.pendingProps,O=h.elementType===A?O:Ma(A,O),wt(u,h,A,O,y);case 3:e:{if(Yt(h),u===null)throw Error(t(387));A=h.pendingProps,L=h.memoizedState,O=L.element,hr(u,h),ir(h,A,null,y);var j=h.memoizedState;if(A=j.element,L.isDehydrated)if(L={element:A,isDehydrated:!1,cache:j.cache,pendingSuspenseBoundaries:j.pendingSuspenseBoundaries,transitions:j.transitions},h.updateQueue.baseState=L,h.memoizedState=L,h.flags&256){O=C(Error(t(423)),h),h=gn(u,h,A,y,O);break e}else if(A!==O){O=C(Error(t(424)),h),h=gn(u,h,A,y,O);break e}else for(wi=Vo(h.stateNode.containerInfo.firstChild),Gr=h,Vn=!0,wa=null,y=uf(h,null,A,y),h.child=y;y;)y.flags=y.flags&-3|4096,y=y.sibling;else{if(Us(),A===O){h=Dl(u,h,y);break e}ut(u,h,A,y)}h=h.child}return h;case 5:return Cl(h),u===null&&yd(h),A=h.type,O=h.pendingProps,L=u!==null?u.memoizedProps:null,j=O.children,Wm(A,O)?j=null:L!==null&&Wm(A,L)&&(h.flags|=32),Pe(u,h),ut(u,h,j,y),h.child;case 6:return u===null&&yd(h),null;case 13:return es(u,h,y);case 4:return df(h,h.stateNode.containerInfo),A=h.pendingProps,u===null?h.child=wl(h,null,A,y):ut(u,h,A,y),h.child;case 11:return A=h.type,O=h.pendingProps,O=h.elementType===A?O:Ma(A,O),Xr(u,h,A,O,y);case 7:return ut(u,h,h.pendingProps,y),h.child;case 8:return ut(u,h,h.pendingProps.children,y),h.child;case 12:return ut(u,h,h.pendingProps.children,y),h.child;case 10:e:{if(A=h.type._context,O=h.pendingProps,L=h.memoizedProps,j=O.value,Rn(Ml,A._currentValue),A._currentValue=j,L!==null)if(Ki(L.value,j)){if(L.children===O.children&&!bi.current){h=Dl(u,h,y);break e}}else for(L=h.child,L!==null&&(L.return=h);L!==null;){var ae=L.dependencies;if(ae!==null){j=L.child;for(var ce=ae.firstContext;ce!==null;){if(ce.context===A){if(L.tag===1){ce=Cn(-1,y&-y),ce.tag=2;var we=L.updateQueue;if(we!==null){we=we.shared;var $e=we.pending;$e===null?ce.next=ce:(ce.next=$e.next,$e.next=ce),we.pending=ce}}L.lanes|=y,ce=L.alternate,ce!==null&&(ce.lanes|=y),ff(L.return,y,h),ae.lanes|=y;break}ce=ce.next}}else if(L.tag===10)j=L.type===h.type?null:L.child;else if(L.tag===18){if(j=L.return,j===null)throw Error(t(341));j.lanes|=y,ae=j.alternate,ae!==null&&(ae.lanes|=y),ff(j,y,h),j=L.sibling}else j=L.child;if(j!==null)j.return=L;else for(j=L;j!==null;){if(j===h){j=null;break}if(L=j.sibling,L!==null){L.return=j.return,j=L;break}j=j.return}L=j}ut(u,h,O.children,y),h=h.child}return h;case 9:return O=h.type,A=h.pendingProps.children,Fs(h,y),O=Qi(O),A=A(O),h.flags|=1,ut(u,h,A,y),h.child;case 14:return A=h.type,O=Ma(A,h.pendingProps),O=Ma(A.type,O),ra(u,h,A,O,y);case 15:return be(u,h,h.type,h.pendingProps,y);case 17:return A=h.type,O=h.pendingProps,O=h.elementType===A?O:Ma(A,O),U0(u,h),h.tag=1,oi(A)?(u=!0,_l(h)):u=!1,Fs(h,y),p(h,A,O),w(h,A,O,y),Kt(null,h,A,!0,u,y);case 19:return rI(u,h,y);case 22:return pe(u,h,y)}throw Error(t(156,h.tag))};function EI(u,h){return Se(u,h)}function T$(u,h,y,A){this.tag=u,this.key=y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=A,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mo(u,h,y,A){return new T$(u,h,y,A)}function _1(u){return u=u.prototype,!(!u||!u.isReactComponent)}function E$(u){if(typeof u=="function")return _1(u)?1:0;if(u!=null){if(u=u.$$typeof,u===G)return 11;if(u===te)return 14}return 2}function qu(u,h){var y=u.alternate;return y===null?(y=mo(u.tag,h,u.key,u.mode),y.elementType=u.elementType,y.type=u.type,y.stateNode=u.stateNode,y.alternate=u,u.alternate=y):(y.pendingProps=h,y.type=u.type,y.flags=0,y.subtreeFlags=0,y.deletions=null),y.flags=u.flags&14680064,y.childLanes=u.childLanes,y.lanes=u.lanes,y.child=u.child,y.memoizedProps=u.memoizedProps,y.memoizedState=u.memoizedState,y.updateQueue=u.updateQueue,h=u.dependencies,y.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},y.sibling=u.sibling,y.index=u.index,y.ref=u.ref,y}function X0(u,h,y,A,O,L){var j=2;if(A=u,typeof u=="function")_1(u)&&(j=1);else if(typeof u=="string")j=5;else e:switch(u){case I:return Af(y.children,O,L,h);case U:j=8,O|=8;break;case N:return u=mo(12,y,h,O|2),u.elementType=N,u.lanes=L,u;case K:return u=mo(13,y,h,O),u.elementType=K,u.lanes=L,u;case H:return u=mo(19,y,h,O),u.elementType=H,u.lanes=L,u;case ie:return Y0(y,O,L,h);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case k:j=10;break e;case z:j=9;break e;case G:j=11;break e;case te:j=14;break e;case J:j=16,A=null;break e}throw Error(t(130,u==null?u:typeof u,""))}return h=mo(j,y,h,O),h.elementType=u,h.type=A,h.lanes=L,h}function Af(u,h,y,A){return u=mo(7,u,A,h),u.lanes=y,u}function Y0(u,h,y,A){return u=mo(22,u,A,h),u.elementType=ie,u.lanes=y,u.stateNode={isHidden:!1},u}function b1(u,h,y){return u=mo(6,u,null,h),u.lanes=y,u}function S1(u,h,y){return h=mo(4,u.children!==null?u.children:[],u.key,h),h.lanes=y,h.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},h}function P$(u,h,y,A,O){this.tag=h,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gu(0),this.expirationTimes=gu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gu(0),this.identifierPrefix=A,this.onRecoverableError=O,this.mutableSourceEagerHydrationData=null}function w1(u,h,y,A,O,L,j,ae,ce){return u=new P$(u,h,y,ae,ce),h===1?(h=1,L===!0&&(h|=8)):h=0,L=mo(3,null,null,h),u.current=L,L.stateNode=u,L.memoizedState={element:A,isDehydrated:y,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jt(L),u}function C$(u,h,y){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:R,key:A==null?null:""+A,children:u,containerInfo:h,implementation:y}}function PI(u){if(!u)return Wo;u=u._reactInternals;e:{if(Lo(u)!==u||u.tag!==1)throw Error(t(170));var h=u;do{switch(h.tag){case 3:h=h.stateNode.context;break e;case 1:if(oi(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break e}}h=h.return}while(h!==null);throw Error(t(171))}if(u.tag===1){var y=u.type;if(oi(y))return rf(u,y,h)}return h}function CI(u,h,y,A,O,L,j,ae,ce){return u=w1(y,A,!0,u,O,L,j,ae,ce),u.context=PI(null),y=u.current,A=ia(),O=Gu(y),L=Cn(A,O),L.callback=h??null,$n(y,L,O),u.current.lanes=O,Bc(u,O,A),Ta(u,A),u}function K0(u,h,y,A){var O=h.current,L=ia(),j=Gu(O);return y=PI(y),h.context===null?h.context=y:h.pendingContext=y,h=Cn(L,j),h.payload={element:u},A=A===void 0?null:A,A!==null&&(h.callback=A),u=$n(O,h,j),u!==null&&(rs(u,O,j,L),si(u,O,j)),j}function Z0(u){return u=u.current,u.child?(u.child.tag===5,u.child.stateNode):null}function OI(u,h){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var y=u.retryLane;u.retryLane=y!==0&&y<h?y:h}}function M1(u,h){OI(u,h),(u=u.alternate)&&OI(u,h)}function O$(){return null}var RI=typeof reportError=="function"?reportError:function(u){console.error(u)};function A1(u){this._internalRoot=u}J0.prototype.render=A1.prototype.render=function(u){var h=this._internalRoot;if(h===null)throw Error(t(409));K0(u,h,null,null)},J0.prototype.unmount=A1.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var h=u.containerInfo;Sf(function(){K0(null,u,null,null)}),h[Ji]=null}};function J0(u){this._internalRoot=u}J0.prototype.unstable_scheduleHydration=function(u){if(u){var h=Nh();u={blockedOn:null,target:u,priority:h};for(var y=0;y<Cs.length&&h!==0&&h<Cs[y].priority;y++);Cs.splice(y,0,u),y===0&&Fh(u)}};function T1(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}function Q0(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11&&(u.nodeType!==8||u.nodeValue!==" react-mount-point-unstable "))}function II(){}function R$(u,h,y,A,O){if(O){if(typeof A=="function"){var L=A;A=function(){var we=Z0(j);L.call(we)}}var j=CI(h,A,u,0,null,!1,!1,"",II);return u._reactRootContainer=j,u[Ji]=j.current,Ru(u.nodeType===8?u.parentNode:u),Sf(),j}for(;O=u.lastChild;)u.removeChild(O);if(typeof A=="function"){var ae=A;A=function(){var we=Z0(ce);ae.call(we)}}var ce=w1(u,0,!1,null,null,!1,!1,"",II);return u._reactRootContainer=ce,u[Ji]=ce.current,Ru(u.nodeType===8?u.parentNode:u),Sf(function(){K0(h,ce,y,A)}),ce}function ex(u,h,y,A,O){var L=y._reactRootContainer;if(L){var j=L;if(typeof O=="function"){var ae=O;O=function(){var ce=Z0(j);ae.call(ce)}}K0(h,j,u,O)}else j=R$(y,h,u,O,A);return Z0(j)}zc=function(u){switch(u.tag){case 3:var h=u.stateNode;if(h.current.memoizedState.isDehydrated){var y=jn(h.pendingLanes);y!==0&&(vu(h,y|1),Ta(h,ht()),(xn&6)===0&&(Od=ht()+500,uo()))}break;case 13:Sf(function(){var A=Va(u,1);if(A!==null){var O=ia();rs(A,u,1,O)}}),M1(u,1)}},Tm=function(u){if(u.tag===13){var h=Va(u,134217728);if(h!==null){var y=ia();rs(h,u,134217728,y)}M1(u,134217728)}},c0=function(u){if(u.tag===13){var h=Gu(u),y=Va(u,h);if(y!==null){var A=ia();rs(y,u,h,A)}M1(u,h)}},Nh=function(){return vn},kh=function(u,h){var y=vn;try{return vn=u,h()}finally{vn=y}},He=function(u,h,y){switch(h){case"input":if(it(u,y),h=y.name,y.type==="radio"&&h!=null){for(y=u;y.parentNode;)y=y.parentNode;for(y=y.querySelectorAll("input[name="+JSON.stringify(""+h)+'][type="radio"]'),h=0;h<y.length;h++){var A=y[h];if(A!==u&&A.form===u.form){var O=dd(A);if(!O)throw Error(t(90));q(A),it(A,O)}}}break;case"textarea":ke(u,y);break;case"select":h=y.value,h!=null&&ge(u,!!y.multiple,h,!1)}},rn=v1,dn=Sf;var I$={usingClientEntryPoint:!1,Events:[Ho,fr,dd,Rt,_t,v1]},xg={findFiberByHostInstance:ks,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},D$={bundleType:xg.bundleType,version:xg.version,rendererPackageName:xg.rendererPackageName,rendererConfig:xg.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(u){return u=Me(u),u===null?null:u.stateNode},findFiberByHostInstance:xg.findFiberByHostInstance||O$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tx.isDisabled&&tx.supportsFiber)try{ur=tx.inject(D$),Et=tx}catch{}}return Ea.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I$,Ea.createPortal=function(u,h){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!T1(h))throw Error(t(200));return C$(u,h,null,y)},Ea.createRoot=function(u,h){if(!T1(u))throw Error(t(299));var y=!1,A="",O=RI;return h!=null&&(h.unstable_strictMode===!0&&(y=!0),h.identifierPrefix!==void 0&&(A=h.identifierPrefix),h.onRecoverableError!==void 0&&(O=h.onRecoverableError)),h=w1(u,1,!1,null,null,y,!1,A,O),u[Ji]=h.current,Ru(u.nodeType===8?u.parentNode:u),new A1(h)},Ea.findDOMNode=function(u){if(u==null)return null;if(u.nodeType===1)return u;var h=u._reactInternals;if(h===void 0)throw typeof u.render=="function"?Error(t(188)):(u=Object.keys(u).join(","),Error(t(268,u)));return u=Me(h),u=u===null?null:u.stateNode,u},Ea.flushSync=function(u){return Sf(u)},Ea.hydrate=function(u,h,y){if(!Q0(h))throw Error(t(200));return ex(null,u,h,!0,y)},Ea.hydrateRoot=function(u,h,y){if(!T1(u))throw Error(t(405));var A=y!=null&&y.hydratedSources||null,O=!1,L="",j=RI;if(y!=null&&(y.unstable_strictMode===!0&&(O=!0),y.identifierPrefix!==void 0&&(L=y.identifierPrefix),y.onRecoverableError!==void 0&&(j=y.onRecoverableError)),h=CI(h,null,u,1,y??null,O,!1,L,j),u[Ji]=h.current,Ru(u),A)for(u=0;u<A.length;u++)y=A[u],O=y._getVersion,O=O(y._source),h.mutableSourceEagerHydrationData==null?h.mutableSourceEagerHydrationData=[y,O]:h.mutableSourceEagerHydrationData.push(y,O);return new J0(h)},Ea.render=function(u,h,y){if(!Q0(h))throw Error(t(200));return ex(null,u,h,!1,y)},Ea.unmountComponentAtNode=function(u){if(!Q0(u))throw Error(t(40));return u._reactRootContainer?(Sf(function(){ex(null,null,u,!1,function(){u._reactRootContainer=null,u[Ji]=null})}),!0):!1},Ea.unstable_batchedUpdates=v1,Ea.unstable_renderSubtreeIntoContainer=function(u,h,y,A){if(!Q0(y))throw Error(t(200));if(u==null||u._reactInternals===void 0)throw Error(t(38));return ex(u,h,y,!1,A)},Ea.version="18.3.1-next-f1338f8080-20240426",Ea}var zI;function j$(){if(zI)return C1.exports;zI=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),C1.exports=z$(),C1.exports}var jI;function V$(){if(jI)return rx;jI=1;var n=j$();return rx.createRoot=n.createRoot,rx.hydrateRoot=n.hydrateRoot,rx}var H$=V$();const W$=Tn(H$);function zj(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=zj(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Qt(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=zj(n))&&(r&&(r+=" "),r+=e);return r}var I1,VI;function La(){if(VI)return I1;VI=1;var n=Array.isArray;return I1=n,I1}var D1,HI;function jj(){if(HI)return D1;HI=1;var n=typeof nx=="object"&&nx&&nx.Object===Object&&nx;return D1=n,D1}var L1,WI;function el(){if(WI)return L1;WI=1;var n=jj(),e=typeof self=="object"&&self&&self.Object===Object&&self,t=n||e||Function("return this")();return L1=t,L1}var N1,GI;function Uy(){if(GI)return N1;GI=1;var n=el(),e=n.Symbol;return N1=e,N1}var k1,$I;function G$(){if($I)return k1;$I=1;var n=Uy(),e=Object.prototype,t=e.hasOwnProperty,r=e.toString,i=n?n.toStringTag:void 0;function a(o){var s=t.call(o,i),l=o[i];try{o[i]=void 0;var c=!0}catch{}var f=r.call(o);return c&&(s?o[i]=l:delete o[i]),f}return k1=a,k1}var U1,qI;function $$(){if(qI)return U1;qI=1;var n=Object.prototype,e=n.toString;function t(r){return e.call(r)}return U1=t,U1}var F1,XI;function lu(){if(XI)return F1;XI=1;var n=Uy(),e=G$(),t=$$(),r="[object Null]",i="[object Undefined]",a=n?n.toStringTag:void 0;function o(s){return s==null?s===void 0?i:r:a&&a in Object(s)?e(s):t(s)}return F1=o,F1}var B1,YI;function uu(){if(YI)return B1;YI=1;function n(e){return e!=null&&typeof e=="object"}return B1=n,B1}var z1,KI;function sm(){if(KI)return z1;KI=1;var n=lu(),e=uu(),t="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&n(i)==t}return z1=r,z1}var j1,ZI;function O2(){if(ZI)return j1;ZI=1;var n=La(),e=sm(),t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,o){if(n(a))return!1;var s=typeof a;return s=="number"||s=="symbol"||s=="boolean"||a==null||e(a)?!0:r.test(a)||!t.test(a)||o!=null&&a in Object(o)}return j1=i,j1}var V1,JI;function Ec(){if(JI)return V1;JI=1;function n(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}return V1=n,V1}var H1,QI;function R2(){if(QI)return H1;QI=1;var n=lu(),e=Ec(),t="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function o(s){if(!e(s))return!1;var l=n(s);return l==r||l==i||l==t||l==a}return H1=o,H1}var W1,eD;function q$(){if(eD)return W1;eD=1;var n=el(),e=n["__core-js_shared__"];return W1=e,W1}var G1,tD;function X$(){if(tD)return G1;tD=1;var n=q$(),e=(function(){var r=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function t(r){return!!e&&e in r}return G1=t,G1}var $1,nD;function Vj(){if(nD)return $1;nD=1;var n=Function.prototype,e=n.toString;function t(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return $1=t,$1}var q1,rD;function Y$(){if(rD)return q1;rD=1;var n=R2(),e=X$(),t=Ec(),r=Vj(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,o=Function.prototype,s=Object.prototype,l=o.toString,c=s.hasOwnProperty,f=RegExp("^"+l.call(c).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d(m){if(!t(m)||e(m))return!1;var v=n(m)?f:a;return v.test(r(m))}return q1=d,q1}var X1,iD;function K$(){if(iD)return X1;iD=1;function n(e,t){return e?.[t]}return X1=n,X1}var Y1,aD;function Mh(){if(aD)return Y1;aD=1;var n=Y$(),e=K$();function t(r,i){var a=e(r,i);return n(a)?a:void 0}return Y1=t,Y1}var K1,oD;function zb(){if(oD)return K1;oD=1;var n=Mh(),e=n(Object,"create");return K1=e,K1}var Z1,sD;function Z$(){if(sD)return Z1;sD=1;var n=zb();function e(){this.__data__=n?n(null):{},this.size=0}return Z1=e,Z1}var J1,lD;function J$(){if(lD)return J1;lD=1;function n(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}return J1=n,J1}var Q1,uD;function Q$(){if(uD)return Q1;uD=1;var n=zb(),e="__lodash_hash_undefined__",t=Object.prototype,r=t.hasOwnProperty;function i(a){var o=this.__data__;if(n){var s=o[a];return s===e?void 0:s}return r.call(o,a)?o[a]:void 0}return Q1=i,Q1}var ew,cD;function e9(){if(cD)return ew;cD=1;var n=zb(),e=Object.prototype,t=e.hasOwnProperty;function r(i){var a=this.__data__;return n?a[i]!==void 0:t.call(a,i)}return ew=r,ew}var tw,fD;function t9(){if(fD)return tw;fD=1;var n=zb(),e="__lodash_hash_undefined__";function t(r,i){var a=this.__data__;return this.size+=this.has(r)?0:1,a[r]=n&&i===void 0?e:i,this}return tw=t,tw}var nw,hD;function n9(){if(hD)return nw;hD=1;var n=Z$(),e=J$(),t=Q$(),r=e9(),i=t9();function a(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var c=o[s];this.set(c[0],c[1])}}return a.prototype.clear=n,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=r,a.prototype.set=i,nw=a,nw}var rw,dD;function r9(){if(dD)return rw;dD=1;function n(){this.__data__=[],this.size=0}return rw=n,rw}var iw,pD;function I2(){if(pD)return iw;pD=1;function n(e,t){return e===t||e!==e&&t!==t}return iw=n,iw}var aw,mD;function jb(){if(mD)return aw;mD=1;var n=I2();function e(t,r){for(var i=t.length;i--;)if(n(t[i][0],r))return i;return-1}return aw=e,aw}var ow,gD;function i9(){if(gD)return ow;gD=1;var n=jb(),e=Array.prototype,t=e.splice;function r(i){var a=this.__data__,o=n(a,i);if(o<0)return!1;var s=a.length-1;return o==s?a.pop():t.call(a,o,1),--this.size,!0}return ow=r,ow}var sw,vD;function a9(){if(vD)return sw;vD=1;var n=jb();function e(t){var r=this.__data__,i=n(r,t);return i<0?void 0:r[i][1]}return sw=e,sw}var lw,yD;function o9(){if(yD)return lw;yD=1;var n=jb();function e(t){return n(this.__data__,t)>-1}return lw=e,lw}var uw,xD;function s9(){if(xD)return uw;xD=1;var n=jb();function e(t,r){var i=this.__data__,a=n(i,t);return a<0?(++this.size,i.push([t,r])):i[a][1]=r,this}return uw=e,uw}var cw,_D;function Vb(){if(_D)return cw;_D=1;var n=r9(),e=i9(),t=a9(),r=o9(),i=s9();function a(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var c=o[s];this.set(c[0],c[1])}}return a.prototype.clear=n,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=r,a.prototype.set=i,cw=a,cw}var fw,bD;function D2(){if(bD)return fw;bD=1;var n=Mh(),e=el(),t=n(e,"Map");return fw=t,fw}var hw,SD;function l9(){if(SD)return hw;SD=1;var n=n9(),e=Vb(),t=D2();function r(){this.size=0,this.__data__={hash:new n,map:new(t||e),string:new n}}return hw=r,hw}var dw,wD;function u9(){if(wD)return dw;wD=1;function n(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}return dw=n,dw}var pw,MD;function Hb(){if(MD)return pw;MD=1;var n=u9();function e(t,r){var i=t.__data__;return n(r)?i[typeof r=="string"?"string":"hash"]:i.map}return pw=e,pw}var mw,AD;function c9(){if(AD)return mw;AD=1;var n=Hb();function e(t){var r=n(this,t).delete(t);return this.size-=r?1:0,r}return mw=e,mw}var gw,TD;function f9(){if(TD)return gw;TD=1;var n=Hb();function e(t){return n(this,t).get(t)}return gw=e,gw}var vw,ED;function h9(){if(ED)return vw;ED=1;var n=Hb();function e(t){return n(this,t).has(t)}return vw=e,vw}var yw,PD;function d9(){if(PD)return yw;PD=1;var n=Hb();function e(t,r){var i=n(this,t),a=i.size;return i.set(t,r),this.size+=i.size==a?0:1,this}return yw=e,yw}var xw,CD;function L2(){if(CD)return xw;CD=1;var n=l9(),e=c9(),t=f9(),r=h9(),i=d9();function a(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var c=o[s];this.set(c[0],c[1])}}return a.prototype.clear=n,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=r,a.prototype.set=i,xw=a,xw}var _w,OD;function Hj(){if(OD)return _w;OD=1;var n=L2(),e="Expected a function";function t(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var a=function(){var o=arguments,s=i?i.apply(this,o):o[0],l=a.cache;if(l.has(s))return l.get(s);var c=r.apply(this,o);return a.cache=l.set(s,c)||l,c};return a.cache=new(t.Cache||n),a}return t.Cache=n,_w=t,_w}var bw,RD;function p9(){if(RD)return bw;RD=1;var n=Hj(),e=500;function t(r){var i=n(r,function(o){return a.size===e&&a.clear(),o}),a=i.cache;return i}return bw=t,bw}var Sw,ID;function m9(){if(ID)return Sw;ID=1;var n=p9(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,t=/\\(\\)?/g,r=n(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(e,function(o,s,l,c){a.push(l?c.replace(t,"$1"):s||o)}),a});return Sw=r,Sw}var ww,DD;function N2(){if(DD)return ww;DD=1;function n(e,t){for(var r=-1,i=e==null?0:e.length,a=Array(i);++r<i;)a[r]=t(e[r],r,e);return a}return ww=n,ww}var Mw,LD;function g9(){if(LD)return Mw;LD=1;var n=Uy(),e=N2(),t=La(),r=sm(),i=n?n.prototype:void 0,a=i?i.toString:void 0;function o(s){if(typeof s=="string")return s;if(t(s))return e(s,o)+"";if(r(s))return a?a.call(s):"";var l=s+"";return l=="0"&&1/s==-1/0?"-0":l}return Mw=o,Mw}var Aw,ND;function Wj(){if(ND)return Aw;ND=1;var n=g9();function e(t){return t==null?"":n(t)}return Aw=e,Aw}var Tw,kD;function Gj(){if(kD)return Tw;kD=1;var n=La(),e=O2(),t=m9(),r=Wj();function i(a,o){return n(a)?a:e(a,o)?[a]:t(r(a))}return Tw=i,Tw}var Ew,UD;function Wb(){if(UD)return Ew;UD=1;var n=sm();function e(t){if(typeof t=="string"||n(t))return t;var r=t+"";return r=="0"&&1/t==-1/0?"-0":r}return Ew=e,Ew}var Pw,FD;function k2(){if(FD)return Pw;FD=1;var n=Gj(),e=Wb();function t(r,i){i=n(i,r);for(var a=0,o=i.length;r!=null&&a<o;)r=r[e(i[a++])];return a&&a==o?r:void 0}return Pw=t,Pw}var Cw,BD;function $j(){if(BD)return Cw;BD=1;var n=k2();function e(t,r,i){var a=t==null?void 0:n(t,r);return a===void 0?i:a}return Cw=e,Cw}var v9=$j();const to=Tn(v9);var Ow,zD;function y9(){if(zD)return Ow;zD=1;function n(e){return e==null}return Ow=n,Ow}var x9=y9();const Ut=Tn(x9);var Rw,jD;function _9(){if(jD)return Rw;jD=1;var n=lu(),e=La(),t=uu(),r="[object String]";function i(a){return typeof a=="string"||!e(a)&&t(a)&&n(a)==r}return Rw=i,Rw}var b9=_9();const Fy=Tn(b9);var S9=R2();const zt=Tn(S9);var w9=Ec();const lm=Tn(w9);var Iw={exports:{}},On={};var VD;function M9(){if(VD)return On;VD=1;var n=typeof Symbol=="function"&&Symbol.for,e=n?Symbol.for("react.element"):60103,t=n?Symbol.for("react.portal"):60106,r=n?Symbol.for("react.fragment"):60107,i=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,o=n?Symbol.for("react.provider"):60109,s=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,c=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,m=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,x=n?Symbol.for("react.lazy"):60116,S=n?Symbol.for("react.block"):60121,_=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,M=n?Symbol.for("react.scope"):60119;function T(P){if(typeof P=="object"&&P!==null){var R=P.$$typeof;switch(R){case e:switch(P=P.type,P){case l:case c:case r:case a:case i:case d:return P;default:switch(P=P&&P.$$typeof,P){case s:case f:case x:case v:case o:return P;default:return R}}case t:return R}}}function E(P){return T(P)===c}return On.AsyncMode=l,On.ConcurrentMode=c,On.ContextConsumer=s,On.ContextProvider=o,On.Element=e,On.ForwardRef=f,On.Fragment=r,On.Lazy=x,On.Memo=v,On.Portal=t,On.Profiler=a,On.StrictMode=i,On.Suspense=d,On.isAsyncMode=function(P){return E(P)||T(P)===l},On.isConcurrentMode=E,On.isContextConsumer=function(P){return T(P)===s},On.isContextProvider=function(P){return T(P)===o},On.isElement=function(P){return typeof P=="object"&&P!==null&&P.$$typeof===e},On.isForwardRef=function(P){return T(P)===f},On.isFragment=function(P){return T(P)===r},On.isLazy=function(P){return T(P)===x},On.isMemo=function(P){return T(P)===v},On.isPortal=function(P){return T(P)===t},On.isProfiler=function(P){return T(P)===a},On.isStrictMode=function(P){return T(P)===i},On.isSuspense=function(P){return T(P)===d},On.isValidElementType=function(P){return typeof P=="string"||typeof P=="function"||P===r||P===c||P===a||P===i||P===d||P===m||typeof P=="object"&&P!==null&&(P.$$typeof===x||P.$$typeof===v||P.$$typeof===o||P.$$typeof===s||P.$$typeof===f||P.$$typeof===_||P.$$typeof===b||P.$$typeof===M||P.$$typeof===S)},On.typeOf=T,On}var HD;function A9(){return HD||(HD=1,Iw.exports=M9()),Iw.exports}var YE=A9(),Dw,WD;function qj(){if(WD)return Dw;WD=1;var n=lu(),e=uu(),t="[object Number]";function r(i){return typeof i=="number"||e(i)&&n(i)==t}return Dw=r,Dw}var Lw,GD;function T9(){if(GD)return Lw;GD=1;var n=qj();function e(t){return n(t)&&t!=+t}return Lw=e,Lw}var E9=T9();const um=Tn(E9);var P9=qj();const C9=Tn(P9);var ua=function(e){return e===0?0:e>0?1:-1},Kf=function(e){return Fy(e)&&e.indexOf("%")===e.length-1},Ze=function(e){return C9(e)&&!um(e)},Qr=function(e){return Ze(e)||Fy(e)},O9=0,Pc=function(e){var t=++O9;return"".concat(e||"").concat(t)},ca=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ze(e)&&!Fy(e))return r;var a;if(Kf(e)){var o=e.indexOf("%");a=t*parseFloat(e.slice(0,o))/100}else a=+e;return um(a)&&(a=r),i&&a>t&&(a=t),a},uc=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},R9=function(e){if(!Array.isArray(e))return!1;for(var t=e.length,r={},i=0;i<t;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},dr=function(e,t){return Ze(e)&&Ze(t)?function(r){return e+r*(t-e)}:function(){return t}};function O_(n,e,t){return!n||!n.length?null:n.find(function(r){return r&&(typeof e=="function"?e(r):to(r,e))===t})}var I9=function(e){if(!e||!e.length)return null;for(var t=e.length,r=0,i=0,a=0,o=0,s=1/0,l=-1/0,c=0,f=0,d=0;d<t;d++)c=e[d].cx||0,f=e[d].cy||0,r+=c,i+=f,a+=c*f,o+=c*c,s=Math.min(s,c),l=Math.max(l,c);var m=t*o!==r*r?(t*a-r*i)/(t*o-r*r):0;return{xmin:s,xmax:l,a:m,b:(i-m*r)/t}};function Ap(n,e){for(var t in n)if({}.hasOwnProperty.call(n,t)&&(!{}.hasOwnProperty.call(e,t)||n[t]!==e[t]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(n,r))return!1;return!0}function KE(n){"@babel/helpers - typeof";return KE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},KE(n)}var D9=["viewBox","children"],L9=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],$D=["points","pathLength"],Nw={svg:D9,polygon:$D,polyline:$D},U2=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],R_=function(e,t){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(fe.isValidElement(e)&&(r=e.props),!lm(r))return null;var i={};return Object.keys(r).forEach(function(a){U2.includes(a)&&(i[a]=t||function(o){return r[a](r,o)})}),i},N9=function(e,t,r){return function(i){return e(t,r,i),null}},_c=function(e,t,r){if(!lm(e)||KE(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];U2.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=N9(o,t,r))}),i},k9=["children"],U9=["children"];function qD(n,e){if(n==null)return{};var t=F9(n,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function F9(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function ZE(n){"@babel/helpers - typeof";return ZE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ZE(n)}var XD={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},Zl=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},YD=null,kw=null,F2=function n(e){if(e===YD&&Array.isArray(kw))return kw;var t=[];return fe.Children.forEach(e,function(r){Ut(r)||(YE.isFragment(r)?t=t.concat(n(r.props.children)):t.push(r))}),kw=t,YD=e,t};function da(n,e){var t=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Zl(i)}):r=[Zl(e)],F2(n).forEach(function(i){var a=to(i,"type.displayName")||to(i,"type.name");r.indexOf(a)!==-1&&t.push(i)}),t}function Za(n,e){var t=da(n,e);return t&&t[0]}var KD=function(e){if(!e||!e.props)return!1;var t=e.props,r=t.width,i=t.height;return!(!Ze(r)||r<=0||!Ze(i)||i<=0)},B9=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],z9=function(e){return e&&e.type&&Fy(e.type)&&B9.indexOf(e.type)>=0},Xj=function(e){return e&&ZE(e)==="object"&&"cx"in e&&"cy"in e&&"r"in e},j9=function(e,t,r,i){var a,o=(a=Nw?.[i])!==null&&a!==void 0?a:[];return!zt(e)&&(i&&o.includes(t)||L9.includes(t))||r&&U2.includes(t)},Mt=function(e,t,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(fe.isValidElement(e)&&(i=e.props),!lm(i))return null;var a={};return Object.keys(i).forEach(function(o){var s;j9((s=i)===null||s===void 0?void 0:s[o],o,t,r)&&(a[o]=i[o])}),a},JE=function n(e,t){if(e===t)return!0;var r=fe.Children.count(e);if(r!==fe.Children.count(t))return!1;if(r===0)return!0;if(r===1)return ZD(Array.isArray(e)?e[0]:e,Array.isArray(t)?t[0]:t);for(var i=0;i<r;i++){var a=e[i],o=t[i];if(Array.isArray(a)||Array.isArray(o)){if(!n(a,o))return!1}else if(!ZD(a,o))return!1}return!0},ZD=function(e,t){if(Ut(e)&&Ut(t))return!0;if(!Ut(e)&&!Ut(t)){var r=e.props||{},i=r.children,a=qD(r,k9),o=t.props||{},s=o.children,l=qD(o,U9);return i&&s?Ap(a,l)&&JE(i,s):!i&&!s?Ap(a,l):!1}return!1},JD=function(e,t){var r=[],i={};return F2(e).forEach(function(a,o){if(z9(a))r.push(a);else if(a){var s=Zl(a.type),l=t[s]||{},c=l.handler,f=l.once;if(c&&(!f||!i[s])){var d=c(a,s,o);r.push(d),i[s]=!0}}}),r},V9=function(e){var t=e&&e.type;return t&&XD[t]?XD[t]:null},H9=function(e,t){return F2(t).indexOf(e)},W9=["children","width","height","viewBox","className","style","title","desc"];function QE(){return QE=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},QE.apply(this,arguments)}function G9(n,e){if(n==null)return{};var t=$9(n,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function $9(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function eP(n){var e=n.children,t=n.width,r=n.height,i=n.viewBox,a=n.className,o=n.style,s=n.title,l=n.desc,c=G9(n,W9),f=i||{width:t,height:r,x:0,y:0},d=Qt("recharts-surface",a);return re.createElement("svg",QE({},Mt(c,!0,"svg"),{className:d,width:t,height:r,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),re.createElement("title",null,s),re.createElement("desc",null,l),e)}var q9=["children","className"];function tP(){return tP=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},tP.apply(this,arguments)}function X9(n,e){if(n==null)return{};var t=Y9(n,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function Y9(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}var nn=re.forwardRef(function(n,e){var t=n.children,r=n.className,i=X9(n,q9),a=Qt("recharts-layer",r);return re.createElement("g",tP({className:a},Mt(i,!0),{ref:e}),t)}),_s=function(e,t){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]},Uw,QD;function K9(){if(QD)return Uw;QD=1;function n(e,t,r){var i=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(a);++i<a;)o[i]=e[i+t];return o}return Uw=n,Uw}var Fw,eL;function Z9(){if(eL)return Fw;eL=1;var n=K9();function e(t,r,i){var a=t.length;return i=i===void 0?a:i,!r&&i>=a?t:n(t,r,i)}return Fw=e,Fw}var Bw,tL;function Yj(){if(tL)return Bw;tL=1;var n="\\ud800-\\udfff",e="\\u0300-\\u036f",t="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+t+r,a="\\ufe0e\\ufe0f",o="\\u200d",s=RegExp("["+o+n+i+a+"]");function l(c){return s.test(c)}return Bw=l,Bw}var zw,nL;function J9(){if(nL)return zw;nL=1;function n(e){return e.split("")}return zw=n,zw}var jw,rL;function Q9(){if(rL)return jw;rL=1;var n="\\ud800-\\udfff",e="\\u0300-\\u036f",t="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+t+r,a="\\ufe0e\\ufe0f",o="["+n+"]",s="["+i+"]",l="\\ud83c[\\udffb-\\udfff]",c="(?:"+s+"|"+l+")",f="[^"+n+"]",d="(?:\\ud83c[\\udde6-\\uddff]){2}",m="[\\ud800-\\udbff][\\udc00-\\udfff]",v="\\u200d",x=c+"?",S="["+a+"]?",_="(?:"+v+"(?:"+[f,d,m].join("|")+")"+S+x+")*",b=S+x+_,M="(?:"+[f+s+"?",s,d,m,o].join("|")+")",T=RegExp(l+"(?="+l+")|"+M+b,"g");function E(P){return P.match(T)||[]}return jw=E,jw}var Vw,iL;function eq(){if(iL)return Vw;iL=1;var n=J9(),e=Yj(),t=Q9();function r(i){return e(i)?t(i):n(i)}return Vw=r,Vw}var Hw,aL;function tq(){if(aL)return Hw;aL=1;var n=Z9(),e=Yj(),t=eq(),r=Wj();function i(a){return function(o){o=r(o);var s=e(o)?t(o):void 0,l=s?s[0]:o.charAt(0),c=s?n(s,1).join(""):o.slice(1);return l[a]()+c}}return Hw=i,Hw}var Ww,oL;function nq(){if(oL)return Ww;oL=1;var n=tq(),e=n("toUpperCase");return Ww=e,Ww}var rq=nq();const Gb=Tn(rq);function Xn(n){return function(){return n}}const Kj=Math.cos,I_=Math.sin,Ms=Math.sqrt,D_=Math.PI,$b=2*D_,nP=Math.PI,rP=2*nP,jf=1e-6,iq=rP-jf;function Zj(n){this._+=n[0];for(let e=1,t=n.length;e<t;++e)this._+=arguments[e]+n[e]}function aq(n){let e=Math.floor(n);if(!(e>=0))throw new Error(`invalid digits: ${n}`);if(e>15)return Zj;const t=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*t)/t+r[i]}}let oq=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Zj:aq(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,r,i){this._append`Q${+e},${+t},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,t,r,i,a,o){this._append`C${+e},${+t},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,t,r,i,a){if(e=+e,t=+t,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=r-e,c=i-t,f=o-e,d=s-t,m=f*f+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=t}`;else if(m>jf)if(!(Math.abs(d*l-c*f)>jf)||!a)this._append`L${this._x1=e},${this._y1=t}`;else{let v=r-o,x=i-s,S=l*l+c*c,_=v*v+x*x,b=Math.sqrt(S),M=Math.sqrt(m),T=a*Math.tan((nP-Math.acos((S+m-_)/(2*b*M)))/2),E=T/M,P=T/b;Math.abs(E-1)>jf&&this._append`L${e+E*f},${t+E*d}`,this._append`A${a},${a},0,0,${+(d*v>f*x)},${this._x1=e+P*l},${this._y1=t+P*c}`}}arc(e,t,r,i,a,o){if(e=+e,t=+t,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),c=e+s,f=t+l,d=1^o,m=o?i-a:a-i;this._x1===null?this._append`M${c},${f}`:(Math.abs(this._x1-c)>jf||Math.abs(this._y1-f)>jf)&&this._append`L${c},${f}`,r&&(m<0&&(m=m%rP+rP),m>iq?this._append`A${r},${r},0,1,${d},${e-s},${t-l}A${r},${r},0,1,${d},${this._x1=c},${this._y1=f}`:m>jf&&this._append`A${r},${r},0,${+(m>=nP)},${d},${this._x1=e+r*Math.cos(a)},${this._y1=t+r*Math.sin(a)}`)}rect(e,t,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function B2(n){let e=3;return n.digits=function(t){if(!arguments.length)return e;if(t==null)e=null;else{const r=Math.floor(t);if(!(r>=0))throw new RangeError(`invalid digits: ${t}`);e=r}return n},()=>new oq(e)}function z2(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function Jj(n){this._context=n}Jj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;default:this._context.lineTo(n,e);break}}};function qb(n){return new Jj(n)}function Qj(n){return n[0]}function e5(n){return n[1]}function t5(n,e){var t=Xn(!0),r=null,i=qb,a=null,o=B2(s);n=typeof n=="function"?n:n===void 0?Qj:Xn(n),e=typeof e=="function"?e:e===void 0?e5:Xn(e);function s(l){var c,f=(l=z2(l)).length,d,m=!1,v;for(r==null&&(a=i(v=o())),c=0;c<=f;++c)!(c<f&&t(d=l[c],c,l))===m&&((m=!m)?a.lineStart():a.lineEnd()),m&&a.point(+n(d,c,l),+e(d,c,l));if(v)return a=null,v+""||null}return s.x=function(l){return arguments.length?(n=typeof l=="function"?l:Xn(+l),s):n},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:Xn(+l),s):e},s.defined=function(l){return arguments.length?(t=typeof l=="function"?l:Xn(!!l),s):t},s.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),s):r},s}function ix(n,e,t){var r=null,i=Xn(!0),a=null,o=qb,s=null,l=B2(c);n=typeof n=="function"?n:n===void 0?Qj:Xn(+n),e=typeof e=="function"?e:Xn(e===void 0?0:+e),t=typeof t=="function"?t:t===void 0?e5:Xn(+t);function c(d){var m,v,x,S=(d=z2(d)).length,_,b=!1,M,T=new Array(S),E=new Array(S);for(a==null&&(s=o(M=l())),m=0;m<=S;++m){if(!(m<S&&i(_=d[m],m,d))===b)if(b=!b)v=m,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),x=m-1;x>=v;--x)s.point(T[x],E[x]);s.lineEnd(),s.areaEnd()}b&&(T[m]=+n(_,m,d),E[m]=+e(_,m,d),s.point(r?+r(_,m,d):T[m],t?+t(_,m,d):E[m]))}if(M)return s=null,M+""||null}function f(){return t5().defined(i).curve(o).context(a)}return c.x=function(d){return arguments.length?(n=typeof d=="function"?d:Xn(+d),r=null,c):n},c.x0=function(d){return arguments.length?(n=typeof d=="function"?d:Xn(+d),c):n},c.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Xn(+d),c):r},c.y=function(d){return arguments.length?(e=typeof d=="function"?d:Xn(+d),t=null,c):e},c.y0=function(d){return arguments.length?(e=typeof d=="function"?d:Xn(+d),c):e},c.y1=function(d){return arguments.length?(t=d==null?null:typeof d=="function"?d:Xn(+d),c):t},c.lineX0=c.lineY0=function(){return f().x(n).y(e)},c.lineY1=function(){return f().x(n).y(t)},c.lineX1=function(){return f().x(r).y(e)},c.defined=function(d){return arguments.length?(i=typeof d=="function"?d:Xn(!!d),c):i},c.curve=function(d){return arguments.length?(o=d,a!=null&&(s=o(a)),c):o},c.context=function(d){return arguments.length?(d==null?a=s=null:s=o(a=d),c):a},c}class n5{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t);break}}this._x0=e,this._y0=t}}function sq(n){return new n5(n,!0)}function lq(n){return new n5(n,!1)}const j2={draw(n,e){const t=Ms(e/D_);n.moveTo(t,0),n.arc(0,0,t,0,$b)}},uq={draw(n,e){const t=Ms(e/5)/2;n.moveTo(-3*t,-t),n.lineTo(-t,-t),n.lineTo(-t,-3*t),n.lineTo(t,-3*t),n.lineTo(t,-t),n.lineTo(3*t,-t),n.lineTo(3*t,t),n.lineTo(t,t),n.lineTo(t,3*t),n.lineTo(-t,3*t),n.lineTo(-t,t),n.lineTo(-3*t,t),n.closePath()}},r5=Ms(1/3),cq=r5*2,fq={draw(n,e){const t=Ms(e/cq),r=t*r5;n.moveTo(0,-t),n.lineTo(r,0),n.lineTo(0,t),n.lineTo(-r,0),n.closePath()}},hq={draw(n,e){const t=Ms(e),r=-t/2;n.rect(r,r,t,t)}},dq=.8908130915292852,i5=I_(D_/10)/I_(7*D_/10),pq=I_($b/10)*i5,mq=-Kj($b/10)*i5,gq={draw(n,e){const t=Ms(e*dq),r=pq*t,i=mq*t;n.moveTo(0,-t),n.lineTo(r,i);for(let a=1;a<5;++a){const o=$b*a/5,s=Kj(o),l=I_(o);n.lineTo(l*t,-s*t),n.lineTo(s*r-l*i,l*r+s*i)}n.closePath()}},Gw=Ms(3),vq={draw(n,e){const t=-Ms(e/(Gw*3));n.moveTo(0,t*2),n.lineTo(-Gw*t,-t),n.lineTo(Gw*t,-t),n.closePath()}},go=-.5,vo=Ms(3)/2,iP=1/Ms(12),yq=(iP/2+1)*3,xq={draw(n,e){const t=Ms(e/yq),r=t/2,i=t*iP,a=r,o=t*iP+t,s=-a,l=o;n.moveTo(r,i),n.lineTo(a,o),n.lineTo(s,l),n.lineTo(go*r-vo*i,vo*r+go*i),n.lineTo(go*a-vo*o,vo*a+go*o),n.lineTo(go*s-vo*l,vo*s+go*l),n.lineTo(go*r+vo*i,go*i-vo*r),n.lineTo(go*a+vo*o,go*o-vo*a),n.lineTo(go*s+vo*l,go*l-vo*s),n.closePath()}};function _q(n,e){let t=null,r=B2(i);n=typeof n=="function"?n:Xn(n||j2),e=typeof e=="function"?e:Xn(e===void 0?64:+e);function i(){let a;if(t||(t=a=r()),n.apply(this,arguments).draw(t,+e.apply(this,arguments)),a)return t=null,a+""||null}return i.type=function(a){return arguments.length?(n=typeof a=="function"?a:Xn(a),i):n},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Xn(+a),i):e},i.context=function(a){return arguments.length?(t=a??null,i):t},i}function L_(){}function N_(n,e,t){n._context.bezierCurveTo((2*n._x0+n._x1)/3,(2*n._y0+n._y1)/3,(n._x0+2*n._x1)/3,(n._y0+2*n._y1)/3,(n._x0+4*n._x1+e)/6,(n._y0+4*n._y1+t)/6)}function a5(n){this._context=n}a5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:N_(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:N_(this,n,e);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e}};function bq(n){return new a5(n)}function o5(n){this._context=n}o5.prototype={areaStart:L_,areaEnd:L_,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._x2=n,this._y2=e;break;case 1:this._point=2,this._x3=n,this._y3=e;break;case 2:this._point=3,this._x4=n,this._y4=e,this._context.moveTo((this._x0+4*this._x1+n)/6,(this._y0+4*this._y1+e)/6);break;default:N_(this,n,e);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e}};function Sq(n){return new o5(n)}function s5(n){this._context=n}s5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var t=(this._x0+4*this._x1+n)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break;case 3:this._point=4;default:N_(this,n,e);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e}};function wq(n){return new s5(n)}function l5(n){this._context=n}l5.prototype={areaStart:L_,areaEnd:L_,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(n,e){n=+n,e=+e,this._point?this._context.lineTo(n,e):(this._point=1,this._context.moveTo(n,e))}};function Mq(n){return new l5(n)}function sL(n){return n<0?-1:1}function lL(n,e,t){var r=n._x1-n._x0,i=e-n._x1,a=(n._y1-n._y0)/(r||i<0&&-0),o=(t-n._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(sL(a)+sL(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function uL(n,e){var t=n._x1-n._x0;return t?(3*(n._y1-n._y0)/t-e)/2:e}function $w(n,e,t){var r=n._x0,i=n._y0,a=n._x1,o=n._y1,s=(a-r)/3;n._context.bezierCurveTo(r+s,i+s*e,a-s,o-s*t,a,o)}function k_(n){this._context=n}k_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:$w(this,this._t0,uL(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){var t=NaN;if(n=+n,e=+e,!(n===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;break;case 2:this._point=3,$w(this,uL(this,t=lL(this,n,e)),t);break;default:$w(this,this._t0,t=lL(this,n,e));break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e,this._t0=t}}};function u5(n){this._context=new c5(n)}(u5.prototype=Object.create(k_.prototype)).point=function(n,e){k_.prototype.point.call(this,e,n)};function c5(n){this._context=n}c5.prototype={moveTo:function(n,e){this._context.moveTo(e,n)},closePath:function(){this._context.closePath()},lineTo:function(n,e){this._context.lineTo(e,n)},bezierCurveTo:function(n,e,t,r,i,a){this._context.bezierCurveTo(e,n,r,t,a,i)}};function Aq(n){return new k_(n)}function Tq(n){return new u5(n)}function f5(n){this._context=n}f5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var n=this._x,e=this._y,t=n.length;if(t)if(this._line?this._context.lineTo(n[0],e[0]):this._context.moveTo(n[0],e[0]),t===2)this._context.lineTo(n[1],e[1]);else for(var r=cL(n),i=cL(e),a=0,o=1;o<t;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],n[o],e[o]);(this._line||this._line!==0&&t===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(n,e){this._x.push(+n),this._y.push(+e)}};function cL(n){var e,t=n.length-1,r,i=new Array(t),a=new Array(t),o=new Array(t);for(i[0]=0,a[0]=2,o[0]=n[0]+2*n[1],e=1;e<t-1;++e)i[e]=1,a[e]=4,o[e]=4*n[e]+2*n[e+1];for(i[t-1]=2,a[t-1]=7,o[t-1]=8*n[t-1]+n[t],e=1;e<t;++e)r=i[e]/a[e-1],a[e]-=r,o[e]-=r*o[e-1];for(i[t-1]=o[t-1]/a[t-1],e=t-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[t-1]=(n[t]+i[t-1])/2,e=0;e<t-1;++e)a[e]=2*n[e+1]-i[e+1];return[i,a]}function Eq(n){return new f5(n)}function Xb(n,e){this._context=n,this._t=e}Xb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(n,e);else{var t=this._x*(1-this._t)+n*this._t;this._context.lineTo(t,this._y),this._context.lineTo(t,e)}break}}this._x=n,this._y=e}};function Pq(n){return new Xb(n,.5)}function Cq(n){return new Xb(n,0)}function Oq(n){return new Xb(n,1)}function Rp(n,e){if((o=n.length)>1)for(var t=1,r,i,a=n[e[0]],o,s=a.length;t<o;++t)for(i=a,a=n[e[t]],r=0;r<s;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function aP(n){for(var e=n.length,t=new Array(e);--e>=0;)t[e]=e;return t}function Rq(n,e){return n[e]}function Iq(n){const e=[];return e.key=n,e}function Dq(){var n=Xn([]),e=aP,t=Rp,r=Rq;function i(a){var o=Array.from(n.apply(this,arguments),Iq),s,l=o.length,c=-1,f;for(const d of a)for(s=0,++c;s<l;++s)(o[s][c]=[0,+r(d,o[s].key,c,a)]).data=d;for(s=0,f=z2(e(o));s<l;++s)o[f[s]].index=s;return t(o,f),o}return i.keys=function(a){return arguments.length?(n=typeof a=="function"?a:Xn(Array.from(a)),i):n},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Xn(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?aP:typeof a=="function"?a:Xn(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(t=a??Rp,i):t},i}function Lq(n,e){if((r=n.length)>0){for(var t,r,i=0,a=n[0].length,o;i<a;++i){for(o=t=0;t<r;++t)o+=n[t][i][1]||0;if(o)for(t=0;t<r;++t)n[t][i][1]/=o}Rp(n,e)}}function Nq(n,e){if((i=n.length)>0){for(var t=0,r=n[e[0]],i,a=r.length;t<a;++t){for(var o=0,s=0;o<i;++o)s+=n[o][t][1]||0;r[t][1]+=r[t][0]=-s/2}Rp(n,e)}}function kq(n,e){if(!(!((o=n.length)>0)||!((a=(i=n[e[0]]).length)>0))){for(var t=0,r=1,i,a,o;r<a;++r){for(var s=0,l=0,c=0;s<o;++s){for(var f=n[e[s]],d=f[r][1]||0,m=f[r-1][1]||0,v=(d-m)/2,x=0;x<s;++x){var S=n[e[x]],_=S[r][1]||0,b=S[r-1][1]||0;v+=_-b}l+=d,c+=v*d}i[r-1][1]+=i[r-1][0]=t,l&&(t-=c/l)}i[r-1][1]+=i[r-1][0]=t,Rp(n,e)}}function Av(n){"@babel/helpers - typeof";return Av=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Av(n)}var Uq=["type","size","sizeType"];function oP(){return oP=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},oP.apply(this,arguments)}function fL(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function hL(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?fL(Object(t),!0).forEach(function(r){Fq(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):fL(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Fq(n,e,t){return e=Bq(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Bq(n){var e=zq(n,"string");return Av(e)=="symbol"?e:String(e)}function zq(n,e){if(Av(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Av(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function jq(n,e){if(n==null)return{};var t=Vq(n,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function Vq(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}var h5={symbolCircle:j2,symbolCross:uq,symbolDiamond:fq,symbolSquare:hq,symbolStar:gq,symbolTriangle:vq,symbolWye:xq},Hq=Math.PI/180,Wq=function(e){var t="symbol".concat(Gb(e));return h5[t]||j2},Gq=function(e,t,r){if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*Hq;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},$q=function(e,t){h5["symbol".concat(Gb(e))]=t},Yb=function(e){var t=e.type,r=t===void 0?"circle":t,i=e.size,a=i===void 0?64:i,o=e.sizeType,s=o===void 0?"area":o,l=jq(e,Uq),c=hL(hL({},l),{},{type:r,size:a,sizeType:s}),f=function(){var _=Wq(r),b=_q().type(_).size(Gq(a,s,r));return b()},d=c.className,m=c.cx,v=c.cy,x=Mt(c,!0);return m===+m&&v===+v&&a===+a?re.createElement("path",oP({},x,{className:Qt("recharts-symbols",d),transform:"translate(".concat(m,", ").concat(v,")"),d:f()})):null};Yb.registerSymbol=$q;function Ip(n){"@babel/helpers - typeof";return Ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ip(n)}function sP(){return sP=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},sP.apply(this,arguments)}function dL(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function qq(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?dL(Object(t),!0).forEach(function(r){Tv(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):dL(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Xq(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Yq(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,p5(r.key),r)}}function Kq(n,e,t){return e&&Yq(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function Zq(n,e,t){return e=U_(e),Jq(n,d5()?Reflect.construct(e,t||[],U_(n).constructor):e.apply(n,t))}function Jq(n,e){if(e&&(Ip(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qq(n)}function Qq(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function d5(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d5=function(){return!!n})()}function U_(n){return U_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},U_(n)}function e7(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&lP(n,e)}function lP(n,e){return lP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lP(n,e)}function Tv(n,e,t){return e=p5(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function p5(n){var e=t7(n,"string");return Ip(e)=="symbol"?e:String(e)}function t7(n,e){if(Ip(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Ip(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var yo=32,V2=(function(n){e7(e,n);function e(){return Xq(this,e),Zq(this,e,arguments)}return Kq(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=yo/2,o=yo/6,s=yo/3,l=r.inactive?i:r.color;if(r.type==="plainline")return re.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:yo,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return re.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(yo,"M").concat(2*s,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return re.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(yo/8,"h").concat(yo,"v").concat(yo*3/4,"h").concat(-yo,"z"),className:"recharts-legend-icon"});if(re.isValidElement(r.legendIcon)){var c=qq({},r);return delete c.legendIcon,re.cloneElement(r.legendIcon,c)}return re.createElement(Yb,{fill:l,cx:a,cy:a,size:yo,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,o=i.iconSize,s=i.layout,l=i.formatter,c=i.inactiveColor,f={x:0,y:0,width:yo,height:yo},d={display:s==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(v,x){var S=v.formatter||l,_=Qt(Tv(Tv({"recharts-legend-item":!0},"legend-item-".concat(x),!0),"inactive",v.inactive));if(v.type==="none")return null;var b=zt(v.value)?null:v.value;_s(!zt(v.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var M=v.inactive?c:v.color;return re.createElement("li",sP({className:_,style:d,key:"legend-item-".concat(x)},_c(r.props,v,x)),re.createElement(eP,{width:o,height:o,viewBox:f,style:m},r.renderIcon(v)),re.createElement("span",{className:"recharts-legend-item-text",style:{color:M}},S?S(b,v,x):b))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,o=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return re.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}]),e})(fe.PureComponent);Tv(V2,"displayName","Legend");Tv(V2,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var qw,pL;function n7(){if(pL)return qw;pL=1;var n=Vb();function e(){this.__data__=new n,this.size=0}return qw=e,qw}var Xw,mL;function r7(){if(mL)return Xw;mL=1;function n(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}return Xw=n,Xw}var Yw,gL;function i7(){if(gL)return Yw;gL=1;function n(e){return this.__data__.get(e)}return Yw=n,Yw}var Kw,vL;function a7(){if(vL)return Kw;vL=1;function n(e){return this.__data__.has(e)}return Kw=n,Kw}var Zw,yL;function o7(){if(yL)return Zw;yL=1;var n=Vb(),e=D2(),t=L2(),r=200;function i(a,o){var s=this.__data__;if(s instanceof n){var l=s.__data__;if(!e||l.length<r-1)return l.push([a,o]),this.size=++s.size,this;s=this.__data__=new t(l)}return s.set(a,o),this.size=s.size,this}return Zw=i,Zw}var Jw,xL;function m5(){if(xL)return Jw;xL=1;var n=Vb(),e=n7(),t=r7(),r=i7(),i=a7(),a=o7();function o(s){var l=this.__data__=new n(s);this.size=l.size}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=r,o.prototype.has=i,o.prototype.set=a,Jw=o,Jw}var Qw,_L;function s7(){if(_L)return Qw;_L=1;var n="__lodash_hash_undefined__";function e(t){return this.__data__.set(t,n),this}return Qw=e,Qw}var eM,bL;function l7(){if(bL)return eM;bL=1;function n(e){return this.__data__.has(e)}return eM=n,eM}var tM,SL;function g5(){if(SL)return tM;SL=1;var n=L2(),e=s7(),t=l7();function r(i){var a=-1,o=i==null?0:i.length;for(this.__data__=new n;++a<o;)this.add(i[a])}return r.prototype.add=r.prototype.push=e,r.prototype.has=t,tM=r,tM}var nM,wL;function v5(){if(wL)return nM;wL=1;function n(e,t){for(var r=-1,i=e==null?0:e.length;++r<i;)if(t(e[r],r,e))return!0;return!1}return nM=n,nM}var rM,ML;function y5(){if(ML)return rM;ML=1;function n(e,t){return e.has(t)}return rM=n,rM}var iM,AL;function x5(){if(AL)return iM;AL=1;var n=g5(),e=v5(),t=y5(),r=1,i=2;function a(o,s,l,c,f,d){var m=l&r,v=o.length,x=s.length;if(v!=x&&!(m&&x>v))return!1;var S=d.get(o),_=d.get(s);if(S&&_)return S==s&&_==o;var b=-1,M=!0,T=l&i?new n:void 0;for(d.set(o,s),d.set(s,o);++b<v;){var E=o[b],P=s[b];if(c)var R=m?c(P,E,b,s,o,d):c(E,P,b,o,s,d);if(R!==void 0){if(R)continue;M=!1;break}if(T){if(!e(s,function(I,U){if(!t(T,U)&&(E===I||f(E,I,l,c,d)))return T.push(U)})){M=!1;break}}else if(!(E===P||f(E,P,l,c,d))){M=!1;break}}return d.delete(o),d.delete(s),M}return iM=a,iM}var aM,TL;function u7(){if(TL)return aM;TL=1;var n=el(),e=n.Uint8Array;return aM=e,aM}var oM,EL;function c7(){if(EL)return oM;EL=1;function n(e){var t=-1,r=Array(e.size);return e.forEach(function(i,a){r[++t]=[a,i]}),r}return oM=n,oM}var sM,PL;function H2(){if(PL)return sM;PL=1;function n(e){var t=-1,r=Array(e.size);return e.forEach(function(i){r[++t]=i}),r}return sM=n,sM}var lM,CL;function f7(){if(CL)return lM;CL=1;var n=Uy(),e=u7(),t=I2(),r=x5(),i=c7(),a=H2(),o=1,s=2,l="[object Boolean]",c="[object Date]",f="[object Error]",d="[object Map]",m="[object Number]",v="[object RegExp]",x="[object Set]",S="[object String]",_="[object Symbol]",b="[object ArrayBuffer]",M="[object DataView]",T=n?n.prototype:void 0,E=T?T.valueOf:void 0;function P(R,I,U,N,k,z,G){switch(U){case M:if(R.byteLength!=I.byteLength||R.byteOffset!=I.byteOffset)return!1;R=R.buffer,I=I.buffer;case b:return!(R.byteLength!=I.byteLength||!z(new e(R),new e(I)));case l:case c:case m:return t(+R,+I);case f:return R.name==I.name&&R.message==I.message;case v:case S:return R==I+"";case d:var K=i;case x:var H=N&o;if(K||(K=a),R.size!=I.size&&!H)return!1;var te=G.get(R);if(te)return te==I;N|=s,G.set(R,I);var J=r(K(R),K(I),N,k,z,G);return G.delete(R),J;case _:if(E)return E.call(R)==E.call(I)}return!1}return lM=P,lM}var uM,OL;function _5(){if(OL)return uM;OL=1;function n(e,t){for(var r=-1,i=t.length,a=e.length;++r<i;)e[a+r]=t[r];return e}return uM=n,uM}var cM,RL;function h7(){if(RL)return cM;RL=1;var n=_5(),e=La();function t(r,i,a){var o=i(r);return e(r)?o:n(o,a(r))}return cM=t,cM}var fM,IL;function d7(){if(IL)return fM;IL=1;function n(e,t){for(var r=-1,i=e==null?0:e.length,a=0,o=[];++r<i;){var s=e[r];t(s,r,e)&&(o[a++]=s)}return o}return fM=n,fM}var hM,DL;function p7(){if(DL)return hM;DL=1;function n(){return[]}return hM=n,hM}var dM,LL;function m7(){if(LL)return dM;LL=1;var n=d7(),e=p7(),t=Object.prototype,r=t.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(o){return o==null?[]:(o=Object(o),n(i(o),function(s){return r.call(o,s)}))}:e;return dM=a,dM}var pM,NL;function g7(){if(NL)return pM;NL=1;function n(e,t){for(var r=-1,i=Array(e);++r<e;)i[r]=t(r);return i}return pM=n,pM}var mM,kL;function v7(){if(kL)return mM;kL=1;var n=lu(),e=uu(),t="[object Arguments]";function r(i){return e(i)&&n(i)==t}return mM=r,mM}var gM,UL;function W2(){if(UL)return gM;UL=1;var n=v7(),e=uu(),t=Object.prototype,r=t.hasOwnProperty,i=t.propertyIsEnumerable,a=n((function(){return arguments})())?n:function(o){return e(o)&&r.call(o,"callee")&&!i.call(o,"callee")};return gM=a,gM}var Kg={exports:{}},vM,FL;function y7(){if(FL)return vM;FL=1;function n(){return!1}return vM=n,vM}Kg.exports;var BL;function b5(){return BL||(BL=1,(function(n,e){var t=el(),r=y7(),i=e&&!e.nodeType&&e,a=i&&!0&&n&&!n.nodeType&&n,o=a&&a.exports===i,s=o?t.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||r;n.exports=c})(Kg,Kg.exports)),Kg.exports}var yM,zL;function G2(){if(zL)return yM;zL=1;var n=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function t(r,i){var a=typeof r;return i=i??n,!!i&&(a=="number"||a!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return yM=t,yM}var xM,jL;function $2(){if(jL)return xM;jL=1;var n=9007199254740991;function e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=n}return xM=e,xM}var _M,VL;function x7(){if(VL)return _M;VL=1;var n=lu(),e=$2(),t=uu(),r="[object Arguments]",i="[object Array]",a="[object Boolean]",o="[object Date]",s="[object Error]",l="[object Function]",c="[object Map]",f="[object Number]",d="[object Object]",m="[object RegExp]",v="[object Set]",x="[object String]",S="[object WeakMap]",_="[object ArrayBuffer]",b="[object DataView]",M="[object Float32Array]",T="[object Float64Array]",E="[object Int8Array]",P="[object Int16Array]",R="[object Int32Array]",I="[object Uint8Array]",U="[object Uint8ClampedArray]",N="[object Uint16Array]",k="[object Uint32Array]",z={};z[M]=z[T]=z[E]=z[P]=z[R]=z[I]=z[U]=z[N]=z[k]=!0,z[r]=z[i]=z[_]=z[a]=z[b]=z[o]=z[s]=z[l]=z[c]=z[f]=z[d]=z[m]=z[v]=z[x]=z[S]=!1;function G(K){return t(K)&&e(K.length)&&!!z[n(K)]}return _M=G,_M}var bM,HL;function S5(){if(HL)return bM;HL=1;function n(e){return function(t){return e(t)}}return bM=n,bM}var Zg={exports:{}};Zg.exports;var WL;function _7(){return WL||(WL=1,(function(n,e){var t=jj(),r=e&&!e.nodeType&&e,i=r&&!0&&n&&!n.nodeType&&n,a=i&&i.exports===r,o=a&&t.process,s=(function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}})();n.exports=s})(Zg,Zg.exports)),Zg.exports}var SM,GL;function w5(){if(GL)return SM;GL=1;var n=x7(),e=S5(),t=_7(),r=t&&t.isTypedArray,i=r?e(r):n;return SM=i,SM}var wM,$L;function b7(){if($L)return wM;$L=1;var n=g7(),e=W2(),t=La(),r=b5(),i=G2(),a=w5(),o=Object.prototype,s=o.hasOwnProperty;function l(c,f){var d=t(c),m=!d&&e(c),v=!d&&!m&&r(c),x=!d&&!m&&!v&&a(c),S=d||m||v||x,_=S?n(c.length,String):[],b=_.length;for(var M in c)(f||s.call(c,M))&&!(S&&(M=="length"||v&&(M=="offset"||M=="parent")||x&&(M=="buffer"||M=="byteLength"||M=="byteOffset")||i(M,b)))&&_.push(M);return _}return wM=l,wM}var MM,qL;function S7(){if(qL)return MM;qL=1;var n=Object.prototype;function e(t){var r=t&&t.constructor,i=typeof r=="function"&&r.prototype||n;return t===i}return MM=e,MM}var AM,XL;function M5(){if(XL)return AM;XL=1;function n(e,t){return function(r){return e(t(r))}}return AM=n,AM}var TM,YL;function w7(){if(YL)return TM;YL=1;var n=M5(),e=n(Object.keys,Object);return TM=e,TM}var EM,KL;function M7(){if(KL)return EM;KL=1;var n=S7(),e=w7(),t=Object.prototype,r=t.hasOwnProperty;function i(a){if(!n(a))return e(a);var o=[];for(var s in Object(a))r.call(a,s)&&s!="constructor"&&o.push(s);return o}return EM=i,EM}var PM,ZL;function By(){if(ZL)return PM;ZL=1;var n=R2(),e=$2();function t(r){return r!=null&&e(r.length)&&!n(r)}return PM=t,PM}var CM,JL;function Kb(){if(JL)return CM;JL=1;var n=b7(),e=M7(),t=By();function r(i){return t(i)?n(i):e(i)}return CM=r,CM}var OM,QL;function A7(){if(QL)return OM;QL=1;var n=h7(),e=m7(),t=Kb();function r(i){return n(i,t,e)}return OM=r,OM}var RM,e3;function T7(){if(e3)return RM;e3=1;var n=A7(),e=1,t=Object.prototype,r=t.hasOwnProperty;function i(a,o,s,l,c,f){var d=s&e,m=n(a),v=m.length,x=n(o),S=x.length;if(v!=S&&!d)return!1;for(var _=v;_--;){var b=m[_];if(!(d?b in o:r.call(o,b)))return!1}var M=f.get(a),T=f.get(o);if(M&&T)return M==o&&T==a;var E=!0;f.set(a,o),f.set(o,a);for(var P=d;++_<v;){b=m[_];var R=a[b],I=o[b];if(l)var U=d?l(I,R,b,o,a,f):l(R,I,b,a,o,f);if(!(U===void 0?R===I||c(R,I,s,l,f):U)){E=!1;break}P||(P=b=="constructor")}if(E&&!P){var N=a.constructor,k=o.constructor;N!=k&&"constructor"in a&&"constructor"in o&&!(typeof N=="function"&&N instanceof N&&typeof k=="function"&&k instanceof k)&&(E=!1)}return f.delete(a),f.delete(o),E}return RM=i,RM}var IM,t3;function E7(){if(t3)return IM;t3=1;var n=Mh(),e=el(),t=n(e,"DataView");return IM=t,IM}var DM,n3;function P7(){if(n3)return DM;n3=1;var n=Mh(),e=el(),t=n(e,"Promise");return DM=t,DM}var LM,r3;function A5(){if(r3)return LM;r3=1;var n=Mh(),e=el(),t=n(e,"Set");return LM=t,LM}var NM,i3;function C7(){if(i3)return NM;i3=1;var n=Mh(),e=el(),t=n(e,"WeakMap");return NM=t,NM}var kM,a3;function O7(){if(a3)return kM;a3=1;var n=E7(),e=D2(),t=P7(),r=A5(),i=C7(),a=lu(),o=Vj(),s="[object Map]",l="[object Object]",c="[object Promise]",f="[object Set]",d="[object WeakMap]",m="[object DataView]",v=o(n),x=o(e),S=o(t),_=o(r),b=o(i),M=a;return(n&&M(new n(new ArrayBuffer(1)))!=m||e&&M(new e)!=s||t&&M(t.resolve())!=c||r&&M(new r)!=f||i&&M(new i)!=d)&&(M=function(T){var E=a(T),P=E==l?T.constructor:void 0,R=P?o(P):"";if(R)switch(R){case v:return m;case x:return s;case S:return c;case _:return f;case b:return d}return E}),kM=M,kM}var UM,o3;function R7(){if(o3)return UM;o3=1;var n=m5(),e=x5(),t=f7(),r=T7(),i=O7(),a=La(),o=b5(),s=w5(),l=1,c="[object Arguments]",f="[object Array]",d="[object Object]",m=Object.prototype,v=m.hasOwnProperty;function x(S,_,b,M,T,E){var P=a(S),R=a(_),I=P?f:i(S),U=R?f:i(_);I=I==c?d:I,U=U==c?d:U;var N=I==d,k=U==d,z=I==U;if(z&&o(S)){if(!o(_))return!1;P=!0,N=!1}if(z&&!N)return E||(E=new n),P||s(S)?e(S,_,b,M,T,E):t(S,_,I,b,M,T,E);if(!(b&l)){var G=N&&v.call(S,"__wrapped__"),K=k&&v.call(_,"__wrapped__");if(G||K){var H=G?S.value():S,te=K?_.value():_;return E||(E=new n),T(H,te,b,M,E)}}return z?(E||(E=new n),r(S,_,b,M,T,E)):!1}return UM=x,UM}var FM,s3;function q2(){if(s3)return FM;s3=1;var n=R7(),e=uu();function t(r,i,a,o,s){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:n(r,i,a,o,t,s)}return FM=t,FM}var BM,l3;function I7(){if(l3)return BM;l3=1;var n=m5(),e=q2(),t=1,r=2;function i(a,o,s,l){var c=s.length,f=c,d=!l;if(a==null)return!f;for(a=Object(a);c--;){var m=s[c];if(d&&m[2]?m[1]!==a[m[0]]:!(m[0]in a))return!1}for(;++c<f;){m=s[c];var v=m[0],x=a[v],S=m[1];if(d&&m[2]){if(x===void 0&&!(v in a))return!1}else{var _=new n;if(l)var b=l(x,S,v,a,o,_);if(!(b===void 0?e(S,x,t|r,l,_):b))return!1}}return!0}return BM=i,BM}var zM,u3;function T5(){if(u3)return zM;u3=1;var n=Ec();function e(t){return t===t&&!n(t)}return zM=e,zM}var jM,c3;function D7(){if(c3)return jM;c3=1;var n=T5(),e=Kb();function t(r){for(var i=e(r),a=i.length;a--;){var o=i[a],s=r[o];i[a]=[o,s,n(s)]}return i}return jM=t,jM}var VM,f3;function E5(){if(f3)return VM;f3=1;function n(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}return VM=n,VM}var HM,h3;function L7(){if(h3)return HM;h3=1;var n=I7(),e=D7(),t=E5();function r(i){var a=e(i);return a.length==1&&a[0][2]?t(a[0][0],a[0][1]):function(o){return o===i||n(o,i,a)}}return HM=r,HM}var WM,d3;function N7(){if(d3)return WM;d3=1;function n(e,t){return e!=null&&t in Object(e)}return WM=n,WM}var GM,p3;function k7(){if(p3)return GM;p3=1;var n=Gj(),e=W2(),t=La(),r=G2(),i=$2(),a=Wb();function o(s,l,c){l=n(l,s);for(var f=-1,d=l.length,m=!1;++f<d;){var v=a(l[f]);if(!(m=s!=null&&c(s,v)))break;s=s[v]}return m||++f!=d?m:(d=s==null?0:s.length,!!d&&i(d)&&r(v,d)&&(t(s)||e(s)))}return GM=o,GM}var $M,m3;function U7(){if(m3)return $M;m3=1;var n=N7(),e=k7();function t(r,i){return r!=null&&e(r,i,n)}return $M=t,$M}var qM,g3;function F7(){if(g3)return qM;g3=1;var n=q2(),e=$j(),t=U7(),r=O2(),i=T5(),a=E5(),o=Wb(),s=1,l=2;function c(f,d){return r(f)&&i(d)?a(o(f),d):function(m){var v=e(m,f);return v===void 0&&v===d?t(m,f):n(d,v,s|l)}}return qM=c,qM}var XM,v3;function cm(){if(v3)return XM;v3=1;function n(e){return e}return XM=n,XM}var YM,y3;function B7(){if(y3)return YM;y3=1;function n(e){return function(t){return t?.[e]}}return YM=n,YM}var KM,x3;function z7(){if(x3)return KM;x3=1;var n=k2();function e(t){return function(r){return n(r,t)}}return KM=e,KM}var ZM,_3;function j7(){if(_3)return ZM;_3=1;var n=B7(),e=z7(),t=O2(),r=Wb();function i(a){return t(a)?n(r(a)):e(a)}return ZM=i,ZM}var JM,b3;function tl(){if(b3)return JM;b3=1;var n=L7(),e=F7(),t=cm(),r=La(),i=j7();function a(o){return typeof o=="function"?o:o==null?t:typeof o=="object"?r(o)?e(o[0],o[1]):n(o):i(o)}return JM=a,JM}var QM,S3;function P5(){if(S3)return QM;S3=1;function n(e,t,r,i){for(var a=e.length,o=r+(i?1:-1);i?o--:++o<a;)if(t(e[o],o,e))return o;return-1}return QM=n,QM}var eA,w3;function V7(){if(w3)return eA;w3=1;function n(e){return e!==e}return eA=n,eA}var tA,M3;function H7(){if(M3)return tA;M3=1;function n(e,t,r){for(var i=r-1,a=e.length;++i<a;)if(e[i]===t)return i;return-1}return tA=n,tA}var nA,A3;function W7(){if(A3)return nA;A3=1;var n=P5(),e=V7(),t=H7();function r(i,a,o){return a===a?t(i,a,o):n(i,e,o)}return nA=r,nA}var rA,T3;function G7(){if(T3)return rA;T3=1;var n=W7();function e(t,r){var i=t==null?0:t.length;return!!i&&n(t,r,0)>-1}return rA=e,rA}var iA,E3;function $7(){if(E3)return iA;E3=1;function n(e,t,r){for(var i=-1,a=e==null?0:e.length;++i<a;)if(r(t,e[i]))return!0;return!1}return iA=n,iA}var aA,P3;function q7(){if(P3)return aA;P3=1;function n(){}return aA=n,aA}var oA,C3;function X7(){if(C3)return oA;C3=1;var n=A5(),e=q7(),t=H2(),r=1/0,i=n&&1/t(new n([,-0]))[1]==r?function(a){return new n(a)}:e;return oA=i,oA}var sA,O3;function Y7(){if(O3)return sA;O3=1;var n=g5(),e=G7(),t=$7(),r=y5(),i=X7(),a=H2(),o=200;function s(l,c,f){var d=-1,m=e,v=l.length,x=!0,S=[],_=S;if(f)x=!1,m=t;else if(v>=o){var b=c?null:i(l);if(b)return a(b);x=!1,m=r,_=new n}else _=c?[]:S;e:for(;++d<v;){var M=l[d],T=c?c(M):M;if(M=f||M!==0?M:0,x&&T===T){for(var E=_.length;E--;)if(_[E]===T)continue e;c&&_.push(T),S.push(M)}else m(_,T,f)||(_!==S&&_.push(T),S.push(M))}return S}return sA=s,sA}var lA,R3;function K7(){if(R3)return lA;R3=1;var n=tl(),e=Y7();function t(r,i){return r&&r.length?e(r,n(i,2)):[]}return lA=t,lA}var Z7=K7();const I3=Tn(Z7);function C5(n,e,t){return e===!0?I3(n,t):zt(e)?I3(n,e):n}function Dp(n){"@babel/helpers - typeof";return Dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dp(n)}var J7=["ref"];function D3(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Tf(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?D3(Object(t),!0).forEach(function(r){Zb(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):D3(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Q7(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function L3(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,I5(r.key),r)}}function eX(n,e,t){return e&&L3(n.prototype,e),t&&L3(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function tX(n,e,t){return e=F_(e),nX(n,O5()?Reflect.construct(e,t||[],F_(n).constructor):e.apply(n,t))}function nX(n,e){if(e&&(Dp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return R5(n)}function O5(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O5=function(){return!!n})()}function F_(n){return F_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},F_(n)}function R5(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function rX(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&uP(n,e)}function uP(n,e){return uP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},uP(n,e)}function Zb(n,e,t){return e=I5(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function I5(n){var e=iX(n,"string");return Dp(e)=="symbol"?e:String(e)}function iX(n,e){if(Dp(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Dp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function aX(n,e){if(n==null)return{};var t=oX(n,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function oX(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function sX(n){return n.value}function lX(n,e){if(re.isValidElement(n))return re.cloneElement(n,e);if(typeof n=="function")return re.createElement(n,e);e.ref;var t=aX(e,J7);return re.createElement(V2,t)}var N3=1,Po=(function(n){rX(e,n);function e(){var t;Q7(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=tX(this,e,[].concat(i)),Zb(R5(t),"lastBoundingBox",{width:-1,height:-1}),t}return eX(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>N3||Math.abs(i.height-this.lastBoundingBox.height)>N3)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Tf({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,o=i.align,s=i.verticalAlign,l=i.margin,c=i.chartWidth,f=i.chartHeight,d,m;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&a==="vertical"){var v=this.getBBoxSnapshot();d={left:((c||0)-v.width)/2}}else d=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var x=this.getBBoxSnapshot();m={top:((f||0)-x.height)/2}}else m=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Tf(Tf({},d),m)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,o=i.width,s=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,f=i.payload,d=Tf(Tf({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return re.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(v){r.wrapperNode=v}},lX(a,Tf(Tf({},this.props),{},{payload:C5(f,c,sX)})))}}],[{key:"getWithHeight",value:function(r,i){var a=r.props.layout;return a==="vertical"&&Ze(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}]),e})(fe.PureComponent);Zb(Po,"displayName","Legend");Zb(Po,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var uA,k3;function uX(){if(k3)return uA;k3=1;var n=Uy(),e=W2(),t=La(),r=n?n.isConcatSpreadable:void 0;function i(a){return t(a)||e(a)||!!(r&&a&&a[r])}return uA=i,uA}var cA,U3;function D5(){if(U3)return cA;U3=1;var n=_5(),e=uX();function t(r,i,a,o,s){var l=-1,c=r.length;for(a||(a=e),s||(s=[]);++l<c;){var f=r[l];i>0&&a(f)?i>1?t(f,i-1,a,o,s):n(s,f):o||(s[s.length]=f)}return s}return cA=t,cA}var fA,F3;function cX(){if(F3)return fA;F3=1;function n(e){return function(t,r,i){for(var a=-1,o=Object(t),s=i(t),l=s.length;l--;){var c=s[e?l:++a];if(r(o[c],c,o)===!1)break}return t}}return fA=n,fA}var hA,B3;function fX(){if(B3)return hA;B3=1;var n=cX(),e=n();return hA=e,hA}var dA,z3;function L5(){if(z3)return dA;z3=1;var n=fX(),e=Kb();function t(r,i){return r&&n(r,i,e)}return dA=t,dA}var pA,j3;function hX(){if(j3)return pA;j3=1;var n=By();function e(t,r){return function(i,a){if(i==null)return i;if(!n(i))return t(i,a);for(var o=i.length,s=r?o:-1,l=Object(i);(r?s--:++s<o)&&a(l[s],s,l)!==!1;);return i}}return pA=e,pA}var mA,V3;function X2(){if(V3)return mA;V3=1;var n=L5(),e=hX(),t=e(n);return mA=t,mA}var gA,H3;function N5(){if(H3)return gA;H3=1;var n=X2(),e=By();function t(r,i){var a=-1,o=e(r)?Array(r.length):[];return n(r,function(s,l,c){o[++a]=i(s,l,c)}),o}return gA=t,gA}var vA,W3;function dX(){if(W3)return vA;W3=1;function n(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}return vA=n,vA}var yA,G3;function pX(){if(G3)return yA;G3=1;var n=sm();function e(t,r){if(t!==r){var i=t!==void 0,a=t===null,o=t===t,s=n(t),l=r!==void 0,c=r===null,f=r===r,d=n(r);if(!c&&!d&&!s&&t>r||s&&l&&f&&!c&&!d||a&&l&&f||!i&&f||!o)return 1;if(!a&&!s&&!d&&t<r||d&&i&&o&&!a&&!s||c&&i&&o||!l&&o||!f)return-1}return 0}return yA=e,yA}var xA,$3;function mX(){if($3)return xA;$3=1;var n=pX();function e(t,r,i){for(var a=-1,o=t.criteria,s=r.criteria,l=o.length,c=i.length;++a<l;){var f=n(o[a],s[a]);if(f){if(a>=c)return f;var d=i[a];return f*(d=="desc"?-1:1)}}return t.index-r.index}return xA=e,xA}var _A,q3;function gX(){if(q3)return _A;q3=1;var n=N2(),e=k2(),t=tl(),r=N5(),i=dX(),a=S5(),o=mX(),s=cm(),l=La();function c(f,d,m){d.length?d=n(d,function(S){return l(S)?function(_){return e(_,S.length===1?S[0]:S)}:S}):d=[s];var v=-1;d=n(d,a(t));var x=r(f,function(S,_,b){var M=n(d,function(T){return T(S)});return{criteria:M,index:++v,value:S}});return i(x,function(S,_){return o(S,_,m)})}return _A=c,_A}var bA,X3;function vX(){if(X3)return bA;X3=1;function n(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}return bA=n,bA}var SA,Y3;function yX(){if(Y3)return SA;Y3=1;var n=vX(),e=Math.max;function t(r,i,a){return i=e(i===void 0?r.length-1:i,0),function(){for(var o=arguments,s=-1,l=e(o.length-i,0),c=Array(l);++s<l;)c[s]=o[i+s];s=-1;for(var f=Array(i+1);++s<i;)f[s]=o[s];return f[i]=a(c),n(r,this,f)}}return SA=t,SA}var wA,K3;function xX(){if(K3)return wA;K3=1;function n(e){return function(){return e}}return wA=n,wA}var MA,Z3;function k5(){if(Z3)return MA;Z3=1;var n=Mh(),e=(function(){try{var t=n(Object,"defineProperty");return t({},"",{}),t}catch{}})();return MA=e,MA}var AA,J3;function _X(){if(J3)return AA;J3=1;var n=xX(),e=k5(),t=cm(),r=e?function(i,a){return e(i,"toString",{configurable:!0,enumerable:!1,value:n(a),writable:!0})}:t;return AA=r,AA}var TA,Q3;function bX(){if(Q3)return TA;Q3=1;var n=800,e=16,t=Date.now;function r(i){var a=0,o=0;return function(){var s=t(),l=e-(s-o);if(o=s,l>0){if(++a>=n)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return TA=r,TA}var EA,eN;function SX(){if(eN)return EA;eN=1;var n=_X(),e=bX(),t=e(n);return EA=t,EA}var PA,tN;function wX(){if(tN)return PA;tN=1;var n=cm(),e=yX(),t=SX();function r(i,a){return t(e(i,a,n),i+"")}return PA=r,PA}var CA,nN;function Jb(){if(nN)return CA;nN=1;var n=I2(),e=By(),t=G2(),r=Ec();function i(a,o,s){if(!r(s))return!1;var l=typeof o;return(l=="number"?e(s)&&t(o,s.length):l=="string"&&o in s)?n(s[o],a):!1}return CA=i,CA}var OA,rN;function MX(){if(rN)return OA;rN=1;var n=D5(),e=gX(),t=wX(),r=Jb(),i=t(function(a,o){if(a==null)return[];var s=o.length;return s>1&&r(a,o[0],o[1])?o=[]:s>2&&r(o[0],o[1],o[2])&&(o=[o[0]]),e(a,n(o,1),[])});return OA=i,OA}var AX=MX();const Y2=Tn(AX);function Ev(n){"@babel/helpers - typeof";return Ev=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ev(n)}function cP(){return cP=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},cP.apply(this,arguments)}function TX(n,e){return OX(n)||CX(n,e)||PX(n,e)||EX()}function EX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PX(n,e){if(n){if(typeof n=="string")return iN(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return iN(n,e)}}function iN(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function CX(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(t=t.call(n)).next,e!==0)for(;!(l=(r=a.call(t)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){c=!0,i=f}finally{try{if(!l&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function OX(n){if(Array.isArray(n))return n}function aN(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function RA(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?aN(Object(t),!0).forEach(function(r){RX(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):aN(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function RX(n,e,t){return e=IX(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function IX(n){var e=DX(n,"string");return Ev(e)=="symbol"?e:String(e)}function DX(n,e){if(Ev(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Ev(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function LX(n){return Array.isArray(n)&&Qr(n[0])&&Qr(n[1])?n.join(" ~ "):n}var NX=function(e){var t=e.separator,r=t===void 0?" : ":t,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,s=o===void 0?{}:o,l=e.labelStyle,c=l===void 0?{}:l,f=e.payload,d=e.formatter,m=e.itemSorter,v=e.wrapperClassName,x=e.labelClassName,S=e.label,_=e.labelFormatter,b=e.accessibilityLayer,M=b===void 0?!1:b,T=function(){if(f&&f.length){var G={padding:0,margin:0},K=(m?Y2(f,m):f).map(function(H,te){if(H.type==="none")return null;var J=RA({display:"block",paddingTop:4,paddingBottom:4,color:H.color||"#000"},s),ie=H.formatter||d||LX,B=H.value,X=H.name,$=B,V=X;if(ie&&$!=null&&V!=null){var ee=ie(B,X,H,te,f);if(Array.isArray(ee)){var se=TX(ee,2);$=se[0],V=se[1]}else $=ee}return re.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(te),style:J},Qr(V)?re.createElement("span",{className:"recharts-tooltip-item-name"},V):null,Qr(V)?re.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,re.createElement("span",{className:"recharts-tooltip-item-value"},$),re.createElement("span",{className:"recharts-tooltip-item-unit"},H.unit||""))});return re.createElement("ul",{className:"recharts-tooltip-item-list",style:G},K)}return null},E=RA({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),P=RA({margin:0},c),R=!Ut(S),I=R?S:"",U=Qt("recharts-default-tooltip",v),N=Qt("recharts-tooltip-label",x);R&&_&&f!==void 0&&f!==null&&(I=_(S,f));var k=M?{role:"status","aria-live":"assertive"}:{};return re.createElement("div",cP({className:U,style:E},k),re.createElement("p",{className:N,style:P},re.isValidElement(I)?I:"".concat(I)),T())};function Pv(n){"@babel/helpers - typeof";return Pv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pv(n)}function ax(n,e,t){return e=kX(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function kX(n){var e=UX(n,"string");return Pv(e)=="symbol"?e:String(e)}function UX(n,e){if(Pv(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Pv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var bg="recharts-tooltip-wrapper",FX={visibility:"hidden"};function BX(n){var e=n.coordinate,t=n.translateX,r=n.translateY;return Qt(bg,ax(ax(ax(ax({},"".concat(bg,"-right"),Ze(t)&&e&&Ze(e.x)&&t>=e.x),"".concat(bg,"-left"),Ze(t)&&e&&Ze(e.x)&&t<e.x),"".concat(bg,"-bottom"),Ze(r)&&e&&Ze(e.y)&&r>=e.y),"".concat(bg,"-top"),Ze(r)&&e&&Ze(e.y)&&r<e.y))}function oN(n){var e=n.allowEscapeViewBox,t=n.coordinate,r=n.key,i=n.offsetTopLeft,a=n.position,o=n.reverseDirection,s=n.tooltipDimension,l=n.viewBox,c=n.viewBoxDimension;if(a&&Ze(a[r]))return a[r];var f=t[r]-s-i,d=t[r]+i;if(e[r])return o[r]?f:d;if(o[r]){var m=f,v=l[r];return m<v?Math.max(d,l[r]):Math.max(f,l[r])}var x=d+s,S=l[r]+c;return x>S?Math.max(f,l[r]):Math.max(d,l[r])}function zX(n){var e=n.translateX,t=n.translateY,r=n.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(t,"px, 0)"):"translate(".concat(e,"px, ").concat(t,"px)")}}function jX(n){var e=n.allowEscapeViewBox,t=n.coordinate,r=n.offsetTopLeft,i=n.position,a=n.reverseDirection,o=n.tooltipBox,s=n.useTranslate3d,l=n.viewBox,c,f,d;return o.height>0&&o.width>0&&t?(f=oN({allowEscapeViewBox:e,coordinate:t,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),d=oN({allowEscapeViewBox:e,coordinate:t,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),c=zX({translateX:f,translateY:d,useTranslate3d:s})):c=FX,{cssProperties:c,cssClasses:BX({translateX:f,translateY:d,coordinate:t})}}function Lp(n){"@babel/helpers - typeof";return Lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lp(n)}function sN(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function lN(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?sN(Object(t),!0).forEach(function(r){dP(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):sN(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function VX(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function HX(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,F5(r.key),r)}}function WX(n,e,t){return e&&HX(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function GX(n,e,t){return e=B_(e),$X(n,U5()?Reflect.construct(e,t||[],B_(n).constructor):e.apply(n,t))}function $X(n,e){if(e&&(Lp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fP(n)}function U5(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(U5=function(){return!!n})()}function B_(n){return B_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},B_(n)}function fP(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function qX(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&hP(n,e)}function hP(n,e){return hP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},hP(n,e)}function dP(n,e,t){return e=F5(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function F5(n){var e=XX(n,"string");return Lp(e)=="symbol"?e:String(e)}function XX(n,e){if(Lp(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Lp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var uN=1,YX=(function(n){qX(e,n);function e(){var t;VX(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=GX(this,e,[].concat(i)),dP(fP(t),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),dP(fP(t),"handleKeyDown",function(o){if(o.key==="Escape"){var s,l,c,f;t.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=t.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(c=(f=t.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&c!==void 0?c:0}})}}),t}return WX(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>uN||Math.abs(r.height-this.state.lastBoundingBox.height)>uN)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.children,f=i.coordinate,d=i.hasPayload,m=i.isAnimationActive,v=i.offset,x=i.position,S=i.reverseDirection,_=i.useTranslate3d,b=i.viewBox,M=i.wrapperStyle,T=jX({allowEscapeViewBox:o,coordinate:f,offsetTopLeft:v,position:x,reverseDirection:S,tooltipBox:this.state.lastBoundingBox,useTranslate3d:_,viewBox:b}),E=T.cssClasses,P=T.cssProperties,R=lN(lN({transition:m&&a?"transform ".concat(s,"ms ").concat(l):void 0},P),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&d?"visible":"hidden",position:"absolute",top:0,left:0},M);return re.createElement("div",{tabIndex:-1,className:E,style:R,ref:function(U){r.wrapperNode=U}},c)}}]),e})(fe.PureComponent),KX=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},cu={isSsr:KX()};function Np(n){"@babel/helpers - typeof";return Np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Np(n)}function cN(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function fN(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?cN(Object(t),!0).forEach(function(r){K2(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):cN(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function ZX(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function JX(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,z5(r.key),r)}}function QX(n,e,t){return e&&JX(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function eY(n,e,t){return e=z_(e),tY(n,B5()?Reflect.construct(e,t||[],z_(n).constructor):e.apply(n,t))}function tY(n,e){if(e&&(Np(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nY(n)}function nY(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function B5(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B5=function(){return!!n})()}function z_(n){return z_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},z_(n)}function rY(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&pP(n,e)}function pP(n,e){return pP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},pP(n,e)}function K2(n,e,t){return e=z5(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function z5(n){var e=iY(n,"string");return Np(e)=="symbol"?e:String(e)}function iY(n,e){if(Np(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Np(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function aY(n){return n.dataKey}function oY(n,e){return re.isValidElement(n)?re.cloneElement(n,e):typeof n=="function"?re.createElement(n,e):re.createElement(NX,e)}var pi=(function(n){rY(e,n);function e(){return ZX(this,e),eY(this,e,arguments)}return QX(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.content,f=i.coordinate,d=i.filterNull,m=i.isAnimationActive,v=i.offset,x=i.payload,S=i.payloadUniqBy,_=i.position,b=i.reverseDirection,M=i.useTranslate3d,T=i.viewBox,E=i.wrapperStyle,P=x??[];d&&P.length&&(P=C5(x.filter(function(I){return I.value!=null&&(I.hide!==!0||r.props.includeHidden)}),S,aY));var R=P.length>0;return re.createElement(YX,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:m,active:a,coordinate:f,hasPayload:R,offset:v,position:_,reverseDirection:b,useTranslate3d:M,viewBox:T,wrapperStyle:E},oY(c,fN(fN({},this.props),{},{payload:P})))}}]),e})(fe.PureComponent);K2(pi,"displayName","Tooltip");K2(pi,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!cu.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var IA,hN;function sY(){if(hN)return IA;hN=1;var n=el(),e=function(){return n.Date.now()};return IA=e,IA}var DA,dN;function lY(){if(dN)return DA;dN=1;var n=/\s/;function e(t){for(var r=t.length;r--&&n.test(t.charAt(r)););return r}return DA=e,DA}var LA,pN;function uY(){if(pN)return LA;pN=1;var n=lY(),e=/^\s+/;function t(r){return r&&r.slice(0,n(r)+1).replace(e,"")}return LA=t,LA}var NA,mN;function j5(){if(mN)return NA;mN=1;var n=uY(),e=Ec(),t=sm(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,s=parseInt;function l(c){if(typeof c=="number")return c;if(t(c))return r;if(e(c)){var f=typeof c.valueOf=="function"?c.valueOf():c;c=e(f)?f+"":f}if(typeof c!="string")return c===0?c:+c;c=n(c);var d=a.test(c);return d||o.test(c)?s(c.slice(2),d?2:8):i.test(c)?r:+c}return NA=l,NA}var kA,gN;function cY(){if(gN)return kA;gN=1;var n=Ec(),e=sY(),t=j5(),r="Expected a function",i=Math.max,a=Math.min;function o(s,l,c){var f,d,m,v,x,S,_=0,b=!1,M=!1,T=!0;if(typeof s!="function")throw new TypeError(r);l=t(l)||0,n(c)&&(b=!!c.leading,M="maxWait"in c,m=M?i(t(c.maxWait)||0,l):m,T="trailing"in c?!!c.trailing:T);function E(K){var H=f,te=d;return f=d=void 0,_=K,v=s.apply(te,H),v}function P(K){return _=K,x=setTimeout(U,l),b?E(K):v}function R(K){var H=K-S,te=K-_,J=l-H;return M?a(J,m-te):J}function I(K){var H=K-S,te=K-_;return S===void 0||H>=l||H<0||M&&te>=m}function U(){var K=e();if(I(K))return N(K);x=setTimeout(U,R(K))}function N(K){return x=void 0,T&&f?E(K):(f=d=void 0,v)}function k(){x!==void 0&&clearTimeout(x),_=0,f=S=d=x=void 0}function z(){return x===void 0?v:N(e())}function G(){var K=e(),H=I(K);if(f=arguments,d=this,S=K,H){if(x===void 0)return P(S);if(M)return clearTimeout(x),x=setTimeout(U,l),E(S)}return x===void 0&&(x=setTimeout(U,l)),v}return G.cancel=k,G.flush=z,G}return kA=o,kA}var UA,vN;function fY(){if(vN)return UA;vN=1;var n=cY(),e=Ec(),t="Expected a function";function r(i,a,o){var s=!0,l=!0;if(typeof i!="function")throw new TypeError(t);return e(o)&&(s="leading"in o?!!o.leading:s,l="trailing"in o?!!o.trailing:l),n(i,a,{leading:s,maxWait:a,trailing:l})}return UA=r,UA}var hY=fY();const V5=Tn(hY);function Cv(n){"@babel/helpers - typeof";return Cv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cv(n)}function yN(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function ox(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?yN(Object(t),!0).forEach(function(r){dY(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):yN(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function dY(n,e,t){return e=pY(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function pY(n){var e=mY(n,"string");return Cv(e)=="symbol"?e:String(e)}function mY(n,e){if(Cv(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Cv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function gY(n,e){return _Y(n)||xY(n,e)||yY(n,e)||vY()}function vY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yY(n,e){if(n){if(typeof n=="string")return xN(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return xN(n,e)}}function xN(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function xY(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(t=t.call(n)).next,e!==0)for(;!(l=(r=a.call(t)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){c=!0,i=f}finally{try{if(!l&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function _Y(n){if(Array.isArray(n))return n}var Gl=fe.forwardRef(function(n,e){var t=n.aspect,r=n.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=n.width,o=a===void 0?"100%":a,s=n.height,l=s===void 0?"100%":s,c=n.minWidth,f=c===void 0?0:c,d=n.minHeight,m=n.maxHeight,v=n.children,x=n.debounce,S=x===void 0?0:x,_=n.id,b=n.className,M=n.onResize,T=n.style,E=T===void 0?{}:T,P=fe.useRef(null),R=fe.useRef();R.current=M,fe.useImperativeHandle(e,function(){return Object.defineProperty(P.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),P.current},configurable:!0})});var I=fe.useState({containerWidth:i.width,containerHeight:i.height}),U=gY(I,2),N=U[0],k=U[1],z=fe.useCallback(function(K,H){k(function(te){var J=Math.round(K),ie=Math.round(H);return te.containerWidth===J&&te.containerHeight===ie?te:{containerWidth:J,containerHeight:ie}})},[]);fe.useEffect(function(){var K=function(X){var $,V=X[0].contentRect,ee=V.width,se=V.height;z(ee,se),($=R.current)===null||$===void 0||$.call(R,ee,se)};S>0&&(K=V5(K,S,{trailing:!0,leading:!1}));var H=new ResizeObserver(K),te=P.current.getBoundingClientRect(),J=te.width,ie=te.height;return z(J,ie),H.observe(P.current),function(){H.disconnect()}},[z,S]);var G=fe.useMemo(function(){var K=N.containerWidth,H=N.containerHeight;if(K<0||H<0)return null;_s(Kf(o)||Kf(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),_s(!t||t>0,"The aspect(%s) must be greater than zero.",t);var te=Kf(o)?K:o,J=Kf(l)?H:l;t&&t>0&&(te?J=te/t:J&&(te=J*t),m&&J>m&&(J=m)),_s(te>0||J>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,te,J,o,l,f,d,t);var ie=!Array.isArray(v)&&YE.isElement(v)&&Zl(v.type).endsWith("Chart");return re.Children.map(v,function(B){return YE.isElement(B)?fe.cloneElement(B,ox({width:te,height:J},ie?{style:ox({height:"100%",width:"100%",maxHeight:J,maxWidth:te},B.props.style)}:{})):B})},[t,v,l,m,d,f,N,o]);return re.createElement("div",{id:_?"".concat(_):void 0,className:Qt("recharts-responsive-container",b),style:ox(ox({},E),{},{width:o,height:l,minWidth:f,minHeight:d,maxHeight:m}),ref:P},G)}),zy=function(e){return null};zy.displayName="Cell";function Ov(n){"@babel/helpers - typeof";return Ov=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ov(n)}function _N(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function mP(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?_N(Object(t),!0).forEach(function(r){bY(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):_N(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function bY(n,e,t){return e=SY(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function SY(n){var e=wY(n,"string");return Ov(e)=="symbol"?e:String(e)}function wY(n,e){if(Ov(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Ov(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var Id={widthCache:{},cacheCount:0},MY=2e3,AY={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},bN="recharts_measurement_span";function TY(n){var e=mP({},n);return Object.keys(e).forEach(function(t){e[t]||delete e[t]}),e}var iv=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||cu.isSsr)return{width:0,height:0};var r=TY(t),i=JSON.stringify({text:e,copyStyle:r});if(Id.widthCache[i])return Id.widthCache[i];try{var a=document.getElementById(bN);a||(a=document.createElement("span"),a.setAttribute("id",bN),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=mP(mP({},AY),r);Object.assign(a.style,o),a.textContent="".concat(e);var s=a.getBoundingClientRect(),l={width:s.width,height:s.height};return Id.widthCache[i]=l,++Id.cacheCount>MY&&(Id.cacheCount=0,Id.widthCache={}),l}catch{return{width:0,height:0}}},EY=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Rv(n){"@babel/helpers - typeof";return Rv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rv(n)}function j_(n,e){return RY(n)||OY(n,e)||CY(n,e)||PY()}function PY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CY(n,e){if(n){if(typeof n=="string")return SN(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return SN(n,e)}}function SN(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function OY(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;l=!1}else for(;!(l=(r=a.call(t)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){c=!0,i=f}finally{try{if(!l&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function RY(n){if(Array.isArray(n))return n}function IY(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function wN(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,LY(r.key),r)}}function DY(n,e,t){return e&&wN(n.prototype,e),t&&wN(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function LY(n){var e=NY(n,"string");return Rv(e)=="symbol"?e:String(e)}function NY(n,e){if(Rv(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Rv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var MN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,AN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,kY=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,UY=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,H5={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},FY=Object.keys(H5),cp="NaN";function BY(n,e){return n*H5[e]}var sx=(function(){function n(e,t){IY(this,n),this.num=e,this.unit=t,this.num=e,this.unit=t,Number.isNaN(e)&&(this.unit=""),t!==""&&!kY.test(t)&&(this.num=NaN,this.unit=""),FY.includes(t)&&(this.num=BY(e,t),this.unit="px")}return DY(n,[{key:"add",value:function(t){return this.unit!==t.unit?new n(NaN,""):new n(this.num+t.num,this.unit)}},{key:"subtract",value:function(t){return this.unit!==t.unit?new n(NaN,""):new n(this.num-t.num,this.unit)}},{key:"multiply",value:function(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new n(NaN,""):new n(this.num*t.num,this.unit||t.unit)}},{key:"divide",value:function(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new n(NaN,""):new n(this.num/t.num,this.unit||t.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(t){var r,i=(r=UY.exec(t))!==null&&r!==void 0?r:[],a=j_(i,3),o=a[1],s=a[2];return new n(parseFloat(o),s??"")}}]),n})();function W5(n){if(n.includes(cp))return cp;for(var e=n;e.includes("*")||e.includes("/");){var t,r=(t=MN.exec(e))!==null&&t!==void 0?t:[],i=j_(r,4),a=i[1],o=i[2],s=i[3],l=sx.parse(a??""),c=sx.parse(s??""),f=o==="*"?l.multiply(c):l.divide(c);if(f.isNaN())return cp;e=e.replace(MN,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,m=(d=AN.exec(e))!==null&&d!==void 0?d:[],v=j_(m,4),x=v[1],S=v[2],_=v[3],b=sx.parse(x??""),M=sx.parse(_??""),T=S==="+"?b.add(M):b.subtract(M);if(T.isNaN())return cp;e=e.replace(AN,T.toString())}return e}var TN=/\(([^()]*)\)/;function zY(n){for(var e=n;e.includes("(");){var t=TN.exec(e),r=j_(t,2),i=r[1];e=e.replace(TN,W5(i))}return e}function jY(n){var e=n.replace(/\s+/g,"");return e=zY(e),e=W5(e),e}function VY(n){try{return jY(n)}catch{return cp}}function FA(n){var e=VY(n.slice(5,-1));return e===cp?"":e}var HY=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],WY=["dx","dy","angle","className","breakAll"];function gP(){return gP=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},gP.apply(this,arguments)}function EN(n,e){if(n==null)return{};var t=GY(n,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function GY(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function PN(n,e){return YY(n)||XY(n,e)||qY(n,e)||$Y()}function $Y(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qY(n,e){if(n){if(typeof n=="string")return CN(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return CN(n,e)}}function CN(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function XY(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;l=!1}else for(;!(l=(r=a.call(t)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){c=!0,i=f}finally{try{if(!l&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function YY(n){if(Array.isArray(n))return n}var G5=/[ \f\n\r\t\v\u2028\u2029]+/,$5=function(e){var t=e.children,r=e.breakAll,i=e.style;try{var a=[];Ut(t)||(r?a=t.toString().split(""):a=t.toString().split(G5));var o=a.map(function(l){return{word:l,width:iv(l,i).width}}),s=r?0:iv("",i).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},KY=function(e,t,r,i,a){var o=e.maxLines,s=e.children,l=e.style,c=e.breakAll,f=Ze(o),d=s,m=function(){var te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return te.reduce(function(J,ie){var B=ie.word,X=ie.width,$=J[J.length-1];if($&&(i==null||a||$.width+X+r<Number(i)))$.words.push(B),$.width+=X+r;else{var V={words:[B],width:X};J.push(V)}return J},[])},v=m(t),x=function(te){return te.reduce(function(J,ie){return J.width>ie.width?J:ie})};if(!f)return v;for(var S="",_=function(te){var J=d.slice(0,te),ie=$5({breakAll:c,style:l,children:J+S}).wordsWithComputedWidth,B=m(ie),X=B.length>o||x(B).width>Number(i);return[X,B]},b=0,M=d.length-1,T=0,E;b<=M&&T<=d.length-1;){var P=Math.floor((b+M)/2),R=P-1,I=_(R),U=PN(I,2),N=U[0],k=U[1],z=_(P),G=PN(z,1),K=G[0];if(!N&&!K&&(b=P+1),N&&K&&(M=P-1),!N&&K){E=k;break}T++}return E||v},ON=function(e){var t=Ut(e)?[]:e.toString().split(G5);return[{words:t}]},ZY=function(e){var t=e.width,r=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,s=e.maxLines;if((t||r)&&!cu.isSsr){var l,c,f=$5({breakAll:o,children:i,style:a});if(f){var d=f.wordsWithComputedWidth,m=f.spaceWidth;l=d,c=m}else return ON(i);return KY({breakAll:o,children:i,maxLines:s,style:a},l,c,t,r)}return ON(i)},RN="#808080",vh=function(e){var t=e.x,r=t===void 0?0:t,i=e.y,a=i===void 0?0:i,o=e.lineHeight,s=o===void 0?"1em":o,l=e.capHeight,c=l===void 0?"0.71em":l,f=e.scaleToFit,d=f===void 0?!1:f,m=e.textAnchor,v=m===void 0?"start":m,x=e.verticalAnchor,S=x===void 0?"end":x,_=e.fill,b=_===void 0?RN:_,M=EN(e,HY),T=fe.useMemo(function(){return ZY({breakAll:M.breakAll,children:M.children,maxLines:M.maxLines,scaleToFit:d,style:M.style,width:M.width})},[M.breakAll,M.children,M.maxLines,d,M.style,M.width]),E=M.dx,P=M.dy,R=M.angle,I=M.className,U=M.breakAll,N=EN(M,WY);if(!Qr(r)||!Qr(a))return null;var k=r+(Ze(E)?E:0),z=a+(Ze(P)?P:0),G;switch(S){case"start":G=FA("calc(".concat(c,")"));break;case"middle":G=FA("calc(".concat((T.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:G=FA("calc(".concat(T.length-1," * -").concat(s,")"));break}var K=[];if(d){var H=T[0].width,te=M.width;K.push("scale(".concat((Ze(te)?te/H:1)/H,")"))}return R&&K.push("rotate(".concat(R,", ").concat(k,", ").concat(z,")")),K.length&&(N.transform=K.join(" ")),re.createElement("text",gP({},Mt(N,!0),{x:k,y:z,className:Qt("recharts-text",I),textAnchor:v,fill:b.includes("url")?RN:b}),T.map(function(J,ie){var B=J.words.join(U?"":" ");return re.createElement("tspan",{x:k,dy:ie===0?G:s,key:B},B)}))};function pc(n,e){return n==null||e==null?NaN:n<e?-1:n>e?1:n>=e?0:NaN}function JY(n,e){return n==null||e==null?NaN:e<n?-1:e>n?1:e>=n?0:NaN}function Z2(n){let e,t,r;n.length!==2?(e=pc,t=(s,l)=>pc(n(s),l),r=(s,l)=>n(s)-l):(e=n===pc||n===JY?n:QY,t=n,r=n);function i(s,l,c=0,f=s.length){if(c<f){if(e(l,l)!==0)return f;do{const d=c+f>>>1;t(s[d],l)<0?c=d+1:f=d}while(c<f)}return c}function a(s,l,c=0,f=s.length){if(c<f){if(e(l,l)!==0)return f;do{const d=c+f>>>1;t(s[d],l)<=0?c=d+1:f=d}while(c<f)}return c}function o(s,l,c=0,f=s.length){const d=i(s,l,c,f-1);return d>c&&r(s[d-1],l)>-r(s[d],l)?d-1:d}return{left:i,center:o,right:a}}function QY(){return 0}function q5(n){return n===null?NaN:+n}function*eK(n,e){for(let t of n)t!=null&&(t=+t)>=t&&(yield t)}const tK=Z2(pc),jy=tK.right;Z2(q5).center;class IN extends Map{constructor(e,t=iK){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(DN(this,e))}has(e){return super.has(DN(this,e))}set(e,t){return super.set(nK(this,e),t)}delete(e){return super.delete(rK(this,e))}}function DN({_intern:n,_key:e},t){const r=e(t);return n.has(r)?n.get(r):t}function nK({_intern:n,_key:e},t){const r=e(t);return n.has(r)?n.get(r):(n.set(r,t),t)}function rK({_intern:n,_key:e},t){const r=e(t);return n.has(r)&&(t=n.get(r),n.delete(r)),t}function iK(n){return n!==null&&typeof n=="object"?n.valueOf():n}function aK(n=pc){if(n===pc)return X5;if(typeof n!="function")throw new TypeError("compare is not a function");return(e,t)=>{const r=n(e,t);return r||r===0?r:(n(t,t)===0)-(n(e,e)===0)}}function X5(n,e){return(n==null||!(n>=n))-(e==null||!(e>=e))||(n<e?-1:n>e?1:0)}const oK=Math.sqrt(50),sK=Math.sqrt(10),lK=Math.sqrt(2);function V_(n,e,t){const r=(e-n)/Math.max(0,t),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=oK?10:a>=sK?5:a>=lK?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/o,s=Math.round(n*c),l=Math.round(e*c),s/c<n&&++s,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*o,s=Math.round(n/c),l=Math.round(e/c),s*c<n&&++s,l*c>e&&--l),l<s&&.5<=t&&t<2?V_(n,e,t*2):[s,l,c]}function vP(n,e,t){if(e=+e,n=+n,t=+t,!(t>0))return[];if(n===e)return[n];const r=e<n,[i,a,o]=r?V_(e,n,t):V_(n,e,t);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(r)if(o<0)for(let c=0;c<s;++c)l[c]=(a-c)/-o;else for(let c=0;c<s;++c)l[c]=(a-c)*o;else if(o<0)for(let c=0;c<s;++c)l[c]=(i+c)/-o;else for(let c=0;c<s;++c)l[c]=(i+c)*o;return l}function yP(n,e,t){return e=+e,n=+n,t=+t,V_(n,e,t)[2]}function xP(n,e,t){e=+e,n=+n,t=+t;const r=e<n,i=r?yP(e,n,t):yP(n,e,t);return(r?-1:1)*(i<0?1/-i:i)}function LN(n,e){let t;for(const r of n)r!=null&&(t<r||t===void 0&&r>=r)&&(t=r);return t}function NN(n,e){let t;for(const r of n)r!=null&&(t>r||t===void 0&&r>=r)&&(t=r);return t}function Y5(n,e,t=0,r=1/0,i){if(e=Math.floor(e),t=Math.floor(Math.max(0,t)),r=Math.floor(Math.min(n.length-1,r)),!(t<=e&&e<=r))return n;for(i=i===void 0?X5:aK(i);r>t;){if(r-t>600){const l=r-t+1,c=e-t+1,f=Math.log(l),d=.5*Math.exp(2*f/3),m=.5*Math.sqrt(f*d*(l-d)/l)*(c-l/2<0?-1:1),v=Math.max(t,Math.floor(e-c*d/l+m)),x=Math.min(r,Math.floor(e+(l-c)*d/l+m));Y5(n,e,v,x,i)}const a=n[e];let o=t,s=r;for(Sg(n,t,e),i(n[r],a)>0&&Sg(n,t,r);o<s;){for(Sg(n,o,s),++o,--s;i(n[o],a)<0;)++o;for(;i(n[s],a)>0;)--s}i(n[t],a)===0?Sg(n,t,s):(++s,Sg(n,s,r)),s<=e&&(t=s+1),e<=s&&(r=s-1)}return n}function Sg(n,e,t){const r=n[e];n[e]=n[t],n[t]=r}function uK(n,e,t){if(n=Float64Array.from(eK(n)),!(!(r=n.length)||isNaN(e=+e))){if(e<=0||r<2)return NN(n);if(e>=1)return LN(n);var r,i=(r-1)*e,a=Math.floor(i),o=LN(Y5(n,a).subarray(0,a+1)),s=NN(n.subarray(a+1));return o+(s-o)*(i-a)}}function cK(n,e,t=q5){if(!(!(r=n.length)||isNaN(e=+e))){if(e<=0||r<2)return+t(n[0],0,n);if(e>=1)return+t(n[r-1],r-1,n);var r,i=(r-1)*e,a=Math.floor(i),o=+t(n[a],a,n),s=+t(n[a+1],a+1,n);return o+(s-o)*(i-a)}}function fK(n,e,t){n=+n,e=+e,t=(i=arguments.length)<2?(e=n,n=0,1):i<3?1:+t;for(var r=-1,i=Math.max(0,Math.ceil((e-n)/t))|0,a=new Array(i);++r<i;)a[r]=n+r*t;return a}function Ro(n,e){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(e).domain(n);break}return this}function fu(n,e){switch(arguments.length){case 0:break;case 1:{typeof n=="function"?this.interpolator(n):this.range(n);break}default:{this.domain(n),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const _P=Symbol("implicit");function J2(){var n=new IN,e=[],t=[],r=_P;function i(a){let o=n.get(a);if(o===void 0){if(r!==_P)return r;n.set(a,o=e.push(a)-1)}return t[o%t.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],n=new IN;for(const o of a)n.has(o)||n.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(t=Array.from(a),i):t.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return J2(e,t).unknown(r)},Ro.apply(i,arguments),i}function Iv(){var n=J2().unknown(void 0),e=n.domain,t=n.range,r=0,i=1,a,o,s=!1,l=0,c=0,f=.5;delete n.unknown;function d(){var m=e().length,v=i<r,x=v?i:r,S=v?r:i;a=(S-x)/Math.max(1,m-l+c*2),s&&(a=Math.floor(a)),x+=(S-x-a*(m-l))*f,o=a*(1-l),s&&(x=Math.round(x),o=Math.round(o));var _=fK(m).map(function(b){return x+a*b});return t(v?_.reverse():_)}return n.domain=function(m){return arguments.length?(e(m),d()):e()},n.range=function(m){return arguments.length?([r,i]=m,r=+r,i=+i,d()):[r,i]},n.rangeRound=function(m){return[r,i]=m,r=+r,i=+i,s=!0,d()},n.bandwidth=function(){return o},n.step=function(){return a},n.round=function(m){return arguments.length?(s=!!m,d()):s},n.padding=function(m){return arguments.length?(l=Math.min(1,c=+m),d()):l},n.paddingInner=function(m){return arguments.length?(l=Math.min(1,m),d()):l},n.paddingOuter=function(m){return arguments.length?(c=+m,d()):c},n.align=function(m){return arguments.length?(f=Math.max(0,Math.min(1,m)),d()):f},n.copy=function(){return Iv(e(),[r,i]).round(s).paddingInner(l).paddingOuter(c).align(f)},Ro.apply(d(),arguments)}function K5(n){var e=n.copy;return n.padding=n.paddingOuter,delete n.paddingInner,delete n.paddingOuter,n.copy=function(){return K5(e())},n}function av(){return K5(Iv.apply(null,arguments).paddingInner(1))}function Q2(n,e,t){n.prototype=e.prototype=t,t.constructor=n}function Z5(n,e){var t=Object.create(n.prototype);for(var r in e)t[r]=e[r];return t}function Vy(){}var Dv=.7,H_=1/Dv,Tp="\\s*([+-]?\\d+)\\s*",Lv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Gs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",hK=/^#([0-9a-f]{3,8})$/,dK=new RegExp(`^rgb\\(${Tp},${Tp},${Tp}\\)$`),pK=new RegExp(`^rgb\\(${Gs},${Gs},${Gs}\\)$`),mK=new RegExp(`^rgba\\(${Tp},${Tp},${Tp},${Lv}\\)$`),gK=new RegExp(`^rgba\\(${Gs},${Gs},${Gs},${Lv}\\)$`),vK=new RegExp(`^hsl\\(${Lv},${Gs},${Gs}\\)$`),yK=new RegExp(`^hsla\\(${Lv},${Gs},${Gs},${Lv}\\)$`),kN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Q2(Vy,Nv,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:UN,formatHex:UN,formatHex8:xK,formatHsl:_K,formatRgb:FN,toString:FN});function UN(){return this.rgb().formatHex()}function xK(){return this.rgb().formatHex8()}function _K(){return J5(this).formatHsl()}function FN(){return this.rgb().formatRgb()}function Nv(n){var e,t;return n=(n+"").trim().toLowerCase(),(e=hK.exec(n))?(t=e[1].length,e=parseInt(e[1],16),t===6?BN(e):t===3?new Ra(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):t===8?lx(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):t===4?lx(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=dK.exec(n))?new Ra(e[1],e[2],e[3],1):(e=pK.exec(n))?new Ra(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=mK.exec(n))?lx(e[1],e[2],e[3],e[4]):(e=gK.exec(n))?lx(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=vK.exec(n))?VN(e[1],e[2]/100,e[3]/100,1):(e=yK.exec(n))?VN(e[1],e[2]/100,e[3]/100,e[4]):kN.hasOwnProperty(n)?BN(kN[n]):n==="transparent"?new Ra(NaN,NaN,NaN,0):null}function BN(n){return new Ra(n>>16&255,n>>8&255,n&255,1)}function lx(n,e,t,r){return r<=0&&(n=e=t=NaN),new Ra(n,e,t,r)}function bK(n){return n instanceof Vy||(n=Nv(n)),n?(n=n.rgb(),new Ra(n.r,n.g,n.b,n.opacity)):new Ra}function bP(n,e,t,r){return arguments.length===1?bK(n):new Ra(n,e,t,r??1)}function Ra(n,e,t,r){this.r=+n,this.g=+e,this.b=+t,this.opacity=+r}Q2(Ra,bP,Z5(Vy,{brighter(n){return n=n==null?H_:Math.pow(H_,n),new Ra(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?Dv:Math.pow(Dv,n),new Ra(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new Ra(lh(this.r),lh(this.g),lh(this.b),W_(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:zN,formatHex:zN,formatHex8:SK,formatRgb:jN,toString:jN}));function zN(){return`#${Zf(this.r)}${Zf(this.g)}${Zf(this.b)}`}function SK(){return`#${Zf(this.r)}${Zf(this.g)}${Zf(this.b)}${Zf((isNaN(this.opacity)?1:this.opacity)*255)}`}function jN(){const n=W_(this.opacity);return`${n===1?"rgb(":"rgba("}${lh(this.r)}, ${lh(this.g)}, ${lh(this.b)}${n===1?")":`, ${n})`}`}function W_(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function lh(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function Zf(n){return n=lh(n),(n<16?"0":"")+n.toString(16)}function VN(n,e,t,r){return r<=0?n=e=t=NaN:t<=0||t>=1?n=e=NaN:e<=0&&(n=NaN),new gs(n,e,t,r)}function J5(n){if(n instanceof gs)return new gs(n.h,n.s,n.l,n.opacity);if(n instanceof Vy||(n=Nv(n)),!n)return new gs;if(n instanceof gs)return n;n=n.rgb();var e=n.r/255,t=n.g/255,r=n.b/255,i=Math.min(e,t,r),a=Math.max(e,t,r),o=NaN,s=a-i,l=(a+i)/2;return s?(e===a?o=(t-r)/s+(t<r)*6:t===a?o=(r-e)/s+2:o=(e-t)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new gs(o,s,l,n.opacity)}function wK(n,e,t,r){return arguments.length===1?J5(n):new gs(n,e,t,r??1)}function gs(n,e,t,r){this.h=+n,this.s=+e,this.l=+t,this.opacity=+r}Q2(gs,wK,Z5(Vy,{brighter(n){return n=n==null?H_:Math.pow(H_,n),new gs(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?Dv:Math.pow(Dv,n),new gs(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,e=isNaN(n)||isNaN(this.s)?0:this.s,t=this.l,r=t+(t<.5?t:1-t)*e,i=2*t-r;return new Ra(BA(n>=240?n-240:n+120,i,r),BA(n,i,r),BA(n<120?n+240:n-120,i,r),this.opacity)},clamp(){return new gs(HN(this.h),ux(this.s),ux(this.l),W_(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=W_(this.opacity);return`${n===1?"hsl(":"hsla("}${HN(this.h)}, ${ux(this.s)*100}%, ${ux(this.l)*100}%${n===1?")":`, ${n})`}`}}));function HN(n){return n=(n||0)%360,n<0?n+360:n}function ux(n){return Math.max(0,Math.min(1,n||0))}function BA(n,e,t){return(n<60?e+(t-e)*n/60:n<180?t:n<240?e+(t-e)*(240-n)/60:e)*255}const eO=n=>()=>n;function MK(n,e){return function(t){return n+t*e}}function AK(n,e,t){return n=Math.pow(n,t),e=Math.pow(e,t)-n,t=1/t,function(r){return Math.pow(n+r*e,t)}}function TK(n){return(n=+n)==1?Q5:function(e,t){return t-e?AK(e,t,n):eO(isNaN(e)?t:e)}}function Q5(n,e){var t=e-n;return t?MK(n,t):eO(isNaN(n)?e:n)}const WN=(function n(e){var t=TK(e);function r(i,a){var o=t((i=bP(i)).r,(a=bP(a)).r),s=t(i.g,a.g),l=t(i.b,a.b),c=Q5(i.opacity,a.opacity);return function(f){return i.r=o(f),i.g=s(f),i.b=l(f),i.opacity=c(f),i+""}}return r.gamma=n,r})(1);function EK(n,e){e||(e=[]);var t=n?Math.min(e.length,n.length):0,r=e.slice(),i;return function(a){for(i=0;i<t;++i)r[i]=n[i]*(1-a)+e[i]*a;return r}}function PK(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function CK(n,e){var t=e?e.length:0,r=n?Math.min(t,n.length):0,i=new Array(r),a=new Array(t),o;for(o=0;o<r;++o)i[o]=fm(n[o],e[o]);for(;o<t;++o)a[o]=e[o];return function(s){for(o=0;o<r;++o)a[o]=i[o](s);return a}}function OK(n,e){var t=new Date;return n=+n,e=+e,function(r){return t.setTime(n*(1-r)+e*r),t}}function G_(n,e){return n=+n,e=+e,function(t){return n*(1-t)+e*t}}function RK(n,e){var t={},r={},i;(n===null||typeof n!="object")&&(n={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in n?t[i]=fm(n[i],e[i]):r[i]=e[i];return function(a){for(i in t)r[i]=t[i](a);return r}}var SP=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,zA=new RegExp(SP.source,"g");function IK(n){return function(){return n}}function DK(n){return function(e){return n(e)+""}}function LK(n,e){var t=SP.lastIndex=zA.lastIndex=0,r,i,a,o=-1,s=[],l=[];for(n=n+"",e=e+"";(r=SP.exec(n))&&(i=zA.exec(e));)(a=i.index)>t&&(a=e.slice(t,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:G_(r,i)})),t=zA.lastIndex;return t<e.length&&(a=e.slice(t),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?DK(l[0].x):IK(e):(e=l.length,function(c){for(var f=0,d;f<e;++f)s[(d=l[f]).i]=d.x(c);return s.join("")})}function fm(n,e){var t=typeof e,r;return e==null||t==="boolean"?eO(e):(t==="number"?G_:t==="string"?(r=Nv(e))?(e=r,WN):LK:e instanceof Nv?WN:e instanceof Date?OK:PK(e)?EK:Array.isArray(e)?CK:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?RK:G_)(n,e)}function tO(n,e){return n=+n,e=+e,function(t){return Math.round(n*(1-t)+e*t)}}function NK(n,e){e===void 0&&(e=n,n=fm);for(var t=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);t<r;)a[t]=n(i,i=e[++t]);return function(o){var s=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[s](o-s)}}function kK(n){return function(){return n}}function $_(n){return+n}var GN=[0,1];function fa(n){return n}function wP(n,e){return(e-=n=+n)?function(t){return(t-n)/e}:kK(isNaN(e)?NaN:.5)}function UK(n,e){var t;return n>e&&(t=n,n=e,e=t),function(r){return Math.max(n,Math.min(e,r))}}function FK(n,e,t){var r=n[0],i=n[1],a=e[0],o=e[1];return i<r?(r=wP(i,r),a=t(o,a)):(r=wP(r,i),a=t(a,o)),function(s){return a(r(s))}}function BK(n,e,t){var r=Math.min(n.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(n[r]<n[0]&&(n=n.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=wP(n[o],n[o+1]),a[o]=t(e[o],e[o+1]);return function(s){var l=jy(n,s,1,r)-1;return a[l](i[l](s))}}function Hy(n,e){return e.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function Qb(){var n=GN,e=GN,t=fm,r,i,a,o=fa,s,l,c;function f(){var m=Math.min(n.length,e.length);return o!==fa&&(o=UK(n[0],n[m-1])),s=m>2?BK:FK,l=c=null,d}function d(m){return m==null||isNaN(m=+m)?a:(l||(l=s(n.map(r),e,t)))(r(o(m)))}return d.invert=function(m){return o(i((c||(c=s(e,n.map(r),G_)))(m)))},d.domain=function(m){return arguments.length?(n=Array.from(m,$_),f()):n.slice()},d.range=function(m){return arguments.length?(e=Array.from(m),f()):e.slice()},d.rangeRound=function(m){return e=Array.from(m),t=tO,f()},d.clamp=function(m){return arguments.length?(o=m?!0:fa,f()):o!==fa},d.interpolate=function(m){return arguments.length?(t=m,f()):t},d.unknown=function(m){return arguments.length?(a=m,d):a},function(m,v){return r=m,i=v,f()}}function nO(){return Qb()(fa,fa)}function zK(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function q_(n,e){if((t=(n=e?n.toExponential(e-1):n.toExponential()).indexOf("e"))<0)return null;var t,r=n.slice(0,t);return[r.length>1?r[0]+r.slice(2):r,+n.slice(t+1)]}function kp(n){return n=q_(Math.abs(n)),n?n[1]:NaN}function jK(n,e){return function(t,r){for(var i=t.length,a=[],o=0,s=n[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(t.substring(i-=s,i+s)),!((l+=s+1)>r));)s=n[o=(o+1)%n.length];return a.reverse().join(e)}}function VK(n){return function(e){return e.replace(/[0-9]/g,function(t){return n[+t]})}}var HK=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function kv(n){if(!(e=HK.exec(n)))throw new Error("invalid format: "+n);var e;return new rO({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}kv.prototype=rO.prototype;function rO(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}rO.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function WK(n){e:for(var e=n.length,t=1,r=-1,i;t<e;++t)switch(n[t]){case".":r=i=t;break;case"0":r===0&&(r=t),i=t;break;default:if(!+n[t])break e;r>0&&(r=0);break}return r>0?n.slice(0,r)+n.slice(i+1):n}var eV;function GK(n,e){var t=q_(n,e);if(!t)return n+"";var r=t[0],i=t[1],a=i-(eV=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+q_(n,Math.max(0,e+a-1))[0]}function $N(n,e){var t=q_(n,e);if(!t)return n+"";var r=t[0],i=t[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const qN={"%":(n,e)=>(n*100).toFixed(e),b:n=>Math.round(n).toString(2),c:n=>n+"",d:zK,e:(n,e)=>n.toExponential(e),f:(n,e)=>n.toFixed(e),g:(n,e)=>n.toPrecision(e),o:n=>Math.round(n).toString(8),p:(n,e)=>$N(n*100,e),r:$N,s:GK,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function XN(n){return n}var YN=Array.prototype.map,KN=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function $K(n){var e=n.grouping===void 0||n.thousands===void 0?XN:jK(YN.call(n.grouping,Number),n.thousands+""),t=n.currency===void 0?"":n.currency[0]+"",r=n.currency===void 0?"":n.currency[1]+"",i=n.decimal===void 0?".":n.decimal+"",a=n.numerals===void 0?XN:VK(YN.call(n.numerals,String)),o=n.percent===void 0?"%":n.percent+"",s=n.minus===void 0?"":n.minus+"",l=n.nan===void 0?"NaN":n.nan+"";function c(d){d=kv(d);var m=d.fill,v=d.align,x=d.sign,S=d.symbol,_=d.zero,b=d.width,M=d.comma,T=d.precision,E=d.trim,P=d.type;P==="n"?(M=!0,P="g"):qN[P]||(T===void 0&&(T=12),E=!0,P="g"),(_||m==="0"&&v==="=")&&(_=!0,m="0",v="=");var R=S==="$"?t:S==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",I=S==="$"?r:/[%p]/.test(P)?o:"",U=qN[P],N=/[defgprs%]/.test(P);T=T===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,T)):Math.max(0,Math.min(20,T));function k(z){var G=R,K=I,H,te,J;if(P==="c")K=U(z)+K,z="";else{z=+z;var ie=z<0||1/z<0;if(z=isNaN(z)?l:U(Math.abs(z),T),E&&(z=WK(z)),ie&&+z==0&&x!=="+"&&(ie=!1),G=(ie?x==="("?x:s:x==="-"||x==="("?"":x)+G,K=(P==="s"?KN[8+eV/3]:"")+K+(ie&&x==="("?")":""),N){for(H=-1,te=z.length;++H<te;)if(J=z.charCodeAt(H),48>J||J>57){K=(J===46?i+z.slice(H+1):z.slice(H))+K,z=z.slice(0,H);break}}}M&&!_&&(z=e(z,1/0));var B=G.length+z.length+K.length,X=B<b?new Array(b-B+1).join(m):"";switch(M&&_&&(z=e(X+z,X.length?b-K.length:1/0),X=""),v){case"<":z=G+z+K+X;break;case"=":z=G+X+z+K;break;case"^":z=X.slice(0,B=X.length>>1)+G+z+K+X.slice(B);break;default:z=X+G+z+K;break}return a(z)}return k.toString=function(){return d+""},k}function f(d,m){var v=c((d=kv(d),d.type="f",d)),x=Math.max(-8,Math.min(8,Math.floor(kp(m)/3)))*3,S=Math.pow(10,-x),_=KN[8+x/3];return function(b){return v(S*b)+_}}return{format:c,formatPrefix:f}}var cx,iO,tV;qK({thousands:",",grouping:[3],currency:["$",""]});function qK(n){return cx=$K(n),iO=cx.format,tV=cx.formatPrefix,cx}function XK(n){return Math.max(0,-kp(Math.abs(n)))}function YK(n,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(kp(e)/3)))*3-kp(Math.abs(n)))}function KK(n,e){return n=Math.abs(n),e=Math.abs(e)-n,Math.max(0,kp(e)-kp(n))+1}function nV(n,e,t,r){var i=xP(n,e,t),a;switch(r=kv(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(n),Math.abs(e));return r.precision==null&&!isNaN(a=YK(i,o))&&(r.precision=a),tV(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=KK(i,Math.max(Math.abs(n),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=XK(i))&&(r.precision=a-(r.type==="%")*2);break}}return iO(r)}function Cc(n){var e=n.domain;return n.ticks=function(t){var r=e();return vP(r[0],r[r.length-1],t??10)},n.tickFormat=function(t,r){var i=e();return nV(i[0],i[i.length-1],t??10,r)},n.nice=function(t){t==null&&(t=10);var r=e(),i=0,a=r.length-1,o=r[i],s=r[a],l,c,f=10;for(s<o&&(c=o,o=s,s=c,c=i,i=a,a=c);f-- >0;){if(c=yP(o,s,t),c===l)return r[i]=o,r[a]=s,e(r);if(c>0)o=Math.floor(o/c)*c,s=Math.ceil(s/c)*c;else if(c<0)o=Math.ceil(o*c)/c,s=Math.floor(s*c)/c;else break;l=c}return n},n}function X_(){var n=nO();return n.copy=function(){return Hy(n,X_())},Ro.apply(n,arguments),Cc(n)}function rV(n){var e;function t(r){return r==null||isNaN(r=+r)?e:r}return t.invert=t,t.domain=t.range=function(r){return arguments.length?(n=Array.from(r,$_),t):n.slice()},t.unknown=function(r){return arguments.length?(e=r,t):e},t.copy=function(){return rV(n).unknown(e)},n=arguments.length?Array.from(n,$_):[0,1],Cc(t)}function iV(n,e){n=n.slice();var t=0,r=n.length-1,i=n[t],a=n[r],o;return a<i&&(o=t,t=r,r=o,o=i,i=a,a=o),n[t]=e.floor(i),n[r]=e.ceil(a),n}function ZN(n){return Math.log(n)}function JN(n){return Math.exp(n)}function ZK(n){return-Math.log(-n)}function JK(n){return-Math.exp(-n)}function QK(n){return isFinite(n)?+("1e"+n):n<0?0:n}function eZ(n){return n===10?QK:n===Math.E?Math.exp:e=>Math.pow(n,e)}function tZ(n){return n===Math.E?Math.log:n===10&&Math.log10||n===2&&Math.log2||(n=Math.log(n),e=>Math.log(e)/n)}function QN(n){return(e,t)=>-n(-e,t)}function aO(n){const e=n(ZN,JN),t=e.domain;let r=10,i,a;function o(){return i=tZ(r),a=eZ(r),t()[0]<0?(i=QN(i),a=QN(a),n(ZK,JK)):n(ZN,JN),e}return e.base=function(s){return arguments.length?(r=+s,o()):r},e.domain=function(s){return arguments.length?(t(s),o()):t()},e.ticks=s=>{const l=t();let c=l[0],f=l[l.length-1];const d=f<c;d&&([c,f]=[f,c]);let m=i(c),v=i(f),x,S;const _=s==null?10:+s;let b=[];if(!(r%1)&&v-m<_){if(m=Math.floor(m),v=Math.ceil(v),c>0){for(;m<=v;++m)for(x=1;x<r;++x)if(S=m<0?x/a(-m):x*a(m),!(S<c)){if(S>f)break;b.push(S)}}else for(;m<=v;++m)for(x=r-1;x>=1;--x)if(S=m>0?x/a(-m):x*a(m),!(S<c)){if(S>f)break;b.push(S)}b.length*2<_&&(b=vP(c,f,_))}else b=vP(m,v,Math.min(v-m,_)).map(a);return d?b.reverse():b},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=kv(l)).precision==null&&(l.trim=!0),l=iO(l)),s===1/0)return l;const c=Math.max(1,r*s/e.ticks().length);return f=>{let d=f/a(Math.round(i(f)));return d*r<r-.5&&(d*=r),d<=c?l(f):""}},e.nice=()=>t(iV(t(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),e}function aV(){const n=aO(Qb()).domain([1,10]);return n.copy=()=>Hy(n,aV()).base(n.base()),Ro.apply(n,arguments),n}function ek(n){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/n))}}function tk(n){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*n}}function oO(n){var e=1,t=n(ek(e),tk(e));return t.constant=function(r){return arguments.length?n(ek(e=+r),tk(e)):e},Cc(t)}function oV(){var n=oO(Qb());return n.copy=function(){return Hy(n,oV()).constant(n.constant())},Ro.apply(n,arguments)}function nk(n){return function(e){return e<0?-Math.pow(-e,n):Math.pow(e,n)}}function nZ(n){return n<0?-Math.sqrt(-n):Math.sqrt(n)}function rZ(n){return n<0?-n*n:n*n}function sO(n){var e=n(fa,fa),t=1;function r(){return t===1?n(fa,fa):t===.5?n(nZ,rZ):n(nk(t),nk(1/t))}return e.exponent=function(i){return arguments.length?(t=+i,r()):t},Cc(e)}function lO(){var n=sO(Qb());return n.copy=function(){return Hy(n,lO()).exponent(n.exponent())},Ro.apply(n,arguments),n}function iZ(){return lO.apply(null,arguments).exponent(.5)}function rk(n){return Math.sign(n)*n*n}function aZ(n){return Math.sign(n)*Math.sqrt(Math.abs(n))}function sV(){var n=nO(),e=[0,1],t=!1,r;function i(a){var o=aZ(n(a));return isNaN(o)?r:t?Math.round(o):o}return i.invert=function(a){return n.invert(rk(a))},i.domain=function(a){return arguments.length?(n.domain(a),i):n.domain()},i.range=function(a){return arguments.length?(n.range((e=Array.from(a,$_)).map(rk)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(t=!!a,i):t},i.clamp=function(a){return arguments.length?(n.clamp(a),i):n.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return sV(n.domain(),e).round(t).clamp(n.clamp()).unknown(r)},Ro.apply(i,arguments),Cc(i)}function lV(){var n=[],e=[],t=[],r;function i(){var o=0,s=Math.max(1,e.length);for(t=new Array(s-1);++o<s;)t[o-1]=cK(n,o/s);return a}function a(o){return o==null||isNaN(o=+o)?r:e[jy(t,o)]}return a.invertExtent=function(o){var s=e.indexOf(o);return s<0?[NaN,NaN]:[s>0?t[s-1]:n[0],s<t.length?t[s]:n[n.length-1]]},a.domain=function(o){if(!arguments.length)return n.slice();n=[];for(let s of o)s!=null&&!isNaN(s=+s)&&n.push(s);return n.sort(pc),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return t.slice()},a.copy=function(){return lV().domain(n).range(e).unknown(r)},Ro.apply(a,arguments)}function uV(){var n=0,e=1,t=1,r=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[jy(r,l,0,t)]:a}function s(){var l=-1;for(r=new Array(t);++l<t;)r[l]=((l+1)*e-(l-t)*n)/(t+1);return o}return o.domain=function(l){return arguments.length?([n,e]=l,n=+n,e=+e,s()):[n,e]},o.range=function(l){return arguments.length?(t=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[n,r[0]]:c>=t?[r[t-1],e]:[r[c-1],r[c]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return uV().domain([n,e]).range(i).unknown(a)},Ro.apply(Cc(o),arguments)}function cV(){var n=[.5],e=[0,1],t,r=1;function i(a){return a!=null&&a<=a?e[jy(n,a,0,r)]:t}return i.domain=function(a){return arguments.length?(n=Array.from(a),r=Math.min(n.length,e.length-1),i):n.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(n.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[n[o-1],n[o]]},i.unknown=function(a){return arguments.length?(t=a,i):t},i.copy=function(){return cV().domain(n).range(e).unknown(t)},Ro.apply(i,arguments)}const jA=new Date,VA=new Date;function ii(n,e,t,r){function i(a){return n(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(n(a=new Date(+a)),a),i.ceil=a=>(n(a=new Date(a-1)),e(a,1),n(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let c;do l.push(c=new Date(+a)),e(a,s),n(a);while(c<a&&a<o);return l},i.filter=a=>ii(o=>{if(o>=o)for(;n(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;e(o,-1),!a(o););else for(;--s>=0;)for(;e(o,1),!a(o););}),t&&(i.count=(a,o)=>(jA.setTime(+a),VA.setTime(+o),n(jA),n(VA),Math.floor(t(jA,VA))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Y_=ii(()=>{},(n,e)=>{n.setTime(+n+e)},(n,e)=>e-n);Y_.every=n=>(n=Math.floor(n),!isFinite(n)||!(n>0)?null:n>1?ii(e=>{e.setTime(Math.floor(e/n)*n)},(e,t)=>{e.setTime(+e+t*n)},(e,t)=>(t-e)/n):Y_);Y_.range;const $l=1e3,Ao=$l*60,ql=Ao*60,eu=ql*24,uO=eu*7,ik=eu*30,HA=eu*365,Jf=ii(n=>{n.setTime(n-n.getMilliseconds())},(n,e)=>{n.setTime(+n+e*$l)},(n,e)=>(e-n)/$l,n=>n.getUTCSeconds());Jf.range;const cO=ii(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*$l)},(n,e)=>{n.setTime(+n+e*Ao)},(n,e)=>(e-n)/Ao,n=>n.getMinutes());cO.range;const fO=ii(n=>{n.setUTCSeconds(0,0)},(n,e)=>{n.setTime(+n+e*Ao)},(n,e)=>(e-n)/Ao,n=>n.getUTCMinutes());fO.range;const hO=ii(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*$l-n.getMinutes()*Ao)},(n,e)=>{n.setTime(+n+e*ql)},(n,e)=>(e-n)/ql,n=>n.getHours());hO.range;const dO=ii(n=>{n.setUTCMinutes(0,0,0)},(n,e)=>{n.setTime(+n+e*ql)},(n,e)=>(e-n)/ql,n=>n.getUTCHours());dO.range;const Wy=ii(n=>n.setHours(0,0,0,0),(n,e)=>n.setDate(n.getDate()+e),(n,e)=>(e-n-(e.getTimezoneOffset()-n.getTimezoneOffset())*Ao)/eu,n=>n.getDate()-1);Wy.range;const eS=ii(n=>{n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCDate(n.getUTCDate()+e)},(n,e)=>(e-n)/eu,n=>n.getUTCDate()-1);eS.range;const fV=ii(n=>{n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCDate(n.getUTCDate()+e)},(n,e)=>(e-n)/eu,n=>Math.floor(n/eu));fV.range;function Ah(n){return ii(e=>{e.setDate(e.getDate()-(e.getDay()+7-n)%7),e.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+t*7)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ao)/uO)}const tS=Ah(0),K_=Ah(1),oZ=Ah(2),sZ=Ah(3),Up=Ah(4),lZ=Ah(5),uZ=Ah(6);tS.range;K_.range;oZ.range;sZ.range;Up.range;lZ.range;uZ.range;function Th(n){return ii(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-n)%7),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t*7)},(e,t)=>(t-e)/uO)}const nS=Th(0),Z_=Th(1),cZ=Th(2),fZ=Th(3),Fp=Th(4),hZ=Th(5),dZ=Th(6);nS.range;Z_.range;cZ.range;fZ.range;Fp.range;hZ.range;dZ.range;const pO=ii(n=>{n.setDate(1),n.setHours(0,0,0,0)},(n,e)=>{n.setMonth(n.getMonth()+e)},(n,e)=>e.getMonth()-n.getMonth()+(e.getFullYear()-n.getFullYear())*12,n=>n.getMonth());pO.range;const mO=ii(n=>{n.setUTCDate(1),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCMonth(n.getUTCMonth()+e)},(n,e)=>e.getUTCMonth()-n.getUTCMonth()+(e.getUTCFullYear()-n.getUTCFullYear())*12,n=>n.getUTCMonth());mO.range;const tu=ii(n=>{n.setMonth(0,1),n.setHours(0,0,0,0)},(n,e)=>{n.setFullYear(n.getFullYear()+e)},(n,e)=>e.getFullYear()-n.getFullYear(),n=>n.getFullYear());tu.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:ii(e=>{e.setFullYear(Math.floor(e.getFullYear()/n)*n),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t*n)});tu.range;const nu=ii(n=>{n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCFullYear(n.getUTCFullYear()+e)},(n,e)=>e.getUTCFullYear()-n.getUTCFullYear(),n=>n.getUTCFullYear());nu.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:ii(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/n)*n),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t*n)});nu.range;function hV(n,e,t,r,i,a){const o=[[Jf,1,$l],[Jf,5,5*$l],[Jf,15,15*$l],[Jf,30,30*$l],[a,1,Ao],[a,5,5*Ao],[a,15,15*Ao],[a,30,30*Ao],[i,1,ql],[i,3,3*ql],[i,6,6*ql],[i,12,12*ql],[r,1,eu],[r,2,2*eu],[t,1,uO],[e,1,ik],[e,3,3*ik],[n,1,HA]];function s(c,f,d){const m=f<c;m&&([c,f]=[f,c]);const v=d&&typeof d.range=="function"?d:l(c,f,d),x=v?v.range(c,+f+1):[];return m?x.reverse():x}function l(c,f,d){const m=Math.abs(f-c)/d,v=Z2(([,,_])=>_).right(o,m);if(v===o.length)return n.every(xP(c/HA,f/HA,d));if(v===0)return Y_.every(Math.max(xP(c,f,d),1));const[x,S]=o[m/o[v-1][2]<o[v][2]/m?v-1:v];return x.every(S)}return[s,l]}const[pZ,mZ]=hV(nu,mO,nS,fV,dO,fO),[gZ,vZ]=hV(tu,pO,tS,Wy,hO,cO);function WA(n){if(0<=n.y&&n.y<100){var e=new Date(-1,n.m,n.d,n.H,n.M,n.S,n.L);return e.setFullYear(n.y),e}return new Date(n.y,n.m,n.d,n.H,n.M,n.S,n.L)}function GA(n){if(0<=n.y&&n.y<100){var e=new Date(Date.UTC(-1,n.m,n.d,n.H,n.M,n.S,n.L));return e.setUTCFullYear(n.y),e}return new Date(Date.UTC(n.y,n.m,n.d,n.H,n.M,n.S,n.L))}function wg(n,e,t){return{y:n,m:e,d:t,H:0,M:0,S:0,L:0}}function yZ(n){var e=n.dateTime,t=n.date,r=n.time,i=n.periods,a=n.days,o=n.shortDays,s=n.months,l=n.shortMonths,c=Mg(i),f=Ag(i),d=Mg(a),m=Ag(a),v=Mg(o),x=Ag(o),S=Mg(s),_=Ag(s),b=Mg(l),M=Ag(l),T={a:ie,A:B,b:X,B:$,c:null,d:ck,e:ck,f:jZ,g:ZZ,G:QZ,H:FZ,I:BZ,j:zZ,L:dV,m:VZ,M:HZ,p:V,q:ee,Q:dk,s:pk,S:WZ,u:GZ,U:$Z,V:qZ,w:XZ,W:YZ,x:null,X:null,y:KZ,Y:JZ,Z:eJ,"%":hk},E={a:se,A:me,b:Ce,B:Ne,c:null,d:fk,e:fk,f:iJ,g:pJ,G:gJ,H:tJ,I:nJ,j:rJ,L:mV,m:aJ,M:oJ,p:De,q:Ke,Q:dk,s:pk,S:sJ,u:lJ,U:uJ,V:cJ,w:fJ,W:hJ,x:null,X:null,y:dJ,Y:mJ,Z:vJ,"%":hk},P={a:k,A:z,b:G,B:K,c:H,d:lk,e:lk,f:LZ,g:sk,G:ok,H:uk,I:uk,j:OZ,L:DZ,m:CZ,M:RZ,p:N,q:PZ,Q:kZ,s:UZ,S:IZ,u:wZ,U:MZ,V:AZ,w:SZ,W:TZ,x:te,X:J,y:sk,Y:ok,Z:EZ,"%":NZ};T.x=R(t,T),T.X=R(r,T),T.c=R(e,T),E.x=R(t,E),E.X=R(r,E),E.c=R(e,E);function R(Te,Le){return function(Ge){var q=[],Re=-1,_e=0,Fe=Te.length,Ae,it,Qe;for(Ge instanceof Date||(Ge=new Date(+Ge));++Re<Fe;)Te.charCodeAt(Re)===37&&(q.push(Te.slice(_e,Re)),(it=ak[Ae=Te.charAt(++Re)])!=null?Ae=Te.charAt(++Re):it=Ae==="e"?" ":"0",(Qe=Le[Ae])&&(Ae=Qe(Ge,it)),q.push(Ae),_e=Re+1);return q.push(Te.slice(_e,Re)),q.join("")}}function I(Te,Le){return function(Ge){var q=wg(1900,void 0,1),Re=U(q,Te,Ge+="",0),_e,Fe;if(Re!=Ge.length)return null;if("Q"in q)return new Date(q.Q);if("s"in q)return new Date(q.s*1e3+("L"in q?q.L:0));if(Le&&!("Z"in q)&&(q.Z=0),"p"in q&&(q.H=q.H%12+q.p*12),q.m===void 0&&(q.m="q"in q?q.q:0),"V"in q){if(q.V<1||q.V>53)return null;"w"in q||(q.w=1),"Z"in q?(_e=GA(wg(q.y,0,1)),Fe=_e.getUTCDay(),_e=Fe>4||Fe===0?Z_.ceil(_e):Z_(_e),_e=eS.offset(_e,(q.V-1)*7),q.y=_e.getUTCFullYear(),q.m=_e.getUTCMonth(),q.d=_e.getUTCDate()+(q.w+6)%7):(_e=WA(wg(q.y,0,1)),Fe=_e.getDay(),_e=Fe>4||Fe===0?K_.ceil(_e):K_(_e),_e=Wy.offset(_e,(q.V-1)*7),q.y=_e.getFullYear(),q.m=_e.getMonth(),q.d=_e.getDate()+(q.w+6)%7)}else("W"in q||"U"in q)&&("w"in q||(q.w="u"in q?q.u%7:"W"in q?1:0),Fe="Z"in q?GA(wg(q.y,0,1)).getUTCDay():WA(wg(q.y,0,1)).getDay(),q.m=0,q.d="W"in q?(q.w+6)%7+q.W*7-(Fe+5)%7:q.w+q.U*7-(Fe+6)%7);return"Z"in q?(q.H+=q.Z/100|0,q.M+=q.Z%100,GA(q)):WA(q)}}function U(Te,Le,Ge,q){for(var Re=0,_e=Le.length,Fe=Ge.length,Ae,it;Re<_e;){if(q>=Fe)return-1;if(Ae=Le.charCodeAt(Re++),Ae===37){if(Ae=Le.charAt(Re++),it=P[Ae in ak?Le.charAt(Re++):Ae],!it||(q=it(Te,Ge,q))<0)return-1}else if(Ae!=Ge.charCodeAt(q++))return-1}return q}function N(Te,Le,Ge){var q=c.exec(Le.slice(Ge));return q?(Te.p=f.get(q[0].toLowerCase()),Ge+q[0].length):-1}function k(Te,Le,Ge){var q=v.exec(Le.slice(Ge));return q?(Te.w=x.get(q[0].toLowerCase()),Ge+q[0].length):-1}function z(Te,Le,Ge){var q=d.exec(Le.slice(Ge));return q?(Te.w=m.get(q[0].toLowerCase()),Ge+q[0].length):-1}function G(Te,Le,Ge){var q=b.exec(Le.slice(Ge));return q?(Te.m=M.get(q[0].toLowerCase()),Ge+q[0].length):-1}function K(Te,Le,Ge){var q=S.exec(Le.slice(Ge));return q?(Te.m=_.get(q[0].toLowerCase()),Ge+q[0].length):-1}function H(Te,Le,Ge){return U(Te,e,Le,Ge)}function te(Te,Le,Ge){return U(Te,t,Le,Ge)}function J(Te,Le,Ge){return U(Te,r,Le,Ge)}function ie(Te){return o[Te.getDay()]}function B(Te){return a[Te.getDay()]}function X(Te){return l[Te.getMonth()]}function $(Te){return s[Te.getMonth()]}function V(Te){return i[+(Te.getHours()>=12)]}function ee(Te){return 1+~~(Te.getMonth()/3)}function se(Te){return o[Te.getUTCDay()]}function me(Te){return a[Te.getUTCDay()]}function Ce(Te){return l[Te.getUTCMonth()]}function Ne(Te){return s[Te.getUTCMonth()]}function De(Te){return i[+(Te.getUTCHours()>=12)]}function Ke(Te){return 1+~~(Te.getUTCMonth()/3)}return{format:function(Te){var Le=R(Te+="",T);return Le.toString=function(){return Te},Le},parse:function(Te){var Le=I(Te+="",!1);return Le.toString=function(){return Te},Le},utcFormat:function(Te){var Le=R(Te+="",E);return Le.toString=function(){return Te},Le},utcParse:function(Te){var Le=I(Te+="",!0);return Le.toString=function(){return Te},Le}}}var ak={"-":"",_:" ",0:"0"},gi=/^\s*\d+/,xZ=/^%/,_Z=/[\\^$*+?|[\]().{}]/g;function An(n,e,t){var r=n<0?"-":"",i=(r?-n:n)+"",a=i.length;return r+(a<t?new Array(t-a+1).join(e)+i:i)}function bZ(n){return n.replace(_Z,"\\$&")}function Mg(n){return new RegExp("^(?:"+n.map(bZ).join("|")+")","i")}function Ag(n){return new Map(n.map((e,t)=>[e.toLowerCase(),t]))}function SZ(n,e,t){var r=gi.exec(e.slice(t,t+1));return r?(n.w=+r[0],t+r[0].length):-1}function wZ(n,e,t){var r=gi.exec(e.slice(t,t+1));return r?(n.u=+r[0],t+r[0].length):-1}function MZ(n,e,t){var r=gi.exec(e.slice(t,t+2));return r?(n.U=+r[0],t+r[0].length):-1}function AZ(n,e,t){var r=gi.exec(e.slice(t,t+2));return r?(n.V=+r[0],t+r[0].length):-1}function TZ(n,e,t){var r=gi.exec(e.slice(t,t+2));return r?(n.W=+r[0],t+r[0].length):-1}function ok(n,e,t){var r=gi.exec(e.slice(t,t+4));return r?(n.y=+r[0],t+r[0].length):-1}function sk(n,e,t){var r=gi.exec(e.slice(t,t+2));return r?(n.y=+r[0]+(+r[0]>68?1900:2e3),t+r[0].length):-1}function EZ(n,e,t){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(t,t+6));return r?(n.Z=r[1]?0:-(r[2]+(r[3]||"00")),t+r[0].length):-1}function PZ(n,e,t){var r=gi.exec(e.slice(t,t+1));return r?(n.q=r[0]*3-3,t+r[0].length):-1}function CZ(n,e,t){var r=gi.exec(e.slice(t,t+2));return r?(n.m=r[0]-1,t+r[0].length):-1}function lk(n,e,t){var r=gi.exec(e.slice(t,t+2));return r?(n.d=+r[0],t+r[0].length):-1}function OZ(n,e,t){var r=gi.exec(e.slice(t,t+3));return r?(n.m=0,n.d=+r[0],t+r[0].length):-1}function uk(n,e,t){var r=gi.exec(e.slice(t,t+2));return r?(n.H=+r[0],t+r[0].length):-1}function RZ(n,e,t){var r=gi.exec(e.slice(t,t+2));return r?(n.M=+r[0],t+r[0].length):-1}function IZ(n,e,t){var r=gi.exec(e.slice(t,t+2));return r?(n.S=+r[0],t+r[0].length):-1}function DZ(n,e,t){var r=gi.exec(e.slice(t,t+3));return r?(n.L=+r[0],t+r[0].length):-1}function LZ(n,e,t){var r=gi.exec(e.slice(t,t+6));return r?(n.L=Math.floor(r[0]/1e3),t+r[0].length):-1}function NZ(n,e,t){var r=xZ.exec(e.slice(t,t+1));return r?t+r[0].length:-1}function kZ(n,e,t){var r=gi.exec(e.slice(t));return r?(n.Q=+r[0],t+r[0].length):-1}function UZ(n,e,t){var r=gi.exec(e.slice(t));return r?(n.s=+r[0],t+r[0].length):-1}function ck(n,e){return An(n.getDate(),e,2)}function FZ(n,e){return An(n.getHours(),e,2)}function BZ(n,e){return An(n.getHours()%12||12,e,2)}function zZ(n,e){return An(1+Wy.count(tu(n),n),e,3)}function dV(n,e){return An(n.getMilliseconds(),e,3)}function jZ(n,e){return dV(n,e)+"000"}function VZ(n,e){return An(n.getMonth()+1,e,2)}function HZ(n,e){return An(n.getMinutes(),e,2)}function WZ(n,e){return An(n.getSeconds(),e,2)}function GZ(n){var e=n.getDay();return e===0?7:e}function $Z(n,e){return An(tS.count(tu(n)-1,n),e,2)}function pV(n){var e=n.getDay();return e>=4||e===0?Up(n):Up.ceil(n)}function qZ(n,e){return n=pV(n),An(Up.count(tu(n),n)+(tu(n).getDay()===4),e,2)}function XZ(n){return n.getDay()}function YZ(n,e){return An(K_.count(tu(n)-1,n),e,2)}function KZ(n,e){return An(n.getFullYear()%100,e,2)}function ZZ(n,e){return n=pV(n),An(n.getFullYear()%100,e,2)}function JZ(n,e){return An(n.getFullYear()%1e4,e,4)}function QZ(n,e){var t=n.getDay();return n=t>=4||t===0?Up(n):Up.ceil(n),An(n.getFullYear()%1e4,e,4)}function eJ(n){var e=n.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+An(e/60|0,"0",2)+An(e%60,"0",2)}function fk(n,e){return An(n.getUTCDate(),e,2)}function tJ(n,e){return An(n.getUTCHours(),e,2)}function nJ(n,e){return An(n.getUTCHours()%12||12,e,2)}function rJ(n,e){return An(1+eS.count(nu(n),n),e,3)}function mV(n,e){return An(n.getUTCMilliseconds(),e,3)}function iJ(n,e){return mV(n,e)+"000"}function aJ(n,e){return An(n.getUTCMonth()+1,e,2)}function oJ(n,e){return An(n.getUTCMinutes(),e,2)}function sJ(n,e){return An(n.getUTCSeconds(),e,2)}function lJ(n){var e=n.getUTCDay();return e===0?7:e}function uJ(n,e){return An(nS.count(nu(n)-1,n),e,2)}function gV(n){var e=n.getUTCDay();return e>=4||e===0?Fp(n):Fp.ceil(n)}function cJ(n,e){return n=gV(n),An(Fp.count(nu(n),n)+(nu(n).getUTCDay()===4),e,2)}function fJ(n){return n.getUTCDay()}function hJ(n,e){return An(Z_.count(nu(n)-1,n),e,2)}function dJ(n,e){return An(n.getUTCFullYear()%100,e,2)}function pJ(n,e){return n=gV(n),An(n.getUTCFullYear()%100,e,2)}function mJ(n,e){return An(n.getUTCFullYear()%1e4,e,4)}function gJ(n,e){var t=n.getUTCDay();return n=t>=4||t===0?Fp(n):Fp.ceil(n),An(n.getUTCFullYear()%1e4,e,4)}function vJ(){return"+0000"}function hk(){return"%"}function dk(n){return+n}function pk(n){return Math.floor(+n/1e3)}var Dd,vV,yV;yJ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function yJ(n){return Dd=yZ(n),vV=Dd.format,Dd.parse,yV=Dd.utcFormat,Dd.utcParse,Dd}function xJ(n){return new Date(n)}function _J(n){return n instanceof Date?+n:+new Date(+n)}function gO(n,e,t,r,i,a,o,s,l,c){var f=nO(),d=f.invert,m=f.domain,v=c(".%L"),x=c(":%S"),S=c("%I:%M"),_=c("%I %p"),b=c("%a %d"),M=c("%b %d"),T=c("%B"),E=c("%Y");function P(R){return(l(R)<R?v:s(R)<R?x:o(R)<R?S:a(R)<R?_:r(R)<R?i(R)<R?b:M:t(R)<R?T:E)(R)}return f.invert=function(R){return new Date(d(R))},f.domain=function(R){return arguments.length?m(Array.from(R,_J)):m().map(xJ)},f.ticks=function(R){var I=m();return n(I[0],I[I.length-1],R??10)},f.tickFormat=function(R,I){return I==null?P:c(I)},f.nice=function(R){var I=m();return(!R||typeof R.range!="function")&&(R=e(I[0],I[I.length-1],R??10)),R?m(iV(I,R)):f},f.copy=function(){return Hy(f,gO(n,e,t,r,i,a,o,s,l,c))},f}function bJ(){return Ro.apply(gO(gZ,vZ,tu,pO,tS,Wy,hO,cO,Jf,vV).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function SJ(){return Ro.apply(gO(pZ,mZ,nu,mO,nS,eS,dO,fO,Jf,yV).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function rS(){var n=0,e=1,t,r,i,a,o=fa,s=!1,l;function c(d){return d==null||isNaN(d=+d)?l:o(i===0?.5:(d=(a(d)-t)*i,s?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([n,e]=d,t=a(n=+n),r=a(e=+e),i=t===r?0:1/(r-t),c):[n,e]},c.clamp=function(d){return arguments.length?(s=!!d,c):s},c.interpolator=function(d){return arguments.length?(o=d,c):o};function f(d){return function(m){var v,x;return arguments.length?([v,x]=m,o=d(v,x),c):[o(0),o(1)]}}return c.range=f(fm),c.rangeRound=f(tO),c.unknown=function(d){return arguments.length?(l=d,c):l},function(d){return a=d,t=d(n),r=d(e),i=t===r?0:1/(r-t),c}}function Oc(n,e){return e.domain(n.domain()).interpolator(n.interpolator()).clamp(n.clamp()).unknown(n.unknown())}function xV(){var n=Cc(rS()(fa));return n.copy=function(){return Oc(n,xV())},fu.apply(n,arguments)}function _V(){var n=aO(rS()).domain([1,10]);return n.copy=function(){return Oc(n,_V()).base(n.base())},fu.apply(n,arguments)}function bV(){var n=oO(rS());return n.copy=function(){return Oc(n,bV()).constant(n.constant())},fu.apply(n,arguments)}function vO(){var n=sO(rS());return n.copy=function(){return Oc(n,vO()).exponent(n.exponent())},fu.apply(n,arguments)}function wJ(){return vO.apply(null,arguments).exponent(.5)}function SV(){var n=[],e=fa;function t(r){if(r!=null&&!isNaN(r=+r))return e((jy(n,r,1)-1)/(n.length-1))}return t.domain=function(r){if(!arguments.length)return n.slice();n=[];for(let i of r)i!=null&&!isNaN(i=+i)&&n.push(i);return n.sort(pc),t},t.interpolator=function(r){return arguments.length?(e=r,t):e},t.range=function(){return n.map((r,i)=>e(i/(n.length-1)))},t.quantiles=function(r){return Array.from({length:r+1},(i,a)=>uK(n,a/r))},t.copy=function(){return SV(e).domain(n)},fu.apply(t,arguments)}function iS(){var n=0,e=.5,t=1,r=1,i,a,o,s,l,c=fa,f,d=!1,m;function v(S){return isNaN(S=+S)?m:(S=.5+((S=+f(S))-a)*(r*S<r*a?s:l),c(d?Math.max(0,Math.min(1,S)):S))}v.domain=function(S){return arguments.length?([n,e,t]=S,i=f(n=+n),a=f(e=+e),o=f(t=+t),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,v):[n,e,t]},v.clamp=function(S){return arguments.length?(d=!!S,v):d},v.interpolator=function(S){return arguments.length?(c=S,v):c};function x(S){return function(_){var b,M,T;return arguments.length?([b,M,T]=_,c=NK(S,[b,M,T]),v):[c(0),c(.5),c(1)]}}return v.range=x(fm),v.rangeRound=x(tO),v.unknown=function(S){return arguments.length?(m=S,v):m},function(S){return f=S,i=S(n),a=S(e),o=S(t),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,v}}function wV(){var n=Cc(iS()(fa));return n.copy=function(){return Oc(n,wV())},fu.apply(n,arguments)}function MV(){var n=aO(iS()).domain([.1,1,10]);return n.copy=function(){return Oc(n,MV()).base(n.base())},fu.apply(n,arguments)}function AV(){var n=oO(iS());return n.copy=function(){return Oc(n,AV()).constant(n.constant())},fu.apply(n,arguments)}function yO(){var n=sO(iS());return n.copy=function(){return Oc(n,yO()).exponent(n.exponent())},fu.apply(n,arguments)}function MJ(){return yO.apply(null,arguments).exponent(.5)}const mk=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Iv,scaleDiverging:wV,scaleDivergingLog:MV,scaleDivergingPow:yO,scaleDivergingSqrt:MJ,scaleDivergingSymlog:AV,scaleIdentity:rV,scaleImplicit:_P,scaleLinear:X_,scaleLog:aV,scaleOrdinal:J2,scalePoint:av,scalePow:lO,scaleQuantile:lV,scaleQuantize:uV,scaleRadial:sV,scaleSequential:xV,scaleSequentialLog:_V,scaleSequentialPow:vO,scaleSequentialQuantile:SV,scaleSequentialSqrt:wJ,scaleSequentialSymlog:bV,scaleSqrt:iZ,scaleSymlog:oV,scaleThreshold:cV,scaleTime:bJ,scaleUtc:SJ,tickFormat:nV},Symbol.toStringTag,{value:"Module"}));var $A,gk;function aS(){if(gk)return $A;gk=1;var n=sm();function e(t,r,i){for(var a=-1,o=t.length;++a<o;){var s=t[a],l=r(s);if(l!=null&&(c===void 0?l===l&&!n(l):i(l,c)))var c=l,f=s}return f}return $A=e,$A}var qA,vk;function TV(){if(vk)return qA;vk=1;function n(e,t){return e>t}return qA=n,qA}var XA,yk;function AJ(){if(yk)return XA;yk=1;var n=aS(),e=TV(),t=cm();function r(i){return i&&i.length?n(i,t,e):void 0}return XA=r,XA}var TJ=AJ();const fc=Tn(TJ);var YA,xk;function EV(){if(xk)return YA;xk=1;function n(e,t){return e<t}return YA=n,YA}var KA,_k;function EJ(){if(_k)return KA;_k=1;var n=aS(),e=EV(),t=cm();function r(i){return i&&i.length?n(i,t,e):void 0}return KA=r,KA}var PJ=EJ();const oS=Tn(PJ);var ZA,bk;function CJ(){if(bk)return ZA;bk=1;var n=N2(),e=tl(),t=N5(),r=La();function i(a,o){var s=r(a)?n:t;return s(a,e(o,3))}return ZA=i,ZA}var JA,Sk;function OJ(){if(Sk)return JA;Sk=1;var n=D5(),e=CJ();function t(r,i){return n(e(r,i),1)}return JA=t,JA}var RJ=OJ();const IJ=Tn(RJ);var QA,wk;function DJ(){if(wk)return QA;wk=1;var n=q2();function e(t,r){return n(t,r)}return QA=e,QA}var LJ=DJ();const bc=Tn(LJ);var hm=1e9,NJ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},_O,sr=!0,Co="[DecimalError] ",uh=Co+"Invalid argument: ",xO=Co+"Exponent out of range: ",dm=Math.floor,Vf=Math.pow,kJ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ja,di=1e7,Qn=7,PV=9007199254740991,J_=dm(PV/Qn),yt={};yt.absoluteValue=yt.abs=function(){var n=new this.constructor(this);return n.s&&(n.s=1),n};yt.comparedTo=yt.cmp=function(n){var e,t,r,i,a=this;if(n=new a.constructor(n),a.s!==n.s)return a.s||-n.s;if(a.e!==n.e)return a.e>n.e^a.s<0?1:-1;for(r=a.d.length,i=n.d.length,e=0,t=r<i?r:i;e<t;++e)if(a.d[e]!==n.d[e])return a.d[e]>n.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};yt.decimalPlaces=yt.dp=function(){var n=this,e=n.d.length-1,t=(e-n.e)*Qn;if(e=n.d[e],e)for(;e%10==0;e/=10)t--;return t<0?0:t};yt.dividedBy=yt.div=function(n){return Jl(this,new this.constructor(n))};yt.dividedToIntegerBy=yt.idiv=function(n){var e=this,t=e.constructor;return Wn(Jl(e,new t(n),0,1),t.precision)};yt.equals=yt.eq=function(n){return!this.cmp(n)};yt.exponent=function(){return zr(this)};yt.greaterThan=yt.gt=function(n){return this.cmp(n)>0};yt.greaterThanOrEqualTo=yt.gte=function(n){return this.cmp(n)>=0};yt.isInteger=yt.isint=function(){return this.e>this.d.length-2};yt.isNegative=yt.isneg=function(){return this.s<0};yt.isPositive=yt.ispos=function(){return this.s>0};yt.isZero=function(){return this.s===0};yt.lessThan=yt.lt=function(n){return this.cmp(n)<0};yt.lessThanOrEqualTo=yt.lte=function(n){return this.cmp(n)<1};yt.logarithm=yt.log=function(n){var e,t=this,r=t.constructor,i=r.precision,a=i+5;if(n===void 0)n=new r(10);else if(n=new r(n),n.s<1||n.eq(Ja))throw Error(Co+"NaN");if(t.s<1)throw Error(Co+(t.s?"NaN":"-Infinity"));return t.eq(Ja)?new r(0):(sr=!1,e=Jl(Uv(t,a),Uv(n,a),a),sr=!0,Wn(e,i))};yt.minus=yt.sub=function(n){var e=this;return n=new e.constructor(n),e.s==n.s?RV(e,n):CV(e,(n.s=-n.s,n))};yt.modulo=yt.mod=function(n){var e,t=this,r=t.constructor,i=r.precision;if(n=new r(n),!n.s)throw Error(Co+"NaN");return t.s?(sr=!1,e=Jl(t,n,0,1).times(n),sr=!0,t.minus(e)):Wn(new r(t),i)};yt.naturalExponential=yt.exp=function(){return OV(this)};yt.naturalLogarithm=yt.ln=function(){return Uv(this)};yt.negated=yt.neg=function(){var n=new this.constructor(this);return n.s=-n.s||0,n};yt.plus=yt.add=function(n){var e=this;return n=new e.constructor(n),e.s==n.s?CV(e,n):RV(e,(n.s=-n.s,n))};yt.precision=yt.sd=function(n){var e,t,r,i=this;if(n!==void 0&&n!==!!n&&n!==1&&n!==0)throw Error(uh+n);if(e=zr(i)+1,r=i.d.length-1,t=r*Qn+1,r=i.d[r],r){for(;r%10==0;r/=10)t--;for(r=i.d[0];r>=10;r/=10)t++}return n&&e>t?e:t};yt.squareRoot=yt.sqrt=function(){var n,e,t,r,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Co+"NaN")}for(n=zr(s),sr=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=Hs(s.d),(e.length+n)%2==0&&(e+="0"),i=Math.sqrt(e),n=dm((n+1)/2)-(n<0||n%2),i==1/0?e="5e"+n:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+n),r=new l(e)):r=new l(i.toString()),t=l.precision,i=o=t+3;;)if(a=r,r=a.plus(Jl(s,a,o+2)).times(.5),Hs(a.d).slice(0,o)===(e=Hs(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(Wn(a,t+1,0),a.times(a).eq(s)){r=a;break}}else if(e!="9999")break;o+=4}return sr=!0,Wn(r,t)};yt.times=yt.mul=function(n){var e,t,r,i,a,o,s,l,c,f=this,d=f.constructor,m=f.d,v=(n=new d(n)).d;if(!f.s||!n.s)return new d(0);for(n.s*=f.s,t=f.e+n.e,l=m.length,c=v.length,l<c&&(a=m,m=v,v=a,o=l,l=c,c=o),a=[],o=l+c,r=o;r--;)a.push(0);for(r=c;--r>=0;){for(e=0,i=l+r;i>r;)s=a[i]+v[r]*m[i-r-1]+e,a[i--]=s%di|0,e=s/di|0;a[i]=(a[i]+e)%di|0}for(;!a[--o];)a.pop();return e?++t:a.shift(),n.d=a,n.e=t,sr?Wn(n,d.precision):n};yt.toDecimalPlaces=yt.todp=function(n,e){var t=this,r=t.constructor;return t=new r(t),n===void 0?t:(Js(n,0,hm),e===void 0?e=r.rounding:Js(e,0,8),Wn(t,n+zr(t)+1,e))};yt.toExponential=function(n,e){var t,r=this,i=r.constructor;return n===void 0?t=yh(r,!0):(Js(n,0,hm),e===void 0?e=i.rounding:Js(e,0,8),r=Wn(new i(r),n+1,e),t=yh(r,!0,n+1)),t};yt.toFixed=function(n,e){var t,r,i=this,a=i.constructor;return n===void 0?yh(i):(Js(n,0,hm),e===void 0?e=a.rounding:Js(e,0,8),r=Wn(new a(i),n+zr(i)+1,e),t=yh(r.abs(),!1,n+zr(r)+1),i.isneg()&&!i.isZero()?"-"+t:t)};yt.toInteger=yt.toint=function(){var n=this,e=n.constructor;return Wn(new e(n),zr(n)+1,e.rounding)};yt.toNumber=function(){return+this};yt.toPower=yt.pow=function(n){var e,t,r,i,a,o,s=this,l=s.constructor,c=12,f=+(n=new l(n));if(!n.s)return new l(Ja);if(s=new l(s),!s.s){if(n.s<1)throw Error(Co+"Infinity");return s}if(s.eq(Ja))return s;if(r=l.precision,n.eq(Ja))return Wn(s,r);if(e=n.e,t=n.d.length-1,o=e>=t,a=s.s,o){if((t=f<0?-f:f)<=PV){for(i=new l(Ja),e=Math.ceil(r/Qn+4),sr=!1;t%2&&(i=i.times(s),Ak(i.d,e)),t=dm(t/2),t!==0;)s=s.times(s),Ak(s.d,e);return sr=!0,n.s<0?new l(Ja).div(i):Wn(i,r)}}else if(a<0)throw Error(Co+"NaN");return a=a<0&&n.d[Math.max(e,t)]&1?-1:1,s.s=1,sr=!1,i=n.times(Uv(s,r+c)),sr=!0,i=OV(i),i.s=a,i};yt.toPrecision=function(n,e){var t,r,i=this,a=i.constructor;return n===void 0?(t=zr(i),r=yh(i,t<=a.toExpNeg||t>=a.toExpPos)):(Js(n,1,hm),e===void 0?e=a.rounding:Js(e,0,8),i=Wn(new a(i),n,e),t=zr(i),r=yh(i,n<=t||t<=a.toExpNeg,n)),r};yt.toSignificantDigits=yt.tosd=function(n,e){var t=this,r=t.constructor;return n===void 0?(n=r.precision,e=r.rounding):(Js(n,1,hm),e===void 0?e=r.rounding:Js(e,0,8)),Wn(new r(t),n,e)};yt.toString=yt.valueOf=yt.val=yt.toJSON=yt[Symbol.for("nodejs.util.inspect.custom")]=function(){var n=this,e=zr(n),t=n.constructor;return yh(n,e<=t.toExpNeg||e>=t.toExpPos)};function CV(n,e){var t,r,i,a,o,s,l,c,f=n.constructor,d=f.precision;if(!n.s||!e.s)return e.s||(e=new f(n)),sr?Wn(e,d):e;if(l=n.d,c=e.d,o=n.e,i=e.e,l=l.slice(),a=o-i,a){for(a<0?(r=l,a=-a,s=c.length):(r=c,i=o,s=l.length),o=Math.ceil(d/Qn),s=o>s?o+1:s+1,a>s&&(a=s,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(s=l.length,a=c.length,s-a<0&&(a=s,r=c,c=l,l=r),t=0;a;)t=(l[--a]=l[a]+c[a]+t)/di|0,l[a]%=di;for(t&&(l.unshift(t),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,sr?Wn(e,d):e}function Js(n,e,t){if(n!==~~n||n<e||n>t)throw Error(uh+n)}function Hs(n){var e,t,r,i=n.length-1,a="",o=n[0];if(i>0){for(a+=o,e=1;e<i;e++)r=n[e]+"",t=Qn-r.length,t&&(a+=lc(t)),a+=r;o=n[e],r=o+"",t=Qn-r.length,t&&(a+=lc(t))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Jl=(function(){function n(r,i){var a,o=0,s=r.length;for(r=r.slice();s--;)a=r[s]*i+o,r[s]=a%di|0,o=a/di|0;return o&&r.unshift(o),r}function e(r,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function t(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*di+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var s,l,c,f,d,m,v,x,S,_,b,M,T,E,P,R,I,U,N=r.constructor,k=r.s==i.s?1:-1,z=r.d,G=i.d;if(!r.s)return new N(r);if(!i.s)throw Error(Co+"Division by zero");for(l=r.e-i.e,I=G.length,P=z.length,v=new N(k),x=v.d=[],c=0;G[c]==(z[c]||0);)++c;if(G[c]>(z[c]||0)&&--l,a==null?M=a=N.precision:o?M=a+(zr(r)-zr(i))+1:M=a,M<0)return new N(0);if(M=M/Qn+2|0,c=0,I==1)for(f=0,G=G[0],M++;(c<P||f)&&M--;c++)T=f*di+(z[c]||0),x[c]=T/G|0,f=T%G|0;else{for(f=di/(G[0]+1)|0,f>1&&(G=n(G,f),z=n(z,f),I=G.length,P=z.length),E=I,S=z.slice(0,I),_=S.length;_<I;)S[_++]=0;U=G.slice(),U.unshift(0),R=G[0],G[1]>=di/2&&++R;do f=0,s=e(G,S,I,_),s<0?(b=S[0],I!=_&&(b=b*di+(S[1]||0)),f=b/R|0,f>1?(f>=di&&(f=di-1),d=n(G,f),m=d.length,_=S.length,s=e(d,S,m,_),s==1&&(f--,t(d,I<m?U:G,m))):(f==0&&(s=f=1),d=G.slice()),m=d.length,m<_&&d.unshift(0),t(S,d,_),s==-1&&(_=S.length,s=e(G,S,I,_),s<1&&(f++,t(S,I<_?U:G,_))),_=S.length):s===0&&(f++,S=[0]),x[c++]=f,s&&S[0]?S[_++]=z[E]||0:(S=[z[E]],_=1);while((E++<P||S[0]!==void 0)&&M--)}return x[0]||x.shift(),v.e=l,Wn(v,o?a+zr(v)+1:a)}})();function OV(n,e){var t,r,i,a,o,s,l=0,c=0,f=n.constructor,d=f.precision;if(zr(n)>16)throw Error(xO+zr(n));if(!n.s)return new f(Ja);for(sr=!1,s=d,o=new f(.03125);n.abs().gte(.1);)n=n.times(o),c+=5;for(r=Math.log(Vf(2,c))/Math.LN10*2+5|0,s+=r,t=i=a=new f(Ja),f.precision=s;;){if(i=Wn(i.times(n),s),t=t.times(++l),o=a.plus(Jl(i,t,s)),Hs(o.d).slice(0,s)===Hs(a.d).slice(0,s)){for(;c--;)a=Wn(a.times(a),s);return f.precision=d,e==null?(sr=!0,Wn(a,d)):a}a=o}}function zr(n){for(var e=n.e*Qn,t=n.d[0];t>=10;t/=10)e++;return e}function eT(n,e,t){if(e>n.LN10.sd())throw sr=!0,t&&(n.precision=t),Error(Co+"LN10 precision limit exceeded");return Wn(new n(n.LN10),e)}function lc(n){for(var e="";n--;)e+="0";return e}function Uv(n,e){var t,r,i,a,o,s,l,c,f,d=1,m=10,v=n,x=v.d,S=v.constructor,_=S.precision;if(v.s<1)throw Error(Co+(v.s?"NaN":"-Infinity"));if(v.eq(Ja))return new S(0);if(e==null?(sr=!1,c=_):c=e,v.eq(10))return e==null&&(sr=!0),eT(S,c);if(c+=m,S.precision=c,t=Hs(x),r=t.charAt(0),a=zr(v),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&t.charAt(1)>3;)v=v.times(n),t=Hs(v.d),r=t.charAt(0),d++;a=zr(v),r>1?(v=new S("0."+t),a++):v=new S(r+"."+t.slice(1))}else return l=eT(S,c+2,_).times(a+""),v=Uv(new S(r+"."+t.slice(1)),c-m).plus(l),S.precision=_,e==null?(sr=!0,Wn(v,_)):v;for(s=o=v=Jl(v.minus(Ja),v.plus(Ja),c),f=Wn(v.times(v),c),i=3;;){if(o=Wn(o.times(f),c),l=s.plus(Jl(o,new S(i),c)),Hs(l.d).slice(0,c)===Hs(s.d).slice(0,c))return s=s.times(2),a!==0&&(s=s.plus(eT(S,c+2,_).times(a+""))),s=Jl(s,new S(d),c),S.precision=_,e==null?(sr=!0,Wn(s,_)):s;s=l,i+=2}}function Mk(n,e){var t,r,i;for((t=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(t<0&&(t=r),t+=+e.slice(r+1),e=e.substring(0,r)):t<0&&(t=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,t=t-r-1,n.e=dm(t/Qn),n.d=[],r=(t+1)%Qn,t<0&&(r+=Qn),r<i){for(r&&n.d.push(+e.slice(0,r)),i-=Qn;r<i;)n.d.push(+e.slice(r,r+=Qn));e=e.slice(r),r=Qn-e.length}else r-=i;for(;r--;)e+="0";if(n.d.push(+e),sr&&(n.e>J_||n.e<-J_))throw Error(xO+t)}else n.s=0,n.e=0,n.d=[0];return n}function Wn(n,e,t){var r,i,a,o,s,l,c,f,d=n.d;for(o=1,a=d[0];a>=10;a/=10)o++;if(r=e-o,r<0)r+=Qn,i=e,c=d[f=0];else{if(f=Math.ceil((r+1)/Qn),a=d.length,f>=a)return n;for(c=a=d[f],o=1;a>=10;a/=10)o++;r%=Qn,i=r-Qn+o}if(t!==void 0&&(a=Vf(10,o-i-1),s=c/a%10|0,l=e<0||d[f+1]!==void 0||c%a,l=t<4?(s||l)&&(t==0||t==(n.s<0?3:2)):s>5||s==5&&(t==4||l||t==6&&(r>0?i>0?c/Vf(10,o-i):0:d[f-1])%10&1||t==(n.s<0?8:7))),e<1||!d[0])return l?(a=zr(n),d.length=1,e=e-a-1,d[0]=Vf(10,(Qn-e%Qn)%Qn),n.e=dm(-e/Qn)||0):(d.length=1,d[0]=n.e=n.s=0),n;if(r==0?(d.length=f,a=1,f--):(d.length=f+1,a=Vf(10,Qn-r),d[f]=i>0?(c/Vf(10,o-i)%Vf(10,i)|0)*a:0),l)for(;;)if(f==0){(d[0]+=a)==di&&(d[0]=1,++n.e);break}else{if(d[f]+=a,d[f]!=di)break;d[f--]=0,a=1}for(r=d.length;d[--r]===0;)d.pop();if(sr&&(n.e>J_||n.e<-J_))throw Error(xO+zr(n));return n}function RV(n,e){var t,r,i,a,o,s,l,c,f,d,m=n.constructor,v=m.precision;if(!n.s||!e.s)return e.s?e.s=-e.s:e=new m(n),sr?Wn(e,v):e;if(l=n.d,d=e.d,r=e.e,c=n.e,l=l.slice(),o=c-r,o){for(f=o<0,f?(t=l,o=-o,s=d.length):(t=d,r=c,s=l.length),i=Math.max(Math.ceil(v/Qn),s)+2,o>i&&(o=i,t.length=1),t.reverse(),i=o;i--;)t.push(0);t.reverse()}else{for(i=l.length,s=d.length,f=i<s,f&&(s=i),i=0;i<s;i++)if(l[i]!=d[i]){f=l[i]<d[i];break}o=0}for(f&&(t=l,l=d,d=t,e.s=-e.s),s=l.length,i=d.length-s;i>0;--i)l[s++]=0;for(i=d.length;i>o;){if(l[--i]<d[i]){for(a=i;a&&l[--a]===0;)l[a]=di-1;--l[a],l[i]+=di}l[i]-=d[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,sr?Wn(e,v):e):new m(0)}function yh(n,e,t){var r,i=zr(n),a=Hs(n.d),o=a.length;return e?(t&&(r=t-o)>0?a=a.charAt(0)+"."+a.slice(1)+lc(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+lc(-i-1)+a,t&&(r=t-o)>0&&(a+=lc(r))):i>=o?(a+=lc(i+1-o),t&&(r=t-i-1)>0&&(a=a+"."+lc(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),t&&(r=t-o)>0&&(i+1===o&&(a+="."),a+=lc(r))),n.s<0?"-"+a:a}function Ak(n,e){if(n.length>e)return n.length=e,!0}function IV(n){var e,t,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(uh+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return Mk(o,a.toString())}else if(typeof a!="string")throw Error(uh+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,kJ.test(a))Mk(o,a);else throw Error(uh+a)}if(i.prototype=yt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=IV,i.config=i.set=UJ,n===void 0&&(n={}),n)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)n.hasOwnProperty(t=r[e++])||(n[t]=this[t]);return i.config(n),i}function UJ(n){if(!n||typeof n!="object")throw Error(Co+"Object expected");var e,t,r,i=["precision",1,hm,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=n[t=i[e]])!==void 0)if(dm(r)===r&&r>=i[e+1]&&r<=i[e+2])this[t]=r;else throw Error(uh+t+": "+r);if((r=n[t="LN10"])!==void 0)if(r==Math.LN10)this[t]=new this(r);else throw Error(uh+t+": "+r);return this}var _O=IV(NJ);Ja=new _O(1);const Bn=_O;function FJ(n){return VJ(n)||jJ(n)||zJ(n)||BJ()}function BJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zJ(n,e){if(n){if(typeof n=="string")return MP(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return MP(n,e)}}function jJ(n){if(typeof Symbol<"u"&&Symbol.iterator in Object(n))return Array.from(n)}function VJ(n){if(Array.isArray(n))return MP(n)}function MP(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var HJ=function(e){return e},DV={},LV=function(e){return e===DV},Tk=function(e){return function t(){return arguments.length===0||arguments.length===1&&LV(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},WJ=function n(e,t){return e===1?t:Tk(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=i.filter(function(s){return s!==DV}).length;return o>=e?t.apply(void 0,i):n(e-o,Tk(function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var f=i.map(function(d){return LV(d)?l.shift():d});return t.apply(void 0,FJ(f).concat(l))}))})},sS=function(e){return WJ(e.length,e)},AP=function(e,t){for(var r=[],i=e;i<t;++i)r[i-e]=i;return r},GJ=sS(function(n,e){return Array.isArray(e)?e.map(n):Object.keys(e).map(function(t){return e[t]}).map(n)}),$J=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(!t.length)return HJ;var i=t.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(s,l){return l(s)},a.apply(void 0,arguments))}},TP=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},NV=function(e){var t=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t&&a.every(function(s,l){return s===t[l]})||(t=a,r=e.apply(void 0,a)),r}};function qJ(n){var e;return n===0?e=1:e=Math.floor(new Bn(n).abs().log(10).toNumber())+1,e}function XJ(n,e,t){for(var r=new Bn(n),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(t),i++;return a}var YJ=sS(function(n,e,t){var r=+n,i=+e;return r+t*(i-r)}),KJ=sS(function(n,e,t){var r=e-+n;return r=r||1/0,(t-n)/r}),ZJ=sS(function(n,e,t){var r=e-+n;return r=r||1/0,Math.max(0,Math.min(1,(t-n)/r))});const lS={rangeStep:XJ,getDigitCount:qJ,interpolateNumber:YJ,uninterpolateNumber:KJ,uninterpolateTruncation:ZJ};function EP(n){return eQ(n)||QJ(n)||kV(n)||JJ()}function JJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QJ(n){if(typeof Symbol<"u"&&Symbol.iterator in Object(n))return Array.from(n)}function eQ(n){if(Array.isArray(n))return PP(n)}function Fv(n,e){return rQ(n)||nQ(n,e)||kV(n,e)||tQ()}function tQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kV(n,e){if(n){if(typeof n=="string")return PP(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return PP(n,e)}}function PP(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function nQ(n,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(n)))){var t=[],r=!0,i=!1,a=void 0;try{for(var o=n[Symbol.iterator](),s;!(r=(s=o.next()).done)&&(t.push(s.value),!(e&&t.length===e));r=!0);}catch(l){i=!0,a=l}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw a}}return t}}function rQ(n){if(Array.isArray(n))return n}function UV(n){var e=Fv(n,2),t=e[0],r=e[1],i=t,a=r;return t>r&&(i=r,a=t),[i,a]}function FV(n,e,t){if(n.lte(0))return new Bn(0);var r=lS.getDigitCount(n.toNumber()),i=new Bn(10).pow(r),a=n.div(i),o=r!==1?.05:.1,s=new Bn(Math.ceil(a.div(o).toNumber())).add(t).mul(o),l=s.mul(i);return e?l:new Bn(Math.ceil(l))}function iQ(n,e,t){var r=1,i=new Bn(n);if(!i.isint()&&t){var a=Math.abs(n);a<1?(r=new Bn(10).pow(lS.getDigitCount(n)-1),i=new Bn(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Bn(Math.floor(n)))}else n===0?i=new Bn(Math.floor((e-1)/2)):t||(i=new Bn(Math.floor(n)));var o=Math.floor((e-1)/2),s=$J(GJ(function(l){return i.add(new Bn(l-o).mul(r)).toNumber()}),AP);return s(0,e)}function BV(n,e,t,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-n)/(t-1)))return{step:new Bn(0),tickMin:new Bn(0),tickMax:new Bn(0)};var a=FV(new Bn(e).sub(n).div(t-1),r,i),o;n<=0&&e>=0?o=new Bn(0):(o=new Bn(n).add(e).div(2),o=o.sub(new Bn(o).mod(a)));var s=Math.ceil(o.sub(n).div(a).toNumber()),l=Math.ceil(new Bn(e).sub(o).div(a).toNumber()),c=s+l+1;return c>t?BV(n,e,t,r,i+1):(c<t&&(l=e>0?l+(t-c):l,s=e>0?s:s+(t-c)),{step:a,tickMin:o.sub(new Bn(s).mul(a)),tickMax:o.add(new Bn(l).mul(a))})}function aQ(n){var e=Fv(n,2),t=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),s=UV([t,r]),l=Fv(s,2),c=l[0],f=l[1];if(c===-1/0||f===1/0){var d=f===1/0?[c].concat(EP(AP(0,i-1).map(function(){return 1/0}))):[].concat(EP(AP(0,i-1).map(function(){return-1/0})),[f]);return t>r?TP(d):d}if(c===f)return iQ(c,i,a);var m=BV(c,f,o,a),v=m.step,x=m.tickMin,S=m.tickMax,_=lS.rangeStep(x,S.add(new Bn(.1).mul(v)),v);return t>r?TP(_):_}function oQ(n,e){var t=Fv(n,2),r=t[0],i=t[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=UV([r,i]),s=Fv(o,2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var f=Math.max(e,2),d=FV(new Bn(c).sub(l).div(f-1),a,0),m=[].concat(EP(lS.rangeStep(new Bn(l),new Bn(c).sub(new Bn(.99).mul(d)),d)),[c]);return r>i?TP(m):m}var sQ=NV(aQ),lQ=NV(oQ),uQ="Invariant failed";function xh(n,e){throw new Error(uQ)}var cQ=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Q_(){return Q_=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Q_.apply(this,arguments)}function fQ(n,e){return mQ(n)||pQ(n,e)||dQ(n,e)||hQ()}function hQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dQ(n,e){if(n){if(typeof n=="string")return Ek(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ek(n,e)}}function Ek(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function pQ(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(t=t.call(n)).next,e!==0)for(;!(l=(r=a.call(t)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){c=!0,i=f}finally{try{if(!l&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function mQ(n){if(Array.isArray(n))return n}function gQ(n,e){if(n==null)return{};var t=vQ(n,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function vQ(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function pm(n){var e=n.offset,t=n.layout,r=n.width,i=n.dataKey,a=n.data,o=n.dataPointFormatter,s=n.xAxis,l=n.yAxis,c=gQ(n,cQ),f=Mt(c,!1);n.direction==="x"&&s.type!=="number"&&xh();var d=a.map(function(m){var v=o(m,i),x=v.x,S=v.y,_=v.value,b=v.errorVal;if(!b)return null;var M=[],T,E;if(Array.isArray(b)){var P=fQ(b,2);T=P[0],E=P[1]}else T=E=b;if(t==="vertical"){var R=s.scale,I=S+e,U=I+r,N=I-r,k=R(_-T),z=R(_+E);M.push({x1:z,y1:U,x2:z,y2:N}),M.push({x1:k,y1:I,x2:z,y2:I}),M.push({x1:k,y1:U,x2:k,y2:N})}else if(t==="horizontal"){var G=l.scale,K=x+e,H=K-r,te=K+r,J=G(_-T),ie=G(_+E);M.push({x1:H,y1:ie,x2:te,y2:ie}),M.push({x1:K,y1:J,x2:K,y2:ie}),M.push({x1:H,y1:J,x2:te,y2:J})}return re.createElement(nn,Q_({className:"recharts-errorBar",key:"bar-".concat(M.map(function(B){return"".concat(B.x1,"-").concat(B.x2,"-").concat(B.y1,"-").concat(B.y2)}))},f),M.map(function(B){return re.createElement("line",Q_({},B,{key:"line-".concat(B.x1,"-").concat(B.x2,"-").concat(B.y1,"-").concat(B.y2)}))}))});return re.createElement(nn,{className:"recharts-errorBars"},d)}pm.defaultProps={stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"};pm.displayName="ErrorBar";function Bv(n){"@babel/helpers - typeof";return Bv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bv(n)}function Pk(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function tT(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Pk(Object(t),!0).forEach(function(r){yQ(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Pk(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function yQ(n,e,t){return e=xQ(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function xQ(n){var e=_Q(n,"string");return Bv(e)=="symbol"?e:String(e)}function _Q(n,e){if(Bv(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Bv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var zV=function(e){var t=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=Za(t,Po);if(!o)return null;var s;return o.props&&o.props.payload?s=o.props&&o.props.payload:a==="children"?s=(r||[]).reduce(function(l,c){var f=c.item,d=c.props,m=d.sectors||d.data||[];return l.concat(m.map(function(v){return{type:o.props.iconType||f.props.legendType,value:v.name,color:v.fill,payload:v}}))},[]):s=(r||[]).map(function(l){var c=l.item,f=c.props,d=f.dataKey,m=f.name,v=f.legendType,x=f.hide;return{inactive:x,dataKey:d,type:o.props.iconType||v||"square",color:bO(c),value:m||d,payload:c.props}}),tT(tT(tT({},o.props),Po.getWithHeight(o,i)),{},{payload:s,item:o})};function zv(n){"@babel/helpers - typeof";return zv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zv(n)}function Ck(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function wo(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Ck(Object(t),!0).forEach(function(r){Ep(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Ck(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Ep(n,e,t){return e=bQ(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function bQ(n){var e=SQ(n,"string");return zv(e)=="symbol"?e:String(e)}function SQ(n,e){if(zv(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(zv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Ok(n){return TQ(n)||AQ(n)||MQ(n)||wQ()}function wQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MQ(n,e){if(n){if(typeof n=="string")return CP(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return CP(n,e)}}function AQ(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function TQ(n){if(Array.isArray(n))return CP(n)}function CP(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function er(n,e,t){return Ut(n)||Ut(e)?t:Qr(e)?to(n,e,t):zt(e)?e(n):t}function ov(n,e,t,r){var i=IJ(n,function(s){return er(s,e)});if(t==="number"){var a=i.filter(function(s){return Ze(s)||parseFloat(s)});return a.length?[oS(a),fc(a)]:[1/0,-1/0]}var o=r?i.filter(function(s){return!Ut(s)}):i;return o.map(function(s){return Qr(s)||s instanceof Date?s:""})}var EQ=function(e){var t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,s=(t=r?.length)!==null&&t!==void 0?t:0;if(s<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,c=0;c<s;c++){var f=c>0?i[c-1].coordinate:i[s-1].coordinate,d=i[c].coordinate,m=c>=s-1?i[0].coordinate:i[c+1].coordinate,v=void 0;if(ua(d-f)!==ua(m-d)){var x=[];if(ua(m-d)===ua(l[1]-l[0])){v=m;var S=d+l[1]-l[0];x[0]=Math.min(S,(S+f)/2),x[1]=Math.max(S,(S+f)/2)}else{v=f;var _=m+l[1]-l[0];x[0]=Math.min(d,(_+d)/2),x[1]=Math.max(d,(_+d)/2)}var b=[Math.min(d,(v+d)/2),Math.max(d,(v+d)/2)];if(e>b[0]&&e<=b[1]||e>=x[0]&&e<=x[1]){o=i[c].index;break}}else{var M=Math.min(f,m),T=Math.max(f,m);if(e>(M+d)/2&&e<=(T+d)/2){o=i[c].index;break}}}else for(var E=0;E<s;E++)if(E===0&&e<=(r[E].coordinate+r[E+1].coordinate)/2||E>0&&E<s-1&&e>(r[E].coordinate+r[E-1].coordinate)/2&&e<=(r[E].coordinate+r[E+1].coordinate)/2||E===s-1&&e>(r[E].coordinate+r[E-1].coordinate)/2){o=r[E].index;break}return o},bO=function(e){var t=e,r=t.type.displayName,i=e.props,a=i.stroke,o=i.fill,s;switch(r){case"Line":s=a;break;case"Area":case"Radar":s=a&&a!=="none"?a:o;break;default:s=o;break}return s},PQ=function(e){var t=e.barSize,r=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},s=Object.keys(a),l=0,c=s.length;l<c;l++)for(var f=a[s[l]].stackGroups,d=Object.keys(f),m=0,v=d.length;m<v;m++){var x=f[d[m]],S=x.items,_=x.cateAxisId,b=S.filter(function(P){return Zl(P.type).indexOf("Bar")>=0});if(b&&b.length){var M=b[0].props.barSize,T=b[0].props[_];o[T]||(o[T]=[]);var E=Ut(M)?t:M;o[T].push({item:b[0],stackList:b.slice(1),barSize:Ut(E)?void 0:ca(E,r,0)})}}return o},CQ=function(e){var t=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,s=e.maxBarSize,l=o.length;if(l<1)return null;var c=ca(t,i,0,!0),f,d=[];if(o[0].barSize===+o[0].barSize){var m=!1,v=i/l,x=o.reduce(function(E,P){return E+P.barSize||0},0);x+=(l-1)*c,x>=i&&(x-=(l-1)*c,c=0),x>=i&&v>0&&(m=!0,v*=.9,x=l*v);var S=(i-x)/2>>0,_={offset:S-c,size:0};f=o.reduce(function(E,P){var R={item:P.item,position:{offset:_.offset+_.size+c,size:m?v:P.barSize}},I=[].concat(Ok(E),[R]);return _=I[I.length-1].position,P.stackList&&P.stackList.length&&P.stackList.forEach(function(U){I.push({item:U,position:_})}),I},d)}else{var b=ca(r,i,0,!0);i-2*b-(l-1)*c<=0&&(c=0);var M=(i-2*b-(l-1)*c)/l;M>1&&(M>>=0);var T=s===+s?Math.min(M,s):M;f=o.reduce(function(E,P,R){var I=[].concat(Ok(E),[{item:P.item,position:{offset:b+(M+c)*R+(M-T)/2,size:T}}]);return P.stackList&&P.stackList.length&&P.stackList.forEach(function(U){I.push({item:U,position:I[I.length-1].position})}),I},d)}return f},OQ=function(e,t,r,i){var a=r.children,o=r.width,s=r.margin,l=o-(s.left||0)-(s.right||0),c=zV({children:a,legendWidth:l});if(c){var f=i||{},d=f.width,m=f.height,v=c.align,x=c.verticalAlign,S=c.layout;if((S==="vertical"||S==="horizontal"&&x==="middle")&&v!=="center"&&Ze(e[v]))return wo(wo({},e),{},Ep({},v,e[v]+(d||0)));if((S==="horizontal"||S==="vertical"&&v==="center")&&x!=="middle"&&Ze(e[x]))return wo(wo({},e),{},Ep({},x,e[x]+(m||0)))}return e},RQ=function(e,t,r){return Ut(t)?!0:e==="horizontal"?t==="yAxis":e==="vertical"||r==="x"?t==="xAxis":r==="y"?t==="yAxis":!0},jV=function(e,t,r,i,a){var o=t.props.children,s=da(o,pm).filter(function(c){return RQ(i,a,c.props.direction)});if(s&&s.length){var l=s.map(function(c){return c.props.dataKey});return e.reduce(function(c,f){var d=er(f,r);if(Ut(d))return c;var m=Array.isArray(d)?[oS(d),fc(d)]:[d,d],v=l.reduce(function(x,S){var _=er(f,S,0),b=m[0]-Math.abs(Array.isArray(_)?_[0]:_),M=m[1]+Math.abs(Array.isArray(_)?_[1]:_);return[Math.min(b,x[0]),Math.max(M,x[1])]},[1/0,-1/0]);return[Math.min(v[0],c[0]),Math.max(v[1],c[1])]},[1/0,-1/0])}return null},IQ=function(e,t,r,i,a){var o=t.map(function(s){return jV(e,s,r,a,i)}).filter(function(s){return!Ut(s)});return o&&o.length?o.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},VV=function(e,t,r,i,a){var o=t.map(function(l){var c=l.props.dataKey;return r==="number"&&c&&jV(e,l,c,i)||ov(e,c,r,a)});if(r==="number")return o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var s={};return o.reduce(function(l,c){for(var f=0,d=c.length;f<d;f++)s[c[f]]||(s[c[f]]=!0,l.push(c[f]));return l},[])},HV=function(e,t){return e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis"},WV=function(e,t,r,i){if(i)return e.map(function(l){return l.coordinate});var a,o,s=e.map(function(l){return l.coordinate===t&&(a=!0),l.coordinate===r&&(o=!0),l.coordinate});return a||s.push(t),o||s.push(r),s},Xl=function(e,t,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(t||r)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&s?.length>=2?ua(s[0]-s[1])*2*c:c,t&&(e.ticks||e.niceTicks)){var f=(e.ticks||e.niceTicks).map(function(d){var m=a?a.indexOf(d):d;return{coordinate:i(m)+c,value:d,offset:c}});return f.filter(function(d){return!um(d.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(d,m){return{coordinate:i(d)+c,value:d,index:m,offset:c}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(d){return{coordinate:i(d)+c,value:d,offset:c}}):i.domain().map(function(d,m){return{coordinate:i(d)+c,value:a?a[d]:d,index:m,offset:c}})},nT=new WeakMap,fx=function(e,t){if(typeof t!="function")return e;nT.has(e)||nT.set(e,new WeakMap);var r=nT.get(e);if(r.has(t))return r.get(t);var i=function(){e.apply(void 0,arguments),t.apply(void 0,arguments)};return r.set(t,i),i},GV=function(e,t,r){var i=e.scale,a=e.type,o=e.layout,s=e.axisType;if(i==="auto")return o==="radial"&&s==="radiusAxis"?{scale:Iv(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:X_(),realScaleType:"linear"}:a==="category"&&t&&(t.indexOf("LineChart")>=0||t.indexOf("AreaChart")>=0||t.indexOf("ComposedChart")>=0&&!r)?{scale:av(),realScaleType:"point"}:a==="category"?{scale:Iv(),realScaleType:"band"}:{scale:X_(),realScaleType:"linear"};if(Fy(i)){var l="scale".concat(Gb(i));return{scale:(mk[l]||av)(),realScaleType:mk[l]?l:"point"}}return zt(i)?{scale:i}:{scale:av(),realScaleType:"point"}},Rk=1e-4,$V=function(e){var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,i=e.range(),a=Math.min(i[0],i[1])-Rk,o=Math.max(i[0],i[1])+Rk,s=e(t[0]),l=e(t[r-1]);(s<a||s>o||l<a||l>o)&&e.domain([t[0],t[r-1]])}},DQ=function(e,t){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===t)return e[r].position;return null},LQ=function(e,t){if(!t||t.length!==2||!Ze(t[0])||!Ze(t[1]))return e;var r=Math.min(t[0],t[1]),i=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!Ze(e[0])||e[0]<r)&&(a[0]=r),(!Ze(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},NQ=function(e){var t=e.length;if(!(t<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0,s=0;s<t;++s){var l=um(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1]):(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1])}},kQ=function(e){var t=e.length;if(!(t<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0;o<t;++o){var s=um(e[o][r][1])?e[o][r][0]:e[o][r][1];s>=0?(e[o][r][0]=a,e[o][r][1]=a+s,a=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},UQ={sign:NQ,expand:Lq,none:Rp,silhouette:Nq,wiggle:kq,positive:kQ},FQ=function(e,t,r){var i=t.map(function(s){return s.props.dataKey}),a=UQ[r],o=Dq().keys(i).value(function(s,l){return+er(s,l,0)}).order(aP).offset(a);return o(e)},BQ=function(e,t,r,i,a,o){if(!e)return null;var s=o?t.reverse():t,l={},c=s.reduce(function(d,m){var v=m.props,x=v.stackId,S=v.hide;if(S)return d;var _=m.props[r],b=d[_]||{hasStack:!1,stackGroups:{}};if(Qr(x)){var M=b.stackGroups[x]||{numericAxisId:r,cateAxisId:i,items:[]};M.items.push(m),b.hasStack=!0,b.stackGroups[x]=M}else b.stackGroups[Pc("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[m]};return wo(wo({},d),{},Ep({},_,b))},l),f={};return Object.keys(c).reduce(function(d,m){var v=c[m];if(v.hasStack){var x={};v.stackGroups=Object.keys(v.stackGroups).reduce(function(S,_){var b=v.stackGroups[_];return wo(wo({},S),{},Ep({},_,{numericAxisId:r,cateAxisId:i,items:b.items,stackedData:FQ(e,b.items,a)}))},x)}return wo(wo({},d),{},Ep({},m,v))},f)},qV=function(e,t){var r=t.realScaleType,i=t.type,a=t.tickCount,o=t.originalDomain,s=t.allowDecimals,l=r||t.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var c=e.domain();if(!c.length)return null;var f=sQ(c,a,s);return e.domain([oS(f),fc(f)]),{niceTicks:f}}if(a&&i==="number"){var d=e.domain(),m=lQ(d,a,s);return{niceTicks:m}}return null};function Bp(n){var e=n.axis,t=n.ticks,r=n.bandSize,i=n.entry,a=n.index,o=n.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Ut(i[e.dataKey])){var s=O_(t,"value",i[e.dataKey]);if(s)return s.coordinate+r/2}return t[a]?t[a].coordinate+r/2:null}var l=er(i,Ut(o)?e.dataKey:o);return Ut(l)?null:e.scale(l)}var Ik=function(e){var t=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,s=e.index;if(t.type==="category")return r[s]?r[s].coordinate+i:null;var l=er(o,t.dataKey,t.domain[s]);return Ut(l)?null:t.scale(l)-a/2+i},zQ=function(e){var t=e.numericAxis,r=t.scale.domain();if(t.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},jQ=function(e,t){var r=e.props.stackId;if(Qr(r)){var i=t[r];if(i){var a=i.items.indexOf(e);return a>=0?i.stackedData[a]:null}}return null},VQ=function(e){return e.reduce(function(t,r){return[oS(r.concat([t[0]]).filter(Ze)),fc(r.concat([t[1]]).filter(Ze))]},[1/0,-1/0])},XV=function(e,t,r){return Object.keys(e).reduce(function(i,a){var o=e[a],s=o.stackedData,l=s.reduce(function(c,f){var d=VQ(f.slice(t,r+1));return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},Dk=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Lk=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,OP=function(e,t,r){if(zt(e))return e(t,r);if(!Array.isArray(e))return t;var i=[];if(Ze(e[0]))i[0]=r?e[0]:Math.min(e[0],t[0]);else if(Dk.test(e[0])){var a=+Dk.exec(e[0])[1];i[0]=t[0]-a}else zt(e[0])?i[0]=e[0](t[0]):i[0]=t[0];if(Ze(e[1]))i[1]=r?e[1]:Math.max(e[1],t[1]);else if(Lk.test(e[1])){var o=+Lk.exec(e[1])[1];i[1]=t[1]+o}else zt(e[1])?i[1]=e[1](t[1]):i[1]=t[1];return i},eb=function(e,t,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&t&&t.length>=2){for(var a=Y2(t,function(d){return d.coordinate}),o=1/0,s=1,l=a.length;s<l;s++){var c=a[s],f=a[s-1];o=Math.min((c.coordinate||0)-(f.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},Nk=function(e,t,r){return!e||!e.length||bc(e,to(r,"type.defaultProps.domain"))?t:e},YV=function(e,t){var r=e.props,i=r.dataKey,a=r.name,o=r.unit,s=r.formatter,l=r.tooltipType,c=r.chartType,f=r.hide;return wo(wo({},Mt(e,!1)),{},{dataKey:i,unit:o,formatter:s,name:a||i,color:bO(e),value:er(t,i),type:l,payload:t,chartType:c,hide:f})};function jv(n){"@babel/helpers - typeof";return jv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jv(n)}function kk(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Vl(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?kk(Object(t),!0).forEach(function(r){KV(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):kk(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function KV(n,e,t){return e=HQ(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function HQ(n){var e=WQ(n,"string");return jv(e)=="symbol"?e:String(e)}function WQ(n,e){if(jv(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(jv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function GQ(n,e){return YQ(n)||XQ(n,e)||qQ(n,e)||$Q()}function $Q(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qQ(n,e){if(n){if(typeof n=="string")return Uk(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Uk(n,e)}}function Uk(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function XQ(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(t=t.call(n)).next,e!==0)for(;!(l=(r=a.call(t)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){c=!0,i=f}finally{try{if(!l&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function YQ(n){if(Array.isArray(n))return n}var tb=Math.PI/180,KQ=function(e){return e*180/Math.PI},Kn=function(e,t,r,i){return{x:e+Math.cos(-tb*i)*r,y:t+Math.sin(-tb*i)*r}},ZV=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(t-(r.top||0)-(r.bottom||0)))/2},ZQ=function(e,t,r,i,a){var o=e.width,s=e.height,l=e.startAngle,c=e.endAngle,f=ca(e.cx,o,o/2),d=ca(e.cy,s,s/2),m=ZV(o,s,r),v=ca(e.innerRadius,m,0),x=ca(e.outerRadius,m,m*.8),S=Object.keys(t);return S.reduce(function(_,b){var M=t[b],T=M.domain,E=M.reversed,P;if(Ut(M.range))i==="angleAxis"?P=[l,c]:i==="radiusAxis"&&(P=[v,x]),E&&(P=[P[1],P[0]]);else{P=M.range;var R=P,I=GQ(R,2);l=I[0],c=I[1]}var U=GV(M,a),N=U.realScaleType,k=U.scale;k.domain(T).range(P),$V(k);var z=qV(k,Vl(Vl({},M),{},{realScaleType:N})),G=Vl(Vl(Vl({},M),z),{},{range:P,radius:x,realScaleType:N,scale:k,cx:f,cy:d,innerRadius:v,outerRadius:x,startAngle:l,endAngle:c});return Vl(Vl({},_),{},KV({},b,G))},{})},JQ=function(e,t){var r=e.x,i=e.y,a=t.x,o=t.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-o,2))},QQ=function(e,t){var r=e.x,i=e.y,a=t.cx,o=t.cy,s=JQ({x:r,y:i},{x:a,y:o});if(s<=0)return{radius:s};var l=(r-a)/s,c=Math.acos(l);return i>o&&(c=2*Math.PI-c),{radius:s,angle:KQ(c),angleInRadian:c}},eee=function(e){var t=e.startAngle,r=e.endAngle,i=Math.floor(t/360),a=Math.floor(r/360),o=Math.min(i,a);return{startAngle:t-o*360,endAngle:r-o*360}},tee=function(e,t){var r=t.startAngle,i=t.endAngle,a=Math.floor(r/360),o=Math.floor(i/360),s=Math.min(a,o);return e+s*360},Fk=function(e,t){var r=e.x,i=e.y,a=QQ({x:r,y:i},t),o=a.radius,s=a.angle,l=t.innerRadius,c=t.outerRadius;if(o<l||o>c)return!1;if(o===0)return!0;var f=eee(t),d=f.startAngle,m=f.endAngle,v=s,x;if(d<=m){for(;v>m;)v-=360;for(;v<d;)v+=360;x=v>=d&&v<=m}else{for(;v>d;)v-=360;for(;v<m;)v+=360;x=v>=m&&v<=d}return x?Vl(Vl({},t),{},{radius:o,angle:tee(v,t)}):null},JV=function(e){return!fe.isValidElement(e)&&!zt(e)&&typeof e!="boolean"?e.className:""};function Vv(n){"@babel/helpers - typeof";return Vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vv(n)}var nee=["offset"];function ree(n){return see(n)||oee(n)||aee(n)||iee()}function iee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aee(n,e){if(n){if(typeof n=="string")return RP(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return RP(n,e)}}function oee(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function see(n){if(Array.isArray(n))return RP(n)}function RP(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function lee(n,e){if(n==null)return{};var t=uee(n,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function uee(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function Bk(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Kr(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Bk(Object(t),!0).forEach(function(r){cee(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Bk(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function cee(n,e,t){return e=fee(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function fee(n){var e=hee(n,"string");return Vv(e)=="symbol"?e:String(e)}function hee(n,e){if(Vv(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Vv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Hv(){return Hv=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Hv.apply(this,arguments)}var dee=function(e){var t=e.value,r=e.formatter,i=Ut(e.children)?t:e.children;return zt(r)?r(i):i},pee=function(e,t){var r=ua(t-e),i=Math.min(Math.abs(t-e),360);return r*i},mee=function(e,t,r){var i=e.position,a=e.viewBox,o=e.offset,s=e.className,l=a,c=l.cx,f=l.cy,d=l.innerRadius,m=l.outerRadius,v=l.startAngle,x=l.endAngle,S=l.clockWise,_=(d+m)/2,b=pee(v,x),M=b>=0?1:-1,T,E;i==="insideStart"?(T=v+M*o,E=S):i==="insideEnd"?(T=x-M*o,E=!S):i==="end"&&(T=x+M*o,E=S),E=b<=0?E:!E;var P=Kn(c,f,_,T),R=Kn(c,f,_,T+(E?1:-1)*359),I="M".concat(P.x,",").concat(P.y,`
    A`).concat(_,",").concat(_,",0,1,").concat(E?0:1,`,
    `).concat(R.x,",").concat(R.y),U=Ut(e.id)?Pc("recharts-radial-line-"):e.id;return re.createElement("text",Hv({},r,{dominantBaseline:"central",className:Qt("recharts-radial-bar-label",s)}),re.createElement("defs",null,re.createElement("path",{id:U,d:I})),re.createElement("textPath",{xlinkHref:"#".concat(U)},t))},gee=function(e){var t=e.viewBox,r=e.offset,i=e.position,a=t,o=a.cx,s=a.cy,l=a.innerRadius,c=a.outerRadius,f=a.startAngle,d=a.endAngle,m=(f+d)/2;if(i==="outside"){var v=Kn(o,s,c+r,m),x=v.x,S=v.y;return{x,y:S,textAnchor:x>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var _=(l+c)/2,b=Kn(o,s,_,m),M=b.x,T=b.y;return{x:M,y:T,textAnchor:"middle",verticalAnchor:"middle"}},vee=function(e){var t=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,o=t,s=o.x,l=o.y,c=o.width,f=o.height,d=f>=0?1:-1,m=d*i,v=d>0?"end":"start",x=d>0?"start":"end",S=c>=0?1:-1,_=S*i,b=S>0?"end":"start",M=S>0?"start":"end";if(a==="top"){var T={x:s+c/2,y:l-d*i,textAnchor:"middle",verticalAnchor:v};return Kr(Kr({},T),r?{height:Math.max(l-r.y,0),width:c}:{})}if(a==="bottom"){var E={x:s+c/2,y:l+f+m,textAnchor:"middle",verticalAnchor:x};return Kr(Kr({},E),r?{height:Math.max(r.y+r.height-(l+f),0),width:c}:{})}if(a==="left"){var P={x:s-_,y:l+f/2,textAnchor:b,verticalAnchor:"middle"};return Kr(Kr({},P),r?{width:Math.max(P.x-r.x,0),height:f}:{})}if(a==="right"){var R={x:s+c+_,y:l+f/2,textAnchor:M,verticalAnchor:"middle"};return Kr(Kr({},R),r?{width:Math.max(r.x+r.width-R.x,0),height:f}:{})}var I=r?{width:c,height:f}:{};return a==="insideLeft"?Kr({x:s+_,y:l+f/2,textAnchor:M,verticalAnchor:"middle"},I):a==="insideRight"?Kr({x:s+c-_,y:l+f/2,textAnchor:b,verticalAnchor:"middle"},I):a==="insideTop"?Kr({x:s+c/2,y:l+m,textAnchor:"middle",verticalAnchor:x},I):a==="insideBottom"?Kr({x:s+c/2,y:l+f-m,textAnchor:"middle",verticalAnchor:v},I):a==="insideTopLeft"?Kr({x:s+_,y:l+m,textAnchor:M,verticalAnchor:x},I):a==="insideTopRight"?Kr({x:s+c-_,y:l+m,textAnchor:b,verticalAnchor:x},I):a==="insideBottomLeft"?Kr({x:s+_,y:l+f-m,textAnchor:M,verticalAnchor:v},I):a==="insideBottomRight"?Kr({x:s+c-_,y:l+f-m,textAnchor:b,verticalAnchor:v},I):lm(a)&&(Ze(a.x)||Kf(a.x))&&(Ze(a.y)||Kf(a.y))?Kr({x:s+ca(a.x,c),y:l+ca(a.y,f),textAnchor:"end",verticalAnchor:"end"},I):Kr({x:s+c/2,y:l+f/2,textAnchor:"middle",verticalAnchor:"middle"},I)},yee=function(e){return"cx"in e&&Ze(e.cx)};function mi(n){var e=n.offset,t=e===void 0?5:e,r=lee(n,nee),i=Kr({offset:t},r),a=i.viewBox,o=i.position,s=i.value,l=i.children,c=i.content,f=i.className,d=f===void 0?"":f,m=i.textBreakAll;if(!a||Ut(s)&&Ut(l)&&!fe.isValidElement(c)&&!zt(c))return null;if(fe.isValidElement(c))return fe.cloneElement(c,i);var v;if(zt(c)){if(v=fe.createElement(c,i),fe.isValidElement(v))return v}else v=dee(i);var x=yee(a),S=Mt(i,!0);if(x&&(o==="insideStart"||o==="insideEnd"||o==="end"))return mee(i,v,S);var _=x?gee(i):vee(i);return re.createElement(vh,Hv({className:Qt("recharts-label",d)},S,_,{breakAll:m}),v)}mi.displayName="Label";var QV=function(e){var t=e.cx,r=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,s=e.r,l=e.radius,c=e.innerRadius,f=e.outerRadius,d=e.x,m=e.y,v=e.top,x=e.left,S=e.width,_=e.height,b=e.clockWise,M=e.labelViewBox;if(M)return M;if(Ze(S)&&Ze(_)){if(Ze(d)&&Ze(m))return{x:d,y:m,width:S,height:_};if(Ze(v)&&Ze(x))return{x:v,y:x,width:S,height:_}}return Ze(d)&&Ze(m)?{x:d,y:m,width:0,height:0}:Ze(t)&&Ze(r)?{cx:t,cy:r,startAngle:a||i||0,endAngle:o||i||0,innerRadius:c||0,outerRadius:f||l||s||0,clockWise:b}:e.viewBox?e.viewBox:{}},xee=function(e,t){return e?e===!0?re.createElement(mi,{key:"label-implicit",viewBox:t}):Qr(e)?re.createElement(mi,{key:"label-implicit",viewBox:t,value:e}):fe.isValidElement(e)?e.type===mi?fe.cloneElement(e,{key:"label-implicit",viewBox:t}):re.createElement(mi,{key:"label-implicit",content:e,viewBox:t}):zt(e)?re.createElement(mi,{key:"label-implicit",content:e,viewBox:t}):lm(e)?re.createElement(mi,Hv({viewBox:t},e,{key:"label-implicit"})):null:null},_ee=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=QV(e),o=da(i,mi).map(function(l,c){return fe.cloneElement(l,{viewBox:t||a,key:"label-".concat(c)})});if(!r)return o;var s=xee(e.label,t||a);return[s].concat(ree(o))};mi.parseViewBox=QV;mi.renderCallByParent=_ee;var rT,zk;function bee(){if(zk)return rT;zk=1;function n(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}return rT=n,rT}var See=bee();const wee=Tn(See);function Wv(n){"@babel/helpers - typeof";return Wv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wv(n)}var Mee=["valueAccessor"],Aee=["data","dataKey","clockWise","id","textBreakAll"];function Tee(n){return Oee(n)||Cee(n)||Pee(n)||Eee()}function Eee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pee(n,e){if(n){if(typeof n=="string")return IP(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return IP(n,e)}}function Cee(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Oee(n){if(Array.isArray(n))return IP(n)}function IP(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function nb(){return nb=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},nb.apply(this,arguments)}function jk(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Vk(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?jk(Object(t),!0).forEach(function(r){Ree(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):jk(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Ree(n,e,t){return e=Iee(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Iee(n){var e=Dee(n,"string");return Wv(e)=="symbol"?e:String(e)}function Dee(n,e){if(Wv(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Wv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Hk(n,e){if(n==null)return{};var t=Lee(n,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function Lee(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}var Nee=function(e){return Array.isArray(e.value)?wee(e.value):e.value};function bs(n){var e=n.valueAccessor,t=e===void 0?Nee:e,r=Hk(n,Mee),i=r.data,a=r.dataKey,o=r.clockWise,s=r.id,l=r.textBreakAll,c=Hk(r,Aee);return!i||!i.length?null:re.createElement(nn,{className:"recharts-label-list"},i.map(function(f,d){var m=Ut(a)?t(f,d):er(f&&f.payload,a),v=Ut(s)?{}:{id:"".concat(s,"-").concat(d)};return re.createElement(mi,nb({},Mt(f,!0),c,v,{parentViewBox:f.parentViewBox,value:m,textBreakAll:l,viewBox:mi.parseViewBox(Ut(o)?f:Vk(Vk({},f),{},{clockWise:o})),key:"label-".concat(d),index:d}))}))}bs.displayName="LabelList";function kee(n,e){return n?n===!0?re.createElement(bs,{key:"labelList-implicit",data:e}):re.isValidElement(n)||zt(n)?re.createElement(bs,{key:"labelList-implicit",data:e,content:n}):lm(n)?re.createElement(bs,nb({data:e},n,{key:"labelList-implicit"})):null:null}function Uee(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!n||!n.children&&t&&!n.label)return null;var r=n.children,i=da(r,bs).map(function(o,s){return fe.cloneElement(o,{data:e,key:"labelList-".concat(s)})});if(!t)return i;var a=kee(n.label,e);return[a].concat(Tee(i))}bs.renderCallByParent=Uee;function Gv(n){"@babel/helpers - typeof";return Gv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gv(n)}function DP(){return DP=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},DP.apply(this,arguments)}function Wk(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Gk(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Wk(Object(t),!0).forEach(function(r){Fee(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Wk(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Fee(n,e,t){return e=Bee(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Bee(n){var e=zee(n,"string");return Gv(e)=="symbol"?e:String(e)}function zee(n,e){if(Gv(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Gv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var jee=function(e,t){var r=ua(t-e),i=Math.min(Math.abs(t-e),359.999);return r*i},hx=function(e){var t=e.cx,r=e.cy,i=e.radius,a=e.angle,o=e.sign,s=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,f=l*(s?1:-1)+i,d=Math.asin(l/f)/tb,m=c?a:a+o*d,v=Kn(t,r,f,m),x=Kn(t,r,i,m),S=c?a-o*d:a,_=Kn(t,r,f*Math.cos(d*tb),S);return{center:v,circleTangency:x,lineTangency:_,theta:d}},eH=function(e){var t=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,s=e.endAngle,l=jee(o,s),c=o+l,f=Kn(t,r,a,o),d=Kn(t,r,a,c),m="M ".concat(f.x,",").concat(f.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var v=Kn(t,r,i,o),x=Kn(t,r,i,c);m+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=c),`,
            `).concat(v.x,",").concat(v.y," Z")}else m+="L ".concat(t,",").concat(r," Z");return m},Vee=function(e){var t=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,f=e.endAngle,d=ua(f-c),m=hx({cx:t,cy:r,radius:a,angle:c,sign:d,cornerRadius:o,cornerIsExternal:l}),v=m.circleTangency,x=m.lineTangency,S=m.theta,_=hx({cx:t,cy:r,radius:a,angle:f,sign:-d,cornerRadius:o,cornerIsExternal:l}),b=_.circleTangency,M=_.lineTangency,T=_.theta,E=l?Math.abs(c-f):Math.abs(c-f)-S-T;if(E<0)return s?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):eH({cx:t,cy:r,innerRadius:i,outerRadius:a,startAngle:c,endAngle:f});var P="M ".concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(E>180),",").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(M.x,",").concat(M.y,`
  `);if(i>0){var R=hx({cx:t,cy:r,radius:i,angle:c,sign:d,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),I=R.circleTangency,U=R.lineTangency,N=R.theta,k=hx({cx:t,cy:r,radius:i,angle:f,sign:-d,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),z=k.circleTangency,G=k.lineTangency,K=k.theta,H=l?Math.abs(c-f):Math.abs(c-f)-N-K;if(H<0&&o===0)return"".concat(P,"L").concat(t,",").concat(r,"Z");P+="L".concat(G.x,",").concat(G.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(z.x,",").concat(z.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(H>180),",").concat(+(d>0),",").concat(I.x,",").concat(I.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(U.x,",").concat(U.y,"Z")}else P+="L".concat(t,",").concat(r,"Z");return P},Hee={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},tH=function(e){var t=Gk(Gk({},Hee),e),r=t.cx,i=t.cy,a=t.innerRadius,o=t.outerRadius,s=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,f=t.startAngle,d=t.endAngle,m=t.className;if(o<a||f===d)return null;var v=Qt("recharts-sector",m),x=o-a,S=ca(s,x,0,!0),_;return S>0&&Math.abs(f-d)<360?_=Vee({cx:r,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(S,x/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:f,endAngle:d}):_=eH({cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:f,endAngle:d}),re.createElement("path",DP({},Mt(t,!0),{className:v,d:_,role:"img"}))};function $v(n){"@babel/helpers - typeof";return $v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$v(n)}function LP(){return LP=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},LP.apply(this,arguments)}function $k(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function qk(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?$k(Object(t),!0).forEach(function(r){Wee(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):$k(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Wee(n,e,t){return e=Gee(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Gee(n){var e=$ee(n,"string");return $v(e)=="symbol"?e:String(e)}function $ee(n,e){if($v(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if($v(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var Xk={curveBasisClosed:Sq,curveBasisOpen:wq,curveBasis:bq,curveBumpX:sq,curveBumpY:lq,curveLinearClosed:Mq,curveLinear:qb,curveMonotoneX:Aq,curveMonotoneY:Tq,curveNatural:Eq,curveStep:Pq,curveStepAfter:Oq,curveStepBefore:Cq},dx=function(e){return e.x===+e.x&&e.y===+e.y},Tg=function(e){return e.x},Eg=function(e){return e.y},qee=function(e,t){if(zt(e))return e;var r="curve".concat(Gb(e));return(r==="curveMonotone"||r==="curveBump")&&t?Xk["".concat(r).concat(t==="vertical"?"Y":"X")]:Xk[r]||qb},Xee=function(e){var t=e.type,r=t===void 0?"linear":t,i=e.points,a=i===void 0?[]:i,o=e.baseLine,s=e.layout,l=e.connectNulls,c=l===void 0?!1:l,f=qee(r,s),d=c?a.filter(function(S){return dx(S)}):a,m;if(Array.isArray(o)){var v=c?o.filter(function(S){return dx(S)}):o,x=d.map(function(S,_){return qk(qk({},S),{},{base:v[_]})});return s==="vertical"?m=ix().y(Eg).x1(Tg).x0(function(S){return S.base.x}):m=ix().x(Tg).y1(Eg).y0(function(S){return S.base.y}),m.defined(dx).curve(f),m(x)}return s==="vertical"&&Ze(o)?m=ix().y(Eg).x1(Tg).x0(o):Ze(o)?m=ix().x(Tg).y1(Eg).y0(o):m=t5().x(Tg).y(Eg),m.defined(dx).curve(f),m(d)},mc=function(e){var t=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var o=r&&r.length?Xee(e):i;return re.createElement("path",LP({},Mt(e,!1),R_(e),{className:Qt("recharts-curve",t),d:o,ref:a}))},iT={exports:{}},aT,Yk;function Yee(){if(Yk)return aT;Yk=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return aT=n,aT}var oT,Kk;function Kee(){if(Kk)return oT;Kk=1;var n=Yee();function e(){}function t(){}return t.resetWarningCache=e,oT=function(){function r(o,s,l,c,f,d){if(d!==n){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},oT}var Zk;function Zee(){return Zk||(Zk=1,iT.exports=Kee()()),iT.exports}var Jee=Zee();const ln=Tn(Jee);var Qee=Object.getOwnPropertyNames,ete=Object.getOwnPropertySymbols,tte=Object.prototype.hasOwnProperty;function Jk(n,e){return function(r,i,a){return n(r,i,a)&&e(r,i,a)}}function px(n){return function(t,r,i){if(!t||!r||typeof t!="object"||typeof r!="object")return n(t,r,i);var a=i.cache,o=a.get(t),s=a.get(r);if(o&&s)return o===r&&s===t;a.set(t,r),a.set(r,t);var l=n(t,r,i);return a.delete(t),a.delete(r),l}}function Qk(n){return Qee(n).concat(ete(n))}var nH=Object.hasOwn||(function(n,e){return tte.call(n,e)});function mm(n,e){return n||e?n===e:n===e||n!==n&&e!==e}var rH="_owner",eU=Object.getOwnPropertyDescriptor,tU=Object.keys;function nte(n,e,t){var r=n.length;if(e.length!==r)return!1;for(;r-- >0;)if(!t.equals(n[r],e[r],r,r,n,e,t))return!1;return!0}function rte(n,e){return mm(n.getTime(),e.getTime())}function nU(n,e,t){if(n.size!==e.size)return!1;for(var r={},i=n.entries(),a=0,o,s;(o=i.next())&&!o.done;){for(var l=e.entries(),c=!1,f=0;(s=l.next())&&!s.done;){var d=o.value,m=d[0],v=d[1],x=s.value,S=x[0],_=x[1];!c&&!r[f]&&(c=t.equals(m,S,a,f,n,e,t)&&t.equals(v,_,m,S,n,e,t))&&(r[f]=!0),f++}if(!c)return!1;a++}return!0}function ite(n,e,t){var r=tU(n),i=r.length;if(tU(e).length!==i)return!1;for(var a;i-- >0;)if(a=r[i],a===rH&&(n.$$typeof||e.$$typeof)&&n.$$typeof!==e.$$typeof||!nH(e,a)||!t.equals(n[a],e[a],a,a,n,e,t))return!1;return!0}function Pg(n,e,t){var r=Qk(n),i=r.length;if(Qk(e).length!==i)return!1;for(var a,o,s;i-- >0;)if(a=r[i],a===rH&&(n.$$typeof||e.$$typeof)&&n.$$typeof!==e.$$typeof||!nH(e,a)||!t.equals(n[a],e[a],a,a,n,e,t)||(o=eU(n,a),s=eU(e,a),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function ate(n,e){return mm(n.valueOf(),e.valueOf())}function ote(n,e){return n.source===e.source&&n.flags===e.flags}function rU(n,e,t){if(n.size!==e.size)return!1;for(var r={},i=n.values(),a,o;(a=i.next())&&!a.done;){for(var s=e.values(),l=!1,c=0;(o=s.next())&&!o.done;)!l&&!r[c]&&(l=t.equals(a.value,o.value,a.value,o.value,n,e,t))&&(r[c]=!0),c++;if(!l)return!1}return!0}function ste(n,e){var t=n.length;if(e.length!==t)return!1;for(;t-- >0;)if(n[t]!==e[t])return!1;return!0}var lte="[object Arguments]",ute="[object Boolean]",cte="[object Date]",fte="[object Map]",hte="[object Number]",dte="[object Object]",pte="[object RegExp]",mte="[object Set]",gte="[object String]",vte=Array.isArray,iU=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,aU=Object.assign,yte=Object.prototype.toString.call.bind(Object.prototype.toString);function xte(n){var e=n.areArraysEqual,t=n.areDatesEqual,r=n.areMapsEqual,i=n.areObjectsEqual,a=n.arePrimitiveWrappersEqual,o=n.areRegExpsEqual,s=n.areSetsEqual,l=n.areTypedArraysEqual;return function(f,d,m){if(f===d)return!0;if(f==null||d==null||typeof f!="object"||typeof d!="object")return f!==f&&d!==d;var v=f.constructor;if(v!==d.constructor)return!1;if(v===Object)return i(f,d,m);if(vte(f))return e(f,d,m);if(iU!=null&&iU(f))return l(f,d,m);if(v===Date)return t(f,d,m);if(v===RegExp)return o(f,d,m);if(v===Map)return r(f,d,m);if(v===Set)return s(f,d,m);var x=yte(f);return x===cte?t(f,d,m):x===pte?o(f,d,m):x===fte?r(f,d,m):x===mte?s(f,d,m):x===dte?typeof f.then!="function"&&typeof d.then!="function"&&i(f,d,m):x===lte?i(f,d,m):x===ute||x===hte||x===gte?a(f,d,m):!1}}function _te(n){var e=n.circular,t=n.createCustomConfig,r=n.strict,i={areArraysEqual:r?Pg:nte,areDatesEqual:rte,areMapsEqual:r?Jk(nU,Pg):nU,areObjectsEqual:r?Pg:ite,arePrimitiveWrappersEqual:ate,areRegExpsEqual:ote,areSetsEqual:r?Jk(rU,Pg):rU,areTypedArraysEqual:r?Pg:ste};if(t&&(i=aU({},i,t(i))),e){var a=px(i.areArraysEqual),o=px(i.areMapsEqual),s=px(i.areObjectsEqual),l=px(i.areSetsEqual);i=aU({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return i}function bte(n){return function(e,t,r,i,a,o,s){return n(e,t,s)}}function Ste(n){var e=n.circular,t=n.comparator,r=n.createState,i=n.equals,a=n.strict;if(r)return function(l,c){var f=r(),d=f.cache,m=d===void 0?e?new WeakMap:void 0:d,v=f.meta;return t(l,c,{cache:m,equals:i,meta:v,strict:a})};if(e)return function(l,c){return t(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(l,c){return t(l,c,o)}}var wte=Rc();Rc({strict:!0});Rc({circular:!0});Rc({circular:!0,strict:!0});Rc({createInternalComparator:function(){return mm}});Rc({strict:!0,createInternalComparator:function(){return mm}});Rc({circular:!0,createInternalComparator:function(){return mm}});Rc({circular:!0,createInternalComparator:function(){return mm},strict:!0});function Rc(n){n===void 0&&(n={});var e=n.circular,t=e===void 0?!1:e,r=n.createInternalComparator,i=n.createState,a=n.strict,o=a===void 0?!1:a,s=_te(n),l=xte(s),c=r?r(l):bte(l);return Ste({circular:t,comparator:l,createState:i,equals:c,strict:o})}function Mte(n){typeof requestAnimationFrame<"u"&&requestAnimationFrame(n)}function oU(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=-1,r=function i(a){t<0&&(t=a),a-t>e?(n(a),t=-1):Mte(i)};requestAnimationFrame(r)}function NP(n){"@babel/helpers - typeof";return NP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},NP(n)}function Ate(n){return Cte(n)||Pte(n)||Ete(n)||Tte()}function Tte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ete(n,e){if(n){if(typeof n=="string")return sU(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return sU(n,e)}}function sU(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Pte(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Cte(n){if(Array.isArray(n))return n}function Ote(){var n={},e=function(){return null},t=!1,r=function i(a){if(!t){if(Array.isArray(a)){if(!a.length)return;var o=a,s=Ate(o),l=s[0],c=s.slice(1);if(typeof l=="number"){oU(i.bind(null,c),l);return}i(l),oU(i.bind(null,c));return}NP(a)==="object"&&(n=a,e(n)),typeof a=="function"&&a()}};return{stop:function(){t=!0},start:function(a){t=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function qv(n){"@babel/helpers - typeof";return qv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qv(n)}function lU(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function uU(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?lU(Object(t),!0).forEach(function(r){iH(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):lU(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function iH(n,e,t){return e=Rte(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Rte(n){var e=Ite(n,"string");return qv(e)==="symbol"?e:String(e)}function Ite(n,e){if(qv(n)!=="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(qv(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var Dte=function(e,t){return[Object.keys(e),Object.keys(t)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},Lte=function(e){return e},Nte=function(e){return e.replace(/([A-Z])/g,function(t){return"-".concat(t.toLowerCase())})},sv=function(e,t){return Object.keys(t).reduce(function(r,i){return uU(uU({},r),{},iH({},i,e(i,t[i])))},{})},cU=function(e,t,r){return e.map(function(i){return"".concat(Nte(i)," ").concat(t,"ms ").concat(r)}).join(",")};function kte(n,e){return Bte(n)||Fte(n,e)||aH(n,e)||Ute()}function Ute(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fte(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(t=t.call(n)).next,e!==0)for(;!(l=(r=a.call(t)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){c=!0,i=f}finally{try{if(!l&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Bte(n){if(Array.isArray(n))return n}function zte(n){return Hte(n)||Vte(n)||aH(n)||jte()}function jte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aH(n,e){if(n){if(typeof n=="string")return kP(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return kP(n,e)}}function Vte(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Hte(n){if(Array.isArray(n))return kP(n)}function kP(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var rb=1e-4,oH=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},sH=function(e,t){return e.map(function(r,i){return r*Math.pow(t,i)}).reduce(function(r,i){return r+i})},fU=function(e,t){return function(r){var i=oH(e,t);return sH(i,r)}},Wte=function(e,t){return function(r){var i=oH(e,t),a=[].concat(zte(i.map(function(o,s){return o*s}).slice(1)),[0]);return sH(a,r)}},hU=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1],o=t[2],s=t[3];if(t.length===1)switch(t[0]){case"linear":i=0,a=0,o=1,s=1;break;case"ease":i=.25,a=.1,o=.25,s=1;break;case"ease-in":i=.42,a=0,o=1,s=1;break;case"ease-out":i=.42,a=0,o=.58,s=1;break;case"ease-in-out":i=0,a=0,o=.58,s=1;break;default:{var l=t[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(_){return parseFloat(_)}),f=kte(c,4);i=f[0],a=f[1],o=f[2],s=f[3]}}}var d=fU(i,o),m=fU(a,s),v=Wte(i,o),x=function(b){return b>1?1:b<0?0:b},S=function(b){for(var M=b>1?1:b,T=M,E=0;E<8;++E){var P=d(T)-M,R=v(T);if(Math.abs(P-M)<rb||R<rb)return m(T);T=x(T-P/R)}return m(T)};return S.isStepper=!1,S},Gte=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.stiff,r=t===void 0?100:t,i=e.damping,a=i===void 0?8:i,o=e.dt,s=o===void 0?17:o,l=function(f,d,m){var v=-(f-d)*r,x=m*a,S=m+(v-x)*s/1e3,_=m*s/1e3+f;return Math.abs(_-d)<rb&&Math.abs(S)<rb?[d,0]:[_,S]};return l.isStepper=!0,l.dt=s,l},$te=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return hU(i);case"spring":return Gte();default:if(i.split("(")[0]==="cubic-bezier")return hU(i)}return typeof i=="function"?i:null};function Xv(n){"@babel/helpers - typeof";return Xv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xv(n)}function dU(n){return Yte(n)||Xte(n)||lH(n)||qte()}function qte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xte(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Yte(n){if(Array.isArray(n))return FP(n)}function pU(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Ei(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?pU(Object(t),!0).forEach(function(r){UP(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):pU(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function UP(n,e,t){return e=Kte(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Kte(n){var e=Zte(n,"string");return Xv(e)==="symbol"?e:String(e)}function Zte(n,e){if(Xv(n)!=="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Xv(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Jte(n,e){return tne(n)||ene(n,e)||lH(n,e)||Qte()}function Qte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lH(n,e){if(n){if(typeof n=="string")return FP(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return FP(n,e)}}function FP(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function ene(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(t=t.call(n)).next,e!==0)for(;!(l=(r=a.call(t)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){c=!0,i=f}finally{try{if(!l&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function tne(n){if(Array.isArray(n))return n}var ib=function(e,t,r){return e+(t-e)*r},BP=function(e){var t=e.from,r=e.to;return t!==r},nne=function n(e,t,r){var i=sv(function(a,o){if(BP(o)){var s=e(o.from,o.to,o.velocity),l=Jte(s,2),c=l[0],f=l[1];return Ei(Ei({},o),{},{from:c,velocity:f})}return o},t);return r<1?sv(function(a,o){return BP(o)?Ei(Ei({},o),{},{velocity:ib(o.velocity,i[a].velocity,r),from:ib(o.from,i[a].from,r)}):o},t):n(e,i,r-1)};const rne=(function(n,e,t,r,i){var a=Dte(n,e),o=a.reduce(function(_,b){return Ei(Ei({},_),{},UP({},b,[n[b],e[b]]))},{}),s=a.reduce(function(_,b){return Ei(Ei({},_),{},UP({},b,{from:n[b],velocity:0,to:e[b]}))},{}),l=-1,c,f,d=function(){return null},m=function(){return sv(function(b,M){return M.from},s)},v=function(){return!Object.values(s).filter(BP).length},x=function(b){c||(c=b);var M=b-c,T=M/t.dt;s=nne(t,s,T),i(Ei(Ei(Ei({},n),e),m())),c=b,v()||(l=requestAnimationFrame(d))},S=function(b){f||(f=b);var M=(b-f)/r,T=sv(function(P,R){return ib.apply(void 0,dU(R).concat([t(M)]))},o);if(i(Ei(Ei(Ei({},n),e),T)),M<1)l=requestAnimationFrame(d);else{var E=sv(function(P,R){return ib.apply(void 0,dU(R).concat([t(1)]))},o);i(Ei(Ei(Ei({},n),e),E))}};return d=t.isStepper?x:S,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}});function zp(n){"@babel/helpers - typeof";return zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zp(n)}var ine=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function ane(n,e){if(n==null)return{};var t=one(n,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function one(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function sT(n){return cne(n)||une(n)||lne(n)||sne()}function sne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lne(n,e){if(n){if(typeof n=="string")return zP(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return zP(n,e)}}function une(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function cne(n){if(Array.isArray(n))return zP(n)}function zP(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function mU(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function is(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?mU(Object(t),!0).forEach(function(r){Jg(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):mU(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Jg(n,e,t){return e=uH(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function fne(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function hne(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,uH(r.key),r)}}function dne(n,e,t){return e&&hne(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function uH(n){var e=pne(n,"string");return zp(e)==="symbol"?e:String(e)}function pne(n,e){if(zp(n)!=="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(zp(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function mne(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&jP(n,e)}function jP(n,e){return jP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},jP(n,e)}function gne(n){var e=vne();return function(){var r=ab(n),i;if(e){var a=ab(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return VP(this,i)}}function VP(n,e){if(e&&(zp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HP(n)}function HP(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function vne(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ab(n){return ab=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ab(n)}var Oo=(function(n){mne(t,n);var e=gne(t);function t(r,i){var a;fne(this,t),a=e.call(this,r,i);var o=a.props,s=o.isActive,l=o.attributeName,c=o.from,f=o.to,d=o.steps,m=o.children,v=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(HP(a)),a.changeStyle=a.changeStyle.bind(HP(a)),!s||v<=0)return a.state={style:{}},typeof m=="function"&&(a.state={style:f}),VP(a);if(d&&d.length)a.state={style:d[0].style};else if(c){if(typeof m=="function")return a.state={style:c},VP(a);a.state={style:l?Jg({},l,c):c}}else a.state={style:{}};return a}return dne(t,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,s=a.canBegin,l=a.attributeName,c=a.shouldReAnimate,f=a.to,d=a.from,m=this.state.style;if(s){if(!o){var v={style:l?Jg({},l,f):f};this.state&&m&&(l&&m[l]!==f||!l&&m!==f)&&this.setState(v);return}if(!(wte(i.to,f)&&i.canBegin&&i.isActive)){var x=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var S=x||c?d:i.to;if(this.state&&m){var _={style:l?Jg({},l,S):S};(l&&m[l]!==S||!l&&m!==S)&&this.setState(_)}this.runAnimation(is(is({},this.props),{},{from:S,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,s=i.to,l=i.duration,c=i.easing,f=i.begin,d=i.onAnimationEnd,m=i.onAnimationStart,v=rne(o,s,$te(c),l,this.changeStyle),x=function(){a.stopJSAnimation=v()};this.manager.start([m,f,x,l,d])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,s=i.begin,l=i.onAnimationStart,c=o[0],f=c.style,d=c.duration,m=d===void 0?0:d,v=function(S,_,b){if(b===0)return S;var M=_.duration,T=_.easing,E=T===void 0?"ease":T,P=_.style,R=_.properties,I=_.onAnimationEnd,U=b>0?o[b-1]:_,N=R||Object.keys(P);if(typeof E=="function"||E==="spring")return[].concat(sT(S),[a.runJSAnimation.bind(a,{from:U.style,to:P,duration:M,easing:E}),M]);var k=cU(N,M,E),z=is(is(is({},U.style),P),{},{transition:k});return[].concat(sT(S),[z,M,I]).filter(Lte)};return this.manager.start([l].concat(sT(o.reduce(v,[f,Math.max(m,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Ote());var a=i.begin,o=i.duration,s=i.attributeName,l=i.to,c=i.easing,f=i.onAnimationStart,d=i.onAnimationEnd,m=i.steps,v=i.children,x=this.manager;if(this.unSubscribe=x.subscribe(this.handleStyleChange),typeof c=="function"||typeof v=="function"||c==="spring"){this.runJSAnimation(i);return}if(m.length>1){this.runStepAnimation(i);return}var S=s?Jg({},s,l):l,_=cU(Object.keys(S),o,c);x.start([f,a,is(is({},S),{},{transition:_}),o,d])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=ane(i,ine),c=fe.Children.count(a),f=this.state.style;if(typeof a=="function")return a(f);if(!s||c===0||o<=0)return a;var d=function(v){var x=v.props,S=x.style,_=S===void 0?{}:S,b=x.className,M=fe.cloneElement(v,is(is({},l),{},{style:is(is({},_),f),className:b}));return M};return c===1?d(fe.Children.only(a)):re.createElement("div",null,fe.Children.map(a,function(m){return d(m)}))}}]),t})(fe.PureComponent);Oo.displayName="Animate";Oo.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Oo.propTypes={from:ln.oneOfType([ln.object,ln.string]),to:ln.oneOfType([ln.object,ln.string]),attributeName:ln.string,duration:ln.number,begin:ln.number,easing:ln.oneOfType([ln.string,ln.func]),steps:ln.arrayOf(ln.shape({duration:ln.number.isRequired,style:ln.object.isRequired,easing:ln.oneOfType([ln.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ln.func]),properties:ln.arrayOf("string"),onAnimationEnd:ln.func})),children:ln.oneOfType([ln.node,ln.func]),isActive:ln.bool,canBegin:ln.bool,onAnimationEnd:ln.func,shouldReAnimate:ln.bool,onAnimationStart:ln.func,onAnimationReStart:ln.func};function WP(){return WP=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},WP.apply(null,arguments)}ln.object,ln.object,ln.object,ln.element;ln.object,ln.object,ln.object,ln.oneOfType([ln.array,ln.element]),ln.any;function Yv(n){"@babel/helpers - typeof";return Yv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yv(n)}function ob(){return ob=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},ob.apply(this,arguments)}function yne(n,e){return Sne(n)||bne(n,e)||_ne(n,e)||xne()}function xne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _ne(n,e){if(n){if(typeof n=="string")return gU(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return gU(n,e)}}function gU(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function bne(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(t=t.call(n)).next,e!==0)for(;!(l=(r=a.call(t)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){c=!0,i=f}finally{try{if(!l&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Sne(n){if(Array.isArray(n))return n}function vU(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function yU(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?vU(Object(t),!0).forEach(function(r){wne(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):vU(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function wne(n,e,t){return e=Mne(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Mne(n){var e=Ane(n,"string");return Yv(e)=="symbol"?e:String(e)}function Ane(n,e){if(Yv(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Yv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var xU=function(e,t,r,i,a){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,c=i>=0&&r>=0||i<0&&r<0?1:0,f;if(o>0&&a instanceof Array){for(var d=[0,0,0,0],m=0,v=4;m<v;m++)d[m]=a[m]>o?o:a[m];f="M".concat(e,",").concat(t+s*d[0]),d[0]>0&&(f+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(t)),f+="L ".concat(e+r-l*d[1],",").concat(t),d[1]>0&&(f+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(t+s*d[1])),f+="L ".concat(e+r,",").concat(t+i-s*d[2]),d[2]>0&&(f+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+r-l*d[2],",").concat(t+i)),f+="L ".concat(e+l*d[3],",").concat(t+i),d[3]>0&&(f+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+i-s*d[3])),f+="Z"}else if(o>0&&a===+a&&a>0){var x=Math.min(o,a);f="M ".concat(e,",").concat(t+s*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(c,",").concat(e+l*x,",").concat(t,`
            L `).concat(e+r-l*x,",").concat(t,`
            A `).concat(x,",").concat(x,",0,0,").concat(c,",").concat(e+r,",").concat(t+s*x,`
            L `).concat(e+r,",").concat(t+i-s*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(c,",").concat(e+r-l*x,",").concat(t+i,`
            L `).concat(e+l*x,",").concat(t+i,`
            A `).concat(x,",").concat(x,",0,0,").concat(c,",").concat(e,",").concat(t+i-s*x," Z")}else f="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return f},Tne=function(e,t){if(!e||!t)return!1;var r=e.x,i=e.y,a=t.x,o=t.y,s=t.width,l=t.height;if(Math.abs(s)>0&&Math.abs(l)>0){var c=Math.min(a,a+s),f=Math.max(a,a+s),d=Math.min(o,o+l),m=Math.max(o,o+l);return r>=c&&r<=f&&i>=d&&i<=m}return!1},Ene={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},SO=function(e){var t=yU(yU({},Ene),e),r=fe.useRef(),i=fe.useState(-1),a=yne(i,2),o=a[0],s=a[1];fe.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var E=r.current.getTotalLength();E&&s(E)}catch{}},[]);var l=t.x,c=t.y,f=t.width,d=t.height,m=t.radius,v=t.className,x=t.animationEasing,S=t.animationDuration,_=t.animationBegin,b=t.isAnimationActive,M=t.isUpdateAnimationActive;if(l!==+l||c!==+c||f!==+f||d!==+d||f===0||d===0)return null;var T=Qt("recharts-rectangle",v);return M?re.createElement(Oo,{canBegin:o>0,from:{width:f,height:d,x:l,y:c},to:{width:f,height:d,x:l,y:c},duration:S,animationEasing:x,isActive:M},function(E){var P=E.width,R=E.height,I=E.x,U=E.y;return re.createElement(Oo,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:_,duration:S,isActive:b,easing:x},re.createElement("path",ob({},Mt(t,!0),{className:T,d:xU(I,U,P,R,m),ref:r})))}):re.createElement("path",ob({},Mt(t,!0),{className:T,d:xU(l,c,f,d,m)}))},Pne=["points","className","baseLinePoints","connectNulls"];function fp(){return fp=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},fp.apply(this,arguments)}function Cne(n,e){if(n==null)return{};var t=One(n,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function One(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function _U(n){return Lne(n)||Dne(n)||Ine(n)||Rne()}function Rne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ine(n,e){if(n){if(typeof n=="string")return GP(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return GP(n,e)}}function Dne(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Lne(n){if(Array.isArray(n))return GP(n)}function GP(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var bU=function(e){return e&&e.x===+e.x&&e.y===+e.y},Nne=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=[[]];return e.forEach(function(r){bU(r)?t[t.length-1].push(r):t[t.length-1].length>0&&t.push([])}),bU(e[0])&&t[t.length-1].push(e[0]),t[t.length-1].length<=0&&(t=t.slice(0,-1)),t},lv=function(e,t){var r=Nne(e);t&&(r=[r.reduce(function(a,o){return[].concat(_U(a),_U(o))},[])]);var i=r.map(function(a){return a.reduce(function(o,s,l){return"".concat(o).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},kne=function(e,t,r){var i=lv(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(lv(t.reverse(),r).slice(1))},Une=function(e){var t=e.points,r=e.className,i=e.baseLinePoints,a=e.connectNulls,o=Cne(e,Pne);if(!t||!t.length)return null;var s=Qt("recharts-polygon",r);if(i&&i.length){var l=o.stroke&&o.stroke!=="none",c=kne(t,i,a);return re.createElement("g",{className:s},re.createElement("path",fp({},Mt(o,!0),{fill:c.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:c})),l?re.createElement("path",fp({},Mt(o,!0),{fill:"none",d:lv(t,a)})):null,l?re.createElement("path",fp({},Mt(o,!0),{fill:"none",d:lv(i,a)})):null)}var f=lv(t,a);return re.createElement("path",fp({},Mt(o,!0),{fill:f.slice(-1)==="Z"?o.fill:"none",className:s,d:f}))};function $P(){return $P=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},$P.apply(this,arguments)}var Gy=function(e){var t=e.cx,r=e.cy,i=e.r,a=e.className,o=Qt("recharts-dot",a);return t===+t&&r===+r&&i===+i?re.createElement("circle",$P({},Mt(e,!1),R_(e),{className:o,cx:t,cy:r,r:i})):null};function Kv(n){"@babel/helpers - typeof";return Kv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kv(n)}var Fne=["x","y","top","left","width","height","className"];function qP(){return qP=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},qP.apply(this,arguments)}function SU(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Bne(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?SU(Object(t),!0).forEach(function(r){zne(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):SU(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function zne(n,e,t){return e=jne(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function jne(n){var e=Vne(n,"string");return Kv(e)=="symbol"?e:String(e)}function Vne(n,e){if(Kv(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Kv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Hne(n,e){if(n==null)return{};var t=Wne(n,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function Wne(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}var Gne=function(e,t,r,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(t,"h").concat(r)},$ne=function(e){var t=e.x,r=t===void 0?0:t,i=e.y,a=i===void 0?0:i,o=e.top,s=o===void 0?0:o,l=e.left,c=l===void 0?0:l,f=e.width,d=f===void 0?0:f,m=e.height,v=m===void 0?0:m,x=e.className,S=Hne(e,Fne),_=Bne({x:r,y:a,top:s,left:c,width:d,height:v},S);return!Ze(r)||!Ze(a)||!Ze(d)||!Ze(v)||!Ze(s)||!Ze(c)?null:re.createElement("path",qP({},Mt(_,!0),{className:Qt("recharts-cross",x),d:Gne(r,a,d,v,s,c)}))},lT,wU;function qne(){if(wU)return lT;wU=1;var n=aS(),e=TV(),t=tl();function r(i,a){return i&&i.length?n(i,t(a,2),e):void 0}return lT=r,lT}var Xne=qne();const Yne=Tn(Xne);var uT,MU;function Kne(){if(MU)return uT;MU=1;var n=aS(),e=tl(),t=EV();function r(i,a){return i&&i.length?n(i,e(a,2),t):void 0}return uT=r,uT}var Zne=Kne();const Jne=Tn(Zne);var Qne=["cx","cy","angle","ticks","axisLine"],ere=["ticks","tick","angle","tickFormatter","stroke"];function jp(n){"@babel/helpers - typeof";return jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jp(n)}function uv(){return uv=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},uv.apply(this,arguments)}function AU(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Ef(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?AU(Object(t),!0).forEach(function(r){uS(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):AU(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function TU(n,e){if(n==null)return{};var t=tre(n,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function tre(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function nre(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function EU(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,fH(r.key),r)}}function rre(n,e,t){return e&&EU(n.prototype,e),t&&EU(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function ire(n,e,t){return e=sb(e),are(n,cH()?Reflect.construct(e,t||[],sb(n).constructor):e.apply(n,t))}function are(n,e){if(e&&(jp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ore(n)}function ore(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function cH(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cH=function(){return!!n})()}function sb(n){return sb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},sb(n)}function sre(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&XP(n,e)}function XP(n,e){return XP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},XP(n,e)}function uS(n,e,t){return e=fH(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function fH(n){var e=lre(n,"string");return jp(e)=="symbol"?e:String(e)}function lre(n,e){if(jp(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(jp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var cS=(function(n){sre(e,n);function e(){return nre(this,e),ire(this,e,arguments)}return rre(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,a=this.props,o=a.angle,s=a.cx,l=a.cy;return Kn(s,l,i,o)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.angle,s=r.ticks,l=Yne(s,function(f){return f.coordinate||0}),c=Jne(s,function(f){return f.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:c.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.angle,s=r.ticks,l=r.axisLine,c=TU(r,Qne),f=s.reduce(function(x,S){return[Math.min(x[0],S.coordinate),Math.max(x[1],S.coordinate)]},[1/0,-1/0]),d=Kn(i,a,f[0],o),m=Kn(i,a,f[1],o),v=Ef(Ef(Ef({},Mt(c,!1)),{},{fill:"none"},Mt(l,!1)),{},{x1:d.x,y1:d.y,x2:m.x,y2:m.y});return re.createElement("line",uv({className:"recharts-polar-radius-axis-line"},v))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,o=i.tick,s=i.angle,l=i.tickFormatter,c=i.stroke,f=TU(i,ere),d=this.getTickTextAnchor(),m=Mt(f,!1),v=Mt(o,!1),x=a.map(function(S,_){var b=r.getTickValueCoord(S),M=Ef(Ef(Ef(Ef({textAnchor:d,transform:"rotate(".concat(90-s,", ").concat(b.x,", ").concat(b.y,")")},m),{},{stroke:"none",fill:c},v),{},{index:_},b),{},{payload:S});return re.createElement(nn,uv({className:Qt("recharts-polar-radius-axis-tick",JV(o)),key:"tick-".concat(S.coordinate)},_c(r.props,S,_)),e.renderTickItem(o,M,l?l(S.value,_):S.value))});return re.createElement(nn,{className:"recharts-polar-radius-axis-ticks"},x)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.axisLine,o=r.tick;return!i||!i.length?null:re.createElement(nn,{className:Qt("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),mi.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,a){var o;return re.isValidElement(r)?o=re.cloneElement(r,i):zt(r)?o=r(i):o=re.createElement(vh,uv({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}]),e})(fe.PureComponent);uS(cS,"displayName","PolarRadiusAxis");uS(cS,"axisType","radiusAxis");uS(cS,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Vp(n){"@babel/helpers - typeof";return Vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vp(n)}function Xf(){return Xf=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Xf.apply(this,arguments)}function PU(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Pf(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?PU(Object(t),!0).forEach(function(r){fS(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):PU(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function ure(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function CU(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,dH(r.key),r)}}function cre(n,e,t){return e&&CU(n.prototype,e),t&&CU(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function fre(n,e,t){return e=lb(e),hre(n,hH()?Reflect.construct(e,t||[],lb(n).constructor):e.apply(n,t))}function hre(n,e){if(e&&(Vp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dre(n)}function dre(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function hH(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hH=function(){return!!n})()}function lb(n){return lb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},lb(n)}function pre(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&YP(n,e)}function YP(n,e){return YP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},YP(n,e)}function fS(n,e,t){return e=dH(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function dH(n){var e=mre(n,"string");return Vp(e)=="symbol"?e:String(e)}function mre(n,e){if(Vp(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Vp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var gre=Math.PI/180,OU=1e-5,hS=(function(n){pre(e,n);function e(){return ure(this,e),fre(this,e,arguments)}return cre(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.cx,o=i.cy,s=i.radius,l=i.orientation,c=i.tickSize,f=c||8,d=Kn(a,o,s,r.coordinate),m=Kn(a,o,s+(l==="inner"?-1:1)*f,r.coordinate);return{x1:d.x,y1:d.y,x2:m.x,y2:m.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,a=Math.cos(-r.coordinate*gre),o;return a>OU?o=i==="outer"?"start":"end":a<-OU?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.radius,s=r.axisLine,l=r.axisLineType,c=Pf(Pf({},Mt(this.props,!1)),{},{fill:"none"},Mt(s,!1));if(l==="circle")return re.createElement(Gy,Xf({className:"recharts-polar-angle-axis-line"},c,{cx:i,cy:a,r:o}));var f=this.props.ticks,d=f.map(function(m){return Kn(i,a,o,m.coordinate)});return re.createElement(Une,Xf({className:"recharts-polar-angle-axis-line"},c,{points:d}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,o=i.tick,s=i.tickLine,l=i.tickFormatter,c=i.stroke,f=Mt(this.props,!1),d=Mt(o,!1),m=Pf(Pf({},f),{},{fill:"none"},Mt(s,!1)),v=a.map(function(x,S){var _=r.getTickLineCoord(x),b=r.getTickTextAnchor(x),M=Pf(Pf(Pf({textAnchor:b},f),{},{stroke:"none",fill:c},d),{},{index:S,payload:x,x:_.x2,y:_.y2});return re.createElement(nn,Xf({className:Qt("recharts-polar-angle-axis-tick",JV(o)),key:"tick-".concat(x.coordinate)},_c(r.props,x,S)),s&&re.createElement("line",Xf({className:"recharts-polar-angle-axis-tick-line"},m,_)),o&&e.renderTickItem(o,M,l?l(x.value,S):x.value))});return re.createElement(nn,{className:"recharts-polar-angle-axis-ticks"},v)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.radius,o=r.axisLine;return a<=0||!i||!i.length?null:re.createElement(nn,{className:Qt("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,a){var o;return re.isValidElement(r)?o=re.cloneElement(r,i):zt(r)?o=r(i):o=re.createElement(vh,Xf({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}]),e})(fe.PureComponent);fS(hS,"displayName","PolarAngleAxis");fS(hS,"axisType","angleAxis");fS(hS,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var cT,RU;function vre(){if(RU)return cT;RU=1;var n=M5(),e=n(Object.getPrototypeOf,Object);return cT=e,cT}var fT,IU;function yre(){if(IU)return fT;IU=1;var n=lu(),e=vre(),t=uu(),r="[object Object]",i=Function.prototype,a=Object.prototype,o=i.toString,s=a.hasOwnProperty,l=o.call(Object);function c(f){if(!t(f)||n(f)!=r)return!1;var d=e(f);if(d===null)return!0;var m=s.call(d,"constructor")&&d.constructor;return typeof m=="function"&&m instanceof m&&o.call(m)==l}return fT=c,fT}var xre=yre();const _re=Tn(xre);var hT,DU;function bre(){if(DU)return hT;DU=1;var n=lu(),e=uu(),t="[object Boolean]";function r(i){return i===!0||i===!1||e(i)&&n(i)==t}return hT=r,hT}var Sre=bre();const wre=Tn(Sre);function Zv(n){"@babel/helpers - typeof";return Zv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zv(n)}function ub(){return ub=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},ub.apply(this,arguments)}function Mre(n,e){return Pre(n)||Ere(n,e)||Tre(n,e)||Are()}function Are(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tre(n,e){if(n){if(typeof n=="string")return LU(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return LU(n,e)}}function LU(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Ere(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(t=t.call(n)).next,e!==0)for(;!(l=(r=a.call(t)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){c=!0,i=f}finally{try{if(!l&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Pre(n){if(Array.isArray(n))return n}function NU(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function kU(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?NU(Object(t),!0).forEach(function(r){Cre(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):NU(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Cre(n,e,t){return e=Ore(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Ore(n){var e=Rre(n,"string");return Zv(e)=="symbol"?e:String(e)}function Rre(n,e){if(Zv(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Zv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var UU=function(e,t,r,i,a){var o=r-i,s;return s="M ".concat(e,",").concat(t),s+="L ".concat(e+r,",").concat(t),s+="L ".concat(e+r-o/2,",").concat(t+a),s+="L ".concat(e+r-o/2-i,",").concat(t+a),s+="L ".concat(e,",").concat(t," Z"),s},Ire={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Dre=function(e){var t=kU(kU({},Ire),e),r=fe.useRef(),i=fe.useState(-1),a=Mre(i,2),o=a[0],s=a[1];fe.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var T=r.current.getTotalLength();T&&s(T)}catch{}},[]);var l=t.x,c=t.y,f=t.upperWidth,d=t.lowerWidth,m=t.height,v=t.className,x=t.animationEasing,S=t.animationDuration,_=t.animationBegin,b=t.isUpdateAnimationActive;if(l!==+l||c!==+c||f!==+f||d!==+d||m!==+m||f===0&&d===0||m===0)return null;var M=Qt("recharts-trapezoid",v);return b?re.createElement(Oo,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:m,x:l,y:c},to:{upperWidth:f,lowerWidth:d,height:m,x:l,y:c},duration:S,animationEasing:x,isActive:b},function(T){var E=T.upperWidth,P=T.lowerWidth,R=T.height,I=T.x,U=T.y;return re.createElement(Oo,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:_,duration:S,easing:x},re.createElement("path",ub({},Mt(t,!0),{className:M,d:UU(I,U,E,P,R),ref:r})))}):re.createElement("g",null,re.createElement("path",ub({},Mt(t,!0),{className:M,d:UU(l,c,f,d,m)})))},Lre=["option","shapeType","propTransformer","activeClassName","isActive"];function Jv(n){"@babel/helpers - typeof";return Jv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jv(n)}function Nre(n,e){if(n==null)return{};var t=kre(n,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function kre(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function FU(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function cb(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?FU(Object(t),!0).forEach(function(r){Ure(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):FU(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Ure(n,e,t){return e=Fre(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Fre(n){var e=Bre(n,"string");return Jv(e)=="symbol"?e:String(e)}function Bre(n,e){if(Jv(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Jv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function zre(n,e){return cb(cb({},e),n)}function jre(n,e){return n==="symbols"}function BU(n){var e=n.shapeType,t=n.elementProps;switch(e){case"rectangle":return re.createElement(SO,t);case"trapezoid":return re.createElement(Dre,t);case"sector":return re.createElement(tH,t);case"symbols":if(jre(e))return re.createElement(Yb,t);break;default:return null}}function Vre(n){return fe.isValidElement(n)?n.props:n}function fb(n){var e=n.option,t=n.shapeType,r=n.propTransformer,i=r===void 0?zre:r,a=n.activeClassName,o=a===void 0?"recharts-active-shape":a,s=n.isActive,l=Nre(n,Lre),c;if(fe.isValidElement(e))c=fe.cloneElement(e,cb(cb({},l),Vre(e)));else if(zt(e))c=e(l);else if(_re(e)&&!wre(e)){var f=i(e,l);c=re.createElement(BU,{shapeType:t,elementProps:f})}else{var d=l;c=re.createElement(BU,{shapeType:t,elementProps:d})}return s?re.createElement(nn,{className:o},c):c}function dS(n,e){return e!=null&&"trapezoids"in n.props}function pS(n,e){return e!=null&&"sectors"in n.props}function Qv(n,e){return e!=null&&"points"in n.props}function Hre(n,e){var t,r,i=n.x===(e==null||(t=e.labelViewBox)===null||t===void 0?void 0:t.x)||n.x===e.x,a=n.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||n.y===e.y;return i&&a}function Wre(n,e){var t=n.endAngle===e.endAngle,r=n.startAngle===e.startAngle;return t&&r}function Gre(n,e){var t=n.x===e.x,r=n.y===e.y,i=n.z===e.z;return t&&r&&i}function $re(n,e){var t;return dS(n,e)?t=Hre:pS(n,e)?t=Wre:Qv(n,e)&&(t=Gre),t}function qre(n,e){var t;return dS(n,e)?t="trapezoids":pS(n,e)?t="sectors":Qv(n,e)&&(t="points"),t}function Xre(n,e){if(dS(n,e)){var t;return(t=e.tooltipPayload)===null||t===void 0||(t=t[0])===null||t===void 0||(t=t.payload)===null||t===void 0?void 0:t.payload}if(pS(n,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Qv(n,e)?e.payload:{}}function Yre(n){var e=n.activeTooltipItem,t=n.graphicalItem,r=n.itemData,i=qre(t,e),a=Xre(t,e),o=r.filter(function(l,c){var f=bc(a,l),d=t.props[i].filter(function(x){var S=$re(t,e);return S(x,e)}),m=t.props[i].indexOf(d[d.length-1]),v=c===m;return f&&v}),s=r.indexOf(o[o.length-1]);return s}var v_;function Hp(n){"@babel/helpers - typeof";return Hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hp(n)}function hp(){return hp=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},hp.apply(this,arguments)}function zU(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function or(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?zU(Object(t),!0).forEach(function(r){Mo(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):zU(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Kre(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function jU(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,mH(r.key),r)}}function Zre(n,e,t){return e&&jU(n.prototype,e),t&&jU(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function Jre(n,e,t){return e=hb(e),Qre(n,pH()?Reflect.construct(e,t||[],hb(n).constructor):e.apply(n,t))}function Qre(n,e){if(e&&(Hp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sp(n)}function pH(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pH=function(){return!!n})()}function hb(n){return hb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},hb(n)}function sp(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function eie(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&KP(n,e)}function KP(n,e){return KP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},KP(n,e)}function Mo(n,e,t){return e=mH(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function mH(n){var e=tie(n,"string");return Hp(e)=="symbol"?e:String(e)}function tie(n,e){if(Hp(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Hp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var hu=(function(n){eie(e,n);function e(t){var r;return Kre(this,e),r=Jre(this,e,[t]),Mo(sp(r),"pieRef",null),Mo(sp(r),"sectorRefs",[]),Mo(sp(r),"id",Pc("recharts-pie-")),Mo(sp(r),"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),zt(i)&&i()}),Mo(sp(r),"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),zt(i)&&i()}),r.state={isAnimationFinished:!t.isAnimationActive,prevIsAnimationActive:t.isAnimationActive,prevAnimationId:t.animationId,sectorToFocus:0},r}return Zre(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,s=a.labelLine,l=a.dataKey,c=a.valueKey,f=Mt(this.props,!1),d=Mt(o,!1),m=Mt(s,!1),v=o&&o.offsetRadius||20,x=r.map(function(S,_){var b=(S.startAngle+S.endAngle)/2,M=Kn(S.cx,S.cy,S.outerRadius+v,b),T=or(or(or(or({},f),S),{},{stroke:"none"},d),{},{index:_,textAnchor:e.getTextAnchor(M.x,S.cx)},M),E=or(or(or(or({},f),S),{},{fill:"none",stroke:S.fill},m),{},{index:_,points:[Kn(S.cx,S.cy,S.outerRadius,b),M],key:"line"}),P=l;return Ut(l)&&Ut(c)?P="value":Ut(l)&&(P=c),re.createElement(nn,{key:"label-".concat(S.startAngle,"-").concat(S.endAngle,"-").concat(S.midAngle,"-").concat(_)},s&&e.renderLabelLineItem(s,E),e.renderLabelItem(o,T,er(S,P)))});return re.createElement(nn,{className:"recharts-pie-labels"},x)}},{key:"renderSectorsStatically",value:function(r){var i=this,a=this.props,o=a.activeShape,s=a.blendStroke,l=a.inactiveShape;return r.map(function(c,f){if(c?.startAngle===0&&c?.endAngle===0&&r.length!==1)return null;var d=i.isActiveIndex(f),m=l&&i.hasActiveIndex()?l:null,v=d?o:m,x=or(or({},c),{},{stroke:s?c.fill:c.stroke,tabIndex:-1});return re.createElement(nn,hp({ref:function(_){_&&!i.sectorRefs.includes(_)&&i.sectorRefs.push(_)},tabIndex:-1,className:"recharts-pie-sector"},_c(i.props,c,f),{key:"sector-".concat(c?.startAngle,"-").concat(c?.endAngle,"-").concat(c.midAngle,"-").concat(f)}),re.createElement(fb,hp({option:v,isActive:d,shapeType:"sector"},x)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,a=i.sectors,o=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,c=i.animationEasing,f=i.animationId,d=this.state,m=d.prevSectors,v=d.prevIsAnimationActive;return re.createElement(Oo,{begin:s,duration:l,isActive:o,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(f,"-").concat(v),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(x){var S=x.t,_=[],b=a&&a[0],M=b.startAngle;return a.forEach(function(T,E){var P=m&&m[E],R=E>0?to(T,"paddingAngle",0):0;if(P){var I=dr(P.endAngle-P.startAngle,T.endAngle-T.startAngle),U=or(or({},T),{},{startAngle:M+R,endAngle:M+I(S)+R});_.push(U),M=U.endAngle}else{var N=T.endAngle,k=T.startAngle,z=dr(0,N-k),G=z(S),K=or(or({},T),{},{startAngle:M+R,endAngle:M+G+R});_.push(K),M=K.endAngle}}),re.createElement(nn,null,r.renderSectorsStatically(_))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var s=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,a=r.isAnimationActive,o=this.state.prevSectors;return a&&i&&i.length&&(!o||!bc(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,a=i.hide,o=i.sectors,s=i.className,l=i.label,c=i.cx,f=i.cy,d=i.innerRadius,m=i.outerRadius,v=i.isAnimationActive,x=this.state.isAnimationFinished;if(a||!o||!o.length||!Ze(c)||!Ze(f)||!Ze(d)||!Ze(m))return null;var S=Qt("recharts-pie",s);return re.createElement(nn,{tabIndex:this.props.rootTabIndex,className:S,ref:function(b){r.pieRef=b}},this.renderSectors(),l&&this.renderLabels(o),mi.renderCallByParent(this.props,null,!1),(!v||x)&&bs.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i){if(re.isValidElement(r))return re.cloneElement(r,i);if(zt(r))return r(i);var a=Qt("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return re.createElement(mc,hp({},i,{type:"linear",className:a}))}},{key:"renderLabelItem",value:function(r,i,a){if(re.isValidElement(r))return re.cloneElement(r,i);var o=a;if(zt(r)&&(o=r(i),re.isValidElement(o)))return o;var s=Qt("recharts-pie-label-text",typeof r!="boolean"&&!zt(r)?r.className:"");return re.createElement(vh,hp({},i,{alignmentBaseline:"middle",className:s}),o)}}]),e})(fe.PureComponent);v_=hu;Mo(hu,"displayName","Pie");Mo(hu,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!cu.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Mo(hu,"parseDeltaAngle",function(n,e){var t=ua(e-n),r=Math.min(Math.abs(e-n),360);return t*r});Mo(hu,"getRealPieData",function(n){var e=n.props,t=e.data,r=e.children,i=Mt(n.props,!1),a=da(r,zy);return t&&t.length?t.map(function(o,s){return or(or(or({payload:o},i),o),a&&a[s]&&a[s].props)}):a&&a.length?a.map(function(o){return or(or({},i),o.props)}):[]});Mo(hu,"parseCoordinateOfPie",function(n,e){var t=e.top,r=e.left,i=e.width,a=e.height,o=ZV(i,a),s=r+ca(n.props.cx,i,i/2),l=t+ca(n.props.cy,a,a/2),c=ca(n.props.innerRadius,o,0),f=ca(n.props.outerRadius,o,o*.8),d=n.props.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:s,cy:l,innerRadius:c,outerRadius:f,maxRadius:d}});Mo(hu,"getComposedData",function(n){var e=n.item,t=n.offset,r=v_.getRealPieData(e);if(!r||!r.length)return null;var i=e.props,a=i.cornerRadius,o=i.startAngle,s=i.endAngle,l=i.paddingAngle,c=i.dataKey,f=i.nameKey,d=i.valueKey,m=i.tooltipType,v=Math.abs(e.props.minAngle),x=v_.parseCoordinateOfPie(e,t),S=v_.parseDeltaAngle(o,s),_=Math.abs(S),b=c;Ut(c)&&Ut(d)?(_s(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):Ut(c)&&(_s(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=d);var M=r.filter(function(U){return er(U,b,0)!==0}).length,T=(_>=360?M:M-1)*l,E=_-M*v-T,P=r.reduce(function(U,N){var k=er(N,b,0);return U+(Ze(k)?k:0)},0),R;if(P>0){var I;R=r.map(function(U,N){var k=er(U,b,0),z=er(U,f,N),G=(Ze(k)?k:0)/P,K;N?K=I.endAngle+ua(S)*l*(k!==0?1:0):K=o;var H=K+ua(S)*((k!==0?v:0)+G*E),te=(K+H)/2,J=(x.innerRadius+x.outerRadius)/2,ie=[{name:z,value:k,payload:U,dataKey:b,type:m}],B=Kn(x.cx,x.cy,J,te);return I=or(or(or({percent:G,cornerRadius:a,name:z,tooltipPayload:ie,midAngle:te,middleRadius:J,tooltipPosition:B},U),x),{},{value:er(U,b),startAngle:K,endAngle:H,payload:U,paddingAngle:ua(S)*l}),I})}return or(or({},x),{},{sectors:R,data:r})});var dT,VU;function nie(){if(VU)return dT;VU=1;var n=Math.ceil,e=Math.max;function t(r,i,a,o){for(var s=-1,l=e(n((i-r)/(a||1)),0),c=Array(l);l--;)c[o?l:++s]=r,r+=a;return c}return dT=t,dT}var pT,HU;function gH(){if(HU)return pT;HU=1;var n=j5(),e=1/0,t=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=n(i),i===e||i===-e){var a=i<0?-1:1;return a*t}return i===i?i:0}return pT=r,pT}var mT,WU;function rie(){if(WU)return mT;WU=1;var n=nie(),e=Jb(),t=gH();function r(i){return function(a,o,s){return s&&typeof s!="number"&&e(a,o,s)&&(o=s=void 0),a=t(a),o===void 0?(o=a,a=0):o=t(o),s=s===void 0?a<o?1:-1:t(s),n(a,o,s,i)}}return mT=r,mT}var gT,GU;function iie(){if(GU)return gT;GU=1;var n=rie(),e=n();return gT=e,gT}var aie=iie();const db=Tn(aie);function ey(n){"@babel/helpers - typeof";return ey=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ey(n)}function $U(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function qU(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?$U(Object(t),!0).forEach(function(r){vH(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):$U(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function vH(n,e,t){return e=oie(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function oie(n){var e=sie(n,"string");return ey(e)=="symbol"?e:String(e)}function sie(n,e){if(ey(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(ey(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var lie=["Webkit","Moz","O","ms"],uie=function(e,t){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=lie.reduce(function(a,o){return qU(qU({},a),{},vH({},o+r,t))},{});return i[e]=t,i};function Wp(n){"@babel/helpers - typeof";return Wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wp(n)}function pb(){return pb=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},pb.apply(this,arguments)}function XU(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function vT(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?XU(Object(t),!0).forEach(function(r){Ka(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):XU(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function cie(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function YU(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,xH(r.key),r)}}function fie(n,e,t){return e&&YU(n.prototype,e),t&&YU(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function hie(n,e,t){return e=mb(e),die(n,yH()?Reflect.construct(e,t||[],mb(n).constructor):e.apply(n,t))}function die(n,e){if(e&&(Wp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vs(n)}function yH(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yH=function(){return!!n})()}function mb(n){return mb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},mb(n)}function Vs(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function pie(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&ZP(n,e)}function ZP(n,e){return ZP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ZP(n,e)}function Ka(n,e,t){return e=xH(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function xH(n){var e=mie(n,"string");return Wp(e)=="symbol"?e:String(e)}function mie(n,e){if(Wp(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Wp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var gie=function(e){var t=e.data,r=e.startIndex,i=e.endIndex,a=e.x,o=e.width,s=e.travellerWidth;if(!t||!t.length)return{};var l=t.length,c=av().domain(db(0,l)).range([a,a+o-s]),f=c.domain().map(function(d){return c(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(i),scale:c,scaleValues:f}},KU=function(e){return e.changedTouches&&!!e.changedTouches.length},Gp=(function(n){pie(e,n);function e(t){var r;return cie(this,e),r=hie(this,e,[t]),Ka(Vs(r),"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Ka(Vs(r),"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Ka(Vs(r),"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,o=i.onDragEnd,s=i.startIndex;o?.({endIndex:a,startIndex:s})}),r.detachDragEndListener()}),Ka(Vs(r),"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Ka(Vs(r),"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Ka(Vs(r),"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Ka(Vs(r),"handleSlideDragStart",function(i){var a=KU(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(Vs(r),"startX"),endX:r.handleTravellerDragStart.bind(Vs(r),"endX")},r.state={},r}return fie(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,o=this.state.scaleValues,s=this.props,l=s.gap,c=s.data,f=c.length-1,d=Math.min(i,a),m=Math.max(i,a),v=e.getIndexInRange(o,d),x=e.getIndexInRange(o,m);return{startIndex:v-v%l,endIndex:x===f?f:x-x%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,o=i.tickFormatter,s=i.dataKey,l=er(a[r],s,r);return zt(o)?o(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,o=i.startX,s=i.endX,l=this.props,c=l.x,f=l.width,d=l.travellerWidth,m=l.startIndex,v=l.endIndex,x=l.onChange,S=r.pageX-a;S>0?S=Math.min(S,c+f-d-s,c+f-d-o):S<0&&(S=Math.max(S,c-o,c-s));var _=this.getIndex({startX:o+S,endX:s+S});(_.startIndex!==m||_.endIndex!==v)&&x&&x(_),this.setState({startX:o+S,endX:s+S,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=KU(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,s=i.endX,l=i.startX,c=this.state[o],f=this.props,d=f.x,m=f.width,v=f.travellerWidth,x=f.onChange,S=f.gap,_=f.data,b={startX:this.state.startX,endX:this.state.endX},M=r.pageX-a;M>0?M=Math.min(M,d+m-v-c):M<0&&(M=Math.max(M,d-c)),b[o]=c+M;var T=this.getIndex(b),E=T.startIndex,P=T.endIndex,R=function(){var U=_.length-1;return o==="startX"&&(s>l?E%S===0:P%S===0)||s<l&&P===U||o==="endX"&&(s>l?P%S===0:E%S===0)||s>l&&P===U};this.setState(Ka(Ka({},o,c+M),"brushMoveStartX",r.pageX),function(){x&&R()&&x(T)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,o=this.state,s=o.scaleValues,l=o.startX,c=o.endX,f=this.state[i],d=s.indexOf(f);if(d!==-1){var m=d+r;if(!(m===-1||m>=s.length)){var v=s[m];i==="startX"&&v>=c||i==="endX"&&v<=l||this.setState(Ka({},i,v),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.fill,c=r.stroke;return re.createElement("rect",{stroke:c,fill:l,x:i,y:a,width:o,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.data,c=r.children,f=r.padding,d=fe.Children.only(c);return d?re.cloneElement(d,{x:i,y:a,width:o,height:s,margin:f,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,o,s=this,l=this.props,c=l.y,f=l.travellerWidth,d=l.height,m=l.traveller,v=l.ariaLabel,x=l.data,S=l.startIndex,_=l.endIndex,b=Math.max(r,this.props.x),M=vT(vT({},Mt(this.props,!1)),{},{x:b,y:c,width:f,height:d}),T=v||"Min value: ".concat((a=x[S])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=x[_])===null||o===void 0?void 0:o.name);return re.createElement(nn,{tabIndex:0,role:"slider","aria-label":T,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(P){["ArrowLeft","ArrowRight"].includes(P.key)&&(P.preventDefault(),P.stopPropagation(),s.handleTravellerMoveKeyboard(P.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(m,M))}},{key:"renderSlide",value:function(r,i){var a=this.props,o=a.y,s=a.height,l=a.stroke,c=a.travellerWidth,f=Math.min(r,i)+c,d=Math.max(Math.abs(i-r)-c,0);return re.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:f,y:o,width:d,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,o=r.y,s=r.height,l=r.travellerWidth,c=r.stroke,f=this.state,d=f.startX,m=f.endX,v=5,x={pointerEvents:"none",fill:c};return re.createElement(nn,{className:"recharts-brush-texts"},re.createElement(vh,pb({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,m)-v,y:o+s/2},x),this.getTextOfTick(i)),re.createElement(vh,pb({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,m)+l+v,y:o+s/2},x),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,o=r.children,s=r.x,l=r.y,c=r.width,f=r.height,d=r.alwaysShowText,m=this.state,v=m.startX,x=m.endX,S=m.isTextActive,_=m.isSlideMoving,b=m.isTravellerMoving,M=m.isTravellerFocused;if(!i||!i.length||!Ze(s)||!Ze(l)||!Ze(c)||!Ze(f)||c<=0||f<=0)return null;var T=Qt("recharts-brush",a),E=re.Children.count(o)===1,P=uie("userSelect","none");return re.createElement(nn,{className:T,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:P},this.renderBackground(),E&&this.renderPanorama(),this.renderSlide(v,x),this.renderTravellerLayer(v,"startX"),this.renderTravellerLayer(x,"endX"),(S||_||b||M||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,o=r.width,s=r.height,l=r.stroke,c=Math.floor(a+s/2)-1;return re.createElement(re.Fragment,null,re.createElement("rect",{x:i,y:a,width:o,height:s,fill:l,stroke:"none"}),re.createElement("line",{x1:i+1,y1:c,x2:i+o-1,y2:c,fill:"none",stroke:"#fff"}),re.createElement("line",{x1:i+1,y1:c+2,x2:i+o-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return re.isValidElement(r)?a=re.cloneElement(r,i):zt(r)?a=r(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,o=r.width,s=r.x,l=r.travellerWidth,c=r.updateId,f=r.startIndex,d=r.endIndex;if(a!==i.prevData||c!==i.prevUpdateId)return vT({prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:o},a&&a.length?gie({data:a,width:o,x:s,travellerWidth:l,startIndex:f,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+o-l]);var m=i.scale.domain().map(function(v){return i.scale(v)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:o,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:m}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,o=0,s=a-1;s-o>1;){var l=Math.floor((o+s)/2);r[l]>i?s=l:o=l}return i>=r[s]?s:o}}]),e})(fe.PureComponent);Ka(Gp,"displayName","Brush");Ka(Gp,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var yT,ZU;function vie(){if(ZU)return yT;ZU=1;var n=X2();function e(t,r){var i;return n(t,function(a,o,s){return i=r(a,o,s),!i}),!!i}return yT=e,yT}var xT,JU;function yie(){if(JU)return xT;JU=1;var n=v5(),e=tl(),t=vie(),r=La(),i=Jb();function a(o,s,l){var c=r(o)?n:t;return l&&i(o,s,l)&&(s=void 0),c(o,e(s,3))}return xT=a,xT}var xie=yie();const _ie=Tn(xie);var $s=function(e,t){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===t},_T,QU;function bie(){if(QU)return _T;QU=1;var n=k5();function e(t,r,i){r=="__proto__"&&n?n(t,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[r]=i}return _T=e,_T}var bT,eF;function Sie(){if(eF)return bT;eF=1;var n=bie(),e=L5(),t=tl();function r(i,a){var o={};return a=t(a,3),e(i,function(s,l,c){n(o,l,a(s,l,c))}),o}return bT=r,bT}var wie=Sie();const Mie=Tn(wie);var ST,tF;function Aie(){if(tF)return ST;tF=1;function n(e,t){for(var r=-1,i=e==null?0:e.length;++r<i;)if(!t(e[r],r,e))return!1;return!0}return ST=n,ST}var wT,nF;function Tie(){if(nF)return wT;nF=1;var n=X2();function e(t,r){var i=!0;return n(t,function(a,o,s){return i=!!r(a,o,s),i}),i}return wT=e,wT}var MT,rF;function Eie(){if(rF)return MT;rF=1;var n=Aie(),e=Tie(),t=tl(),r=La(),i=Jb();function a(o,s,l){var c=r(o)?n:e;return l&&i(o,s,l)&&(s=void 0),c(o,t(s,3))}return MT=a,MT}var Pie=Eie();const _H=Tn(Pie);var Cie=["x","y"];function ty(n){"@babel/helpers - typeof";return ty=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ty(n)}function JP(){return JP=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},JP.apply(this,arguments)}function iF(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Cg(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?iF(Object(t),!0).forEach(function(r){Oie(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):iF(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Oie(n,e,t){return e=Rie(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Rie(n){var e=Iie(n,"string");return ty(e)=="symbol"?e:String(e)}function Iie(n,e){if(ty(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(ty(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Die(n,e){if(n==null)return{};var t=Lie(n,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function Lie(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function Nie(n,e){var t=n.x,r=n.y,i=Die(n,Cie),a="".concat(t),o=parseInt(a,10),s="".concat(r),l=parseInt(s,10),c="".concat(e.height||i.height),f=parseInt(c,10),d="".concat(e.width||i.width),m=parseInt(d,10);return Cg(Cg(Cg(Cg(Cg({},e),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:f,width:m,name:e.name,radius:e.radius})}function aF(n){return re.createElement(fb,JP({shapeType:"rectangle",propTransformer:Nie,activeClassName:"recharts-active-bar"},n))}var kie=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var a=typeof r=="number";return a?e(r,i):(a||xh(),t)}},Uie=["value","background"],bH;function $p(n){"@babel/helpers - typeof";return $p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$p(n)}function Fie(n,e){if(n==null)return{};var t=Bie(n,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function Bie(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function gb(){return gb=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},gb.apply(this,arguments)}function oF(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function hi(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?oF(Object(t),!0).forEach(function(r){hc(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):oF(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function zie(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function sF(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,wH(r.key),r)}}function jie(n,e,t){return e&&sF(n.prototype,e),t&&sF(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function Vie(n,e,t){return e=vb(e),Hie(n,SH()?Reflect.construct(e,t||[],vb(n).constructor):e.apply(n,t))}function Hie(n,e){if(e&&($p(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qg(n)}function SH(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SH=function(){return!!n})()}function vb(n){return vb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},vb(n)}function Qg(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Wie(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&QP(n,e)}function QP(n,e){return QP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},QP(n,e)}function hc(n,e,t){return e=wH(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function wH(n){var e=Gie(n,"string");return $p(e)=="symbol"?e:String(e)}function Gie(n,e){if($p(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if($p(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var eo=(function(n){Wie(e,n);function e(){var t;zie(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=Vie(this,e,[].concat(i)),hc(Qg(t),"state",{isAnimationFinished:!1}),hc(Qg(t),"id",Pc("recharts-bar-")),hc(Qg(t),"handleAnimationEnd",function(){var o=t.props.onAnimationEnd;t.setState({isAnimationFinished:!0}),o&&o()}),hc(Qg(t),"handleAnimationStart",function(){var o=t.props.onAnimationStart;t.setState({isAnimationFinished:!1}),o&&o()}),t}return jie(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,o=a.shape,s=a.dataKey,l=a.activeIndex,c=a.activeBar,f=Mt(this.props,!1);return r&&r.map(function(d,m){var v=m===l,x=v?c:o,S=hi(hi(hi({},f),d),{},{isActive:v,option:x,index:m,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return re.createElement(nn,gb({className:"recharts-bar-rectangle"},_c(i.props,d,m),{key:"rectangle-".concat(d?.x,"-").concat(d?.y,"-").concat(d?.value)}),re.createElement(aF,S))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,o=i.layout,s=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,f=i.animationEasing,d=i.animationId,m=this.state.prevData;return re.createElement(Oo,{begin:l,duration:c,isActive:s,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var x=v.t,S=a.map(function(_,b){var M=m&&m[b];if(M){var T=dr(M.x,_.x),E=dr(M.y,_.y),P=dr(M.width,_.width),R=dr(M.height,_.height);return hi(hi({},_),{},{x:T(x),y:E(x),width:P(x),height:R(x)})}if(o==="horizontal"){var I=dr(0,_.height),U=I(x);return hi(hi({},_),{},{y:_.y+_.height-U,height:U})}var N=dr(0,_.width),k=N(x);return hi(hi({},_),{},{width:k})});return re.createElement(nn,null,r.renderRectanglesStatically(S))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!bc(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,o=i.dataKey,s=i.activeIndex,l=Mt(this.props.background,!1);return a.map(function(c,f){c.value;var d=c.background,m=Fie(c,Uie);if(!d)return null;var v=hi(hi(hi(hi(hi({},m),{},{fill:"#eee"},d),l),_c(r.props,c,f)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:f,key:"background-bar-".concat(f),className:"recharts-bar-background-rectangle"});return re.createElement(aF,gb({option:r.props.background,isActive:f===s},v))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,s=a.xAxis,l=a.yAxis,c=a.layout,f=a.children,d=da(f,pm);if(!d)return null;var m=c==="vertical"?o[0].height/2:o[0].width/2,v=function(_,b){var M=Array.isArray(_.value)?_.value[1]:_.value;return{x:_.x,y:_.y,value:M,errorVal:er(_,b)}},x={clipPath:r?"url(#clipPath-".concat(i,")"):null};return re.createElement(nn,x,d.map(function(S){return re.cloneElement(S,{key:"error-bar-".concat(i,"-").concat(S.props.dataKey),data:o,xAxis:s,yAxis:l,layout:c,offset:m,dataPointFormatter:v})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,o=r.className,s=r.xAxis,l=r.yAxis,c=r.left,f=r.top,d=r.width,m=r.height,v=r.isAnimationActive,x=r.background,S=r.id;if(i||!a||!a.length)return null;var _=this.state.isAnimationFinished,b=Qt("recharts-bar",o),M=s&&s.allowDataOverflow,T=l&&l.allowDataOverflow,E=M||T,P=Ut(S)?this.id:S;return re.createElement(nn,{className:b},M||T?re.createElement("defs",null,re.createElement("clipPath",{id:"clipPath-".concat(P)},re.createElement("rect",{x:M?c:c-d/2,y:T?f:f-m/2,width:M?d:d*2,height:T?m:m*2}))):null,re.createElement(nn,{className:"recharts-bar-rectangles",clipPath:E?"url(#clipPath-".concat(P,")"):null},x?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(E,P),(!v||_)&&bs.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}]),e})(fe.PureComponent);bH=eo;hc(eo,"displayName","Bar");hc(eo,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!cu.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});hc(eo,"getComposedData",function(n){var e=n.props,t=n.item,r=n.barPosition,i=n.bandSize,a=n.xAxis,o=n.yAxis,s=n.xAxisTicks,l=n.yAxisTicks,c=n.stackedData,f=n.dataStartIndex,d=n.displayedData,m=n.offset,v=DQ(r,t);if(!v)return null;var x=e.layout,S=t.props,_=S.dataKey,b=S.children,M=S.minPointSize,T=x==="horizontal"?o:a,E=c?T.scale.domain():null,P=zQ({numericAxis:T}),R=da(b,zy),I=d.map(function(U,N){var k,z,G,K,H,te;c?k=LQ(c[f+N],E):(k=er(U,_),Array.isArray(k)||(k=[P,k]));var J=kie(M,bH.defaultProps.minPointSize)(k[1],N);if(x==="horizontal"){var ie,B=[o.scale(k[0]),o.scale(k[1])],X=B[0],$=B[1];z=Ik({axis:a,ticks:s,bandSize:i,offset:v.offset,entry:U,index:N}),G=(ie=$??X)!==null&&ie!==void 0?ie:void 0,K=v.size;var V=X-$;if(H=Number.isNaN(V)?0:V,te={x:z,y:o.y,width:K,height:o.height},Math.abs(J)>0&&Math.abs(H)<Math.abs(J)){var ee=ua(H||J)*(Math.abs(J)-Math.abs(H));G-=ee,H+=ee}}else{var se=[a.scale(k[0]),a.scale(k[1])],me=se[0],Ce=se[1];if(z=me,G=Ik({axis:o,ticks:l,bandSize:i,offset:v.offset,entry:U,index:N}),K=Ce-me,H=v.size,te={x:a.x,y:G,width:a.width,height:H},Math.abs(J)>0&&Math.abs(K)<Math.abs(J)){var Ne=ua(K||J)*(Math.abs(J)-Math.abs(K));K+=Ne}}return hi(hi(hi({},U),{},{x:z,y:G,width:K,height:H,value:c?k:k[1],payload:U,background:te},R&&R[N]&&R[N].props),{},{tooltipPayload:[YV(t,U)],tooltipPosition:{x:z+K/2,y:G+H/2}})});return hi({data:I,layout:x},m)});function ny(n){"@babel/helpers - typeof";return ny=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ny(n)}function $ie(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function lF(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,MH(r.key),r)}}function qie(n,e,t){return e&&lF(n.prototype,e),t&&lF(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function uF(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function hs(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?uF(Object(t),!0).forEach(function(r){mS(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):uF(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function mS(n,e,t){return e=MH(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function MH(n){var e=Xie(n,"string");return ny(e)=="symbol"?e:String(e)}function Xie(n,e){if(ny(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(ny(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var wO=function(e,t,r,i,a){var o=e.width,s=e.height,l=e.layout,c=e.children,f=Object.keys(t),d={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},m=!!Za(c,eo);return f.reduce(function(v,x){var S=t[x],_=S.orientation,b=S.domain,M=S.padding,T=M===void 0?{}:M,E=S.mirror,P=S.reversed,R="".concat(_).concat(E?"Mirror":""),I,U,N,k,z;if(S.type==="number"&&(S.padding==="gap"||S.padding==="no-gap")){var G=b[1]-b[0],K=1/0,H=S.categoricalDomain.sort();if(H.forEach(function(me,Ce){Ce>0&&(K=Math.min((me||0)-(H[Ce-1]||0),K))}),Number.isFinite(K)){var te=K/G,J=S.layout==="vertical"?r.height:r.width;if(S.padding==="gap"&&(I=te*J/2),S.padding==="no-gap"){var ie=ca(e.barCategoryGap,te*J),B=te*J/2;I=B-ie-(B-ie)/J*ie}}}i==="xAxis"?U=[r.left+(T.left||0)+(I||0),r.left+r.width-(T.right||0)-(I||0)]:i==="yAxis"?U=l==="horizontal"?[r.top+r.height-(T.bottom||0),r.top+(T.top||0)]:[r.top+(T.top||0)+(I||0),r.top+r.height-(T.bottom||0)-(I||0)]:U=S.range,P&&(U=[U[1],U[0]]);var X=GV(S,a,m),$=X.scale,V=X.realScaleType;$.domain(b).range(U),$V($);var ee=qV($,hs(hs({},S),{},{realScaleType:V}));i==="xAxis"?(z=_==="top"&&!E||_==="bottom"&&E,N=r.left,k=d[R]-z*S.height):i==="yAxis"&&(z=_==="left"&&!E||_==="right"&&E,N=d[R]-z*S.width,k=r.top);var se=hs(hs(hs({},S),ee),{},{realScaleType:V,x:N,y:k,scale:$,width:i==="xAxis"?r.width:S.width,height:i==="yAxis"?r.height:S.height});return se.bandSize=eb(se,ee),!S.hide&&i==="xAxis"?d[R]+=(z?-1:1)*se.height:S.hide||(d[R]+=(z?-1:1)*se.width),hs(hs({},v),{},mS({},x,se))},{})},AH=function(e,t){var r=e.x,i=e.y,a=t.x,o=t.y;return{x:Math.min(r,a),y:Math.min(i,o),width:Math.abs(a-r),height:Math.abs(o-i)}},Yie=function(e){var t=e.x1,r=e.y1,i=e.x2,a=e.y2;return AH({x:t,y:r},{x:i,y:a})},TH=(function(){function n(e){$ie(this,n),this.scale=e}return qie(n,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(t!==void 0){if(a)switch(a){case"start":return this.scale(t);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(t)+s}default:return this.scale(t)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+l}return this.scale(t)}}},{key:"isInRange",value:function(t){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?t>=i&&t<=a:t>=a&&t<=i}}],[{key:"create",value:function(t){return new n(t)}}]),n})();mS(TH,"EPS",1e-4);var MO=function(e){var t=Object.keys(e).reduce(function(r,i){return hs(hs({},r),{},mS({},i,TH.create(e[i])))},{});return hs(hs({},t),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,s=a.position;return Mie(i,function(l,c){return t[c].apply(l,{bandAware:o,position:s})})},isInRange:function(i){return _H(i,function(a,o){return t[o].isInRange(a)})}})};function Kie(n){return(n%180+180)%180}var Zie=function(e){var t=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Kie(i),o=a*Math.PI/180,s=Math.atan(r/t),l=o>s&&o<Math.PI-s?r/Math.sin(o):t/Math.cos(o);return Math.abs(l)},AT,cF;function Jie(){if(cF)return AT;cF=1;var n=tl(),e=By(),t=Kb();function r(i){return function(a,o,s){var l=Object(a);if(!e(a)){var c=n(o,3);a=t(a),o=function(d){return c(l[d],d,l)}}var f=i(a,o,s);return f>-1?l[c?a[f]:f]:void 0}}return AT=r,AT}var TT,fF;function Qie(){if(fF)return TT;fF=1;var n=gH();function e(t){var r=n(t),i=r%1;return r===r?i?r-i:r:0}return TT=e,TT}var ET,hF;function eae(){if(hF)return ET;hF=1;var n=P5(),e=tl(),t=Qie(),r=Math.max;function i(a,o,s){var l=a==null?0:a.length;if(!l)return-1;var c=s==null?0:t(s);return c<0&&(c=r(l+c,0)),n(a,e(o,3),c)}return ET=i,ET}var PT,dF;function tae(){if(dF)return PT;dF=1;var n=Jie(),e=eae(),t=n(e);return PT=t,PT}var nae=tae();const rae=Tn(nae);var iae=Hj();const aae=Tn(iae);var oae=aae(function(n){return{x:n.left,y:n.top,width:n.width,height:n.height}},function(n){return["l",n.left,"t",n.top,"w",n.width,"h",n.height].join("")}),AO=fe.createContext(void 0),TO=fe.createContext(void 0),EH=fe.createContext(void 0),PH=fe.createContext({}),CH=fe.createContext(void 0),OH=fe.createContext(0),RH=fe.createContext(0),pF=function(e){var t=e.state,r=t.xAxisMap,i=t.yAxisMap,a=t.offset,o=e.clipPathId,s=e.children,l=e.width,c=e.height,f=oae(a);return re.createElement(AO.Provider,{value:r},re.createElement(TO.Provider,{value:i},re.createElement(PH.Provider,{value:a},re.createElement(EH.Provider,{value:f},re.createElement(CH.Provider,{value:o},re.createElement(OH.Provider,{value:c},re.createElement(RH.Provider,{value:l},s)))))))},sae=function(){return fe.useContext(CH)},IH=function(e){var t=fe.useContext(AO);t==null&&xh();var r=t[e];return r==null&&xh(),r},lae=function(){var e=fe.useContext(AO);return uc(e)},uae=function(){var e=fe.useContext(TO),t=rae(e,function(r){return _H(r.domain,Number.isFinite)});return t||uc(e)},DH=function(e){var t=fe.useContext(TO);t==null&&xh();var r=t[e];return r==null&&xh(),r},cae=function(){var e=fe.useContext(EH);return e},fae=function(){return fe.useContext(PH)},EO=function(){return fe.useContext(RH)},PO=function(){return fe.useContext(OH)};function ry(n){"@babel/helpers - typeof";return ry=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ry(n)}function mF(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function gF(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?mF(Object(t),!0).forEach(function(r){hae(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):mF(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function hae(n,e,t){return e=dae(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function dae(n){var e=pae(n,"string");return ry(e)=="symbol"?e:String(e)}function pae(n,e){if(ry(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(ry(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function mae(n,e){return xae(n)||yae(n,e)||vae(n,e)||gae()}function gae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vae(n,e){if(n){if(typeof n=="string")return vF(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return vF(n,e)}}function vF(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function yae(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(t=t.call(n)).next,e!==0)for(;!(l=(r=a.call(t)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){c=!0,i=f}finally{try{if(!l&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function xae(n){if(Array.isArray(n))return n}function eC(){return eC=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},eC.apply(this,arguments)}var _ae=function(e,t){var r;return re.isValidElement(e)?r=re.cloneElement(e,t):zt(e)?r=e(t):r=re.createElement("line",eC({},t,{className:"recharts-reference-line-line"})),r},bae=function(e,t,r,i,a,o,s,l,c){var f=a.x,d=a.y,m=a.width,v=a.height;if(r){var x=c.y,S=e.y.apply(x,{position:o});if($s(c,"discard")&&!e.y.isInRange(S))return null;var _=[{x:f+m,y:S},{x:f,y:S}];return l==="left"?_.reverse():_}if(t){var b=c.x,M=e.x.apply(b,{position:o});if($s(c,"discard")&&!e.x.isInRange(M))return null;var T=[{x:M,y:d+v},{x:M,y:d}];return s==="top"?T.reverse():T}if(i){var E=c.segment,P=E.map(function(R){return e.apply(R,{position:o})});return $s(c,"discard")&&_ie(P,function(R){return!e.isInRange(R)})?null:P}return null};function CO(n){var e=n.x,t=n.y,r=n.segment,i=n.xAxisId,a=n.yAxisId,o=n.shape,s=n.className,l=n.alwaysShow,c=sae(),f=IH(i),d=DH(a),m=cae();if(!c||!m)return null;_s(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var v=MO({x:f.scale,y:d.scale}),x=Qr(e),S=Qr(t),_=r&&r.length===2,b=bae(v,x,S,_,m,n.position,f.orientation,d.orientation,n);if(!b)return null;var M=mae(b,2),T=M[0],E=T.x,P=T.y,R=M[1],I=R.x,U=R.y,N=$s(n,"hidden")?"url(#".concat(c,")"):void 0,k=gF(gF({clipPath:N},Mt(n,!0)),{},{x1:E,y1:P,x2:I,y2:U});return re.createElement(nn,{className:Qt("recharts-reference-line",s)},_ae(o,k),mi.renderCallByParent(n,Yie({x1:E,y1:P,x2:I,y2:U})))}CO.displayName="ReferenceLine";CO.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"};function iy(n){"@babel/helpers - typeof";return iy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iy(n)}function tC(){return tC=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},tC.apply(this,arguments)}function yF(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function xF(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?yF(Object(t),!0).forEach(function(r){Sae(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):yF(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Sae(n,e,t){return e=wae(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function wae(n){var e=Mae(n,"string");return iy(e)=="symbol"?e:String(e)}function Mae(n,e){if(iy(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(iy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var Aae=function(e){var t=e.x,r=e.y,i=e.xAxis,a=e.yAxis,o=MO({x:i.scale,y:a.scale}),s=o.apply({x:t,y:r},{bandAware:!0});return $s(e,"discard")&&!o.isInRange(s)?null:s};function $y(n){var e=n.x,t=n.y,r=n.r,i=n.alwaysShow,a=n.clipPathId,o=Qr(e),s=Qr(t);if(_s(i===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!o||!s)return null;var l=Aae(n);if(!l)return null;var c=l.x,f=l.y,d=n.shape,m=n.className,v=$s(n,"hidden")?"url(#".concat(a,")"):void 0,x=xF(xF({clipPath:v},Mt(n,!0)),{},{cx:c,cy:f});return re.createElement(nn,{className:Qt("recharts-reference-dot",m)},$y.renderDot(d,x),mi.renderCallByParent(n,{x:c-r,y:f-r,width:2*r,height:2*r}))}$y.displayName="ReferenceDot";$y.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1};$y.renderDot=function(n,e){var t;return re.isValidElement(n)?t=re.cloneElement(n,e):zt(n)?t=n(e):t=re.createElement(Gy,tC({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),t};function ay(n){"@babel/helpers - typeof";return ay=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ay(n)}function nC(){return nC=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},nC.apply(this,arguments)}function _F(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function bF(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?_F(Object(t),!0).forEach(function(r){Tae(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):_F(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Tae(n,e,t){return e=Eae(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Eae(n){var e=Pae(n,"string");return ay(e)=="symbol"?e:String(e)}function Pae(n,e){if(ay(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(ay(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var Cae=function(e,t,r,i,a){var o=a.x1,s=a.x2,l=a.y1,c=a.y2,f=a.xAxis,d=a.yAxis;if(!f||!d)return null;var m=MO({x:f.scale,y:d.scale}),v={x:e?m.x.apply(o,{position:"start"}):m.x.rangeMin,y:r?m.y.apply(l,{position:"start"}):m.y.rangeMin},x={x:t?m.x.apply(s,{position:"end"}):m.x.rangeMax,y:i?m.y.apply(c,{position:"end"}):m.y.rangeMax};return $s(a,"discard")&&(!m.isInRange(v)||!m.isInRange(x))?null:AH(v,x)};function qy(n){var e=n.x1,t=n.x2,r=n.y1,i=n.y2,a=n.className,o=n.alwaysShow,s=n.clipPathId;_s(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var l=Qr(e),c=Qr(t),f=Qr(r),d=Qr(i),m=n.shape;if(!l&&!c&&!f&&!d&&!m)return null;var v=Cae(l,c,f,d,n);if(!v&&!m)return null;var x=$s(n,"hidden")?"url(#".concat(s,")"):void 0;return re.createElement(nn,{className:Qt("recharts-reference-area",a)},qy.renderRect(m,bF(bF({clipPath:x},Mt(n,!0)),v)),mi.renderCallByParent(n,v))}qy.displayName="ReferenceArea";qy.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1};qy.renderRect=function(n,e){var t;return re.isValidElement(n)?t=re.cloneElement(n,e):zt(n)?t=n(e):t=re.createElement(SO,nC({},e,{className:"recharts-reference-area-rect"})),t};function LH(n,e,t){if(e<1)return[];if(e===1&&t===void 0)return n;for(var r=[],i=0;i<n.length;i+=e)r.push(n[i]);return r}function Oae(n,e,t){var r={width:n.width+e.width,height:n.height+e.height};return Zie(r,t)}function Rae(n,e,t){var r=t==="width",i=n.x,a=n.y,o=n.width,s=n.height;return e===1?{start:r?i:a,end:r?i+o:a+s}:{start:r?i+o:a+s,end:r?i:a}}function yb(n,e,t,r,i){if(n*e<n*r||n*e>n*i)return!1;var a=t();return n*(e-n*a/2-r)>=0&&n*(e+n*a/2-i)<=0}function Iae(n,e){return LH(n,e+1)}function Dae(n,e,t,r,i){for(var a=(r||[]).slice(),o=e.start,s=e.end,l=0,c=1,f=o,d=function(){var x=r?.[l];if(x===void 0)return{v:LH(r,c)};var S=l,_,b=function(){return _===void 0&&(_=t(x,S)),_},M=x.coordinate,T=l===0||yb(n,M,b,f,s);T||(l=0,f=o,c+=1),T&&(f=M+n*(b()/2+i),l+=c)},m;c<=a.length;)if(m=d(),m)return m.v;return[]}function oy(n){"@babel/helpers - typeof";return oy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oy(n)}function SF(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function ji(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?SF(Object(t),!0).forEach(function(r){Lae(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):SF(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Lae(n,e,t){return e=Nae(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Nae(n){var e=kae(n,"string");return oy(e)=="symbol"?e:String(e)}function kae(n,e){if(oy(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(oy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Uae(n,e,t,r,i){for(var a=(r||[]).slice(),o=a.length,s=e.start,l=e.end,c=function(m){var v=a[m],x,S=function(){return x===void 0&&(x=t(v,m)),x};if(m===o-1){var _=n*(v.coordinate+n*S()/2-l);a[m]=v=ji(ji({},v),{},{tickCoord:_>0?v.coordinate-_*n:v.coordinate})}else a[m]=v=ji(ji({},v),{},{tickCoord:v.coordinate});var b=yb(n,v.tickCoord,S,s,l);b&&(l=v.tickCoord-n*(S()/2+i),a[m]=ji(ji({},v),{},{isShow:!0}))},f=o-1;f>=0;f--)c(f);return a}function Fae(n,e,t,r,i,a){var o=(r||[]).slice(),s=o.length,l=e.start,c=e.end;if(a){var f=r[s-1],d=t(f,s-1),m=n*(f.coordinate+n*d/2-c);o[s-1]=f=ji(ji({},f),{},{tickCoord:m>0?f.coordinate-m*n:f.coordinate});var v=yb(n,f.tickCoord,function(){return d},l,c);v&&(c=f.tickCoord-n*(d/2+i),o[s-1]=ji(ji({},f),{},{isShow:!0}))}for(var x=a?s-1:s,S=function(M){var T=o[M],E,P=function(){return E===void 0&&(E=t(T,M)),E};if(M===0){var R=n*(T.coordinate-n*P()/2-l);o[M]=T=ji(ji({},T),{},{tickCoord:R<0?T.coordinate-R*n:T.coordinate})}else o[M]=T=ji(ji({},T),{},{tickCoord:T.coordinate});var I=yb(n,T.tickCoord,P,l,c);I&&(l=T.tickCoord+n*(P()/2+i),o[M]=ji(ji({},T),{},{isShow:!0}))},_=0;_<x;_++)S(_);return o}function OO(n,e,t){var r=n.tick,i=n.ticks,a=n.viewBox,o=n.minTickGap,s=n.orientation,l=n.interval,c=n.tickFormatter,f=n.unit,d=n.angle;if(!i||!i.length||!r)return[];if(Ze(l)||cu.isSsr)return Iae(i,typeof l=="number"&&Ze(l)?l:0);var m=[],v=s==="top"||s==="bottom"?"width":"height",x=f&&v==="width"?iv(f,{fontSize:e,letterSpacing:t}):{width:0,height:0},S=function(T,E){var P=zt(c)?c(T.value,E):T.value;return v==="width"?Oae(iv(P,{fontSize:e,letterSpacing:t}),x,d):iv(P,{fontSize:e,letterSpacing:t})[v]},_=i.length>=2?ua(i[1].coordinate-i[0].coordinate):1,b=Rae(a,_,v);return l==="equidistantPreserveStart"?Dae(_,b,S,i,o):(l==="preserveStart"||l==="preserveStartEnd"?m=Fae(_,b,S,i,o,l==="preserveStartEnd"):m=Uae(_,b,S,i,o),m.filter(function(M){return M.isShow}))}var Bae=["viewBox"],zae=["viewBox"],jae=["ticks"];function qp(n){"@babel/helpers - typeof";return qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qp(n)}function dp(){return dp=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},dp.apply(this,arguments)}function wF(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function aa(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?wF(Object(t),!0).forEach(function(r){RO(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):wF(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function CT(n,e){if(n==null)return{};var t=Vae(n,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function Vae(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function Hae(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function MF(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,kH(r.key),r)}}function Wae(n,e,t){return e&&MF(n.prototype,e),t&&MF(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function Gae(n,e,t){return e=xb(e),$ae(n,NH()?Reflect.construct(e,t||[],xb(n).constructor):e.apply(n,t))}function $ae(n,e){if(e&&(qp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qae(n)}function qae(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function NH(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NH=function(){return!!n})()}function xb(n){return xb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},xb(n)}function Xae(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&rC(n,e)}function rC(n,e){return rC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},rC(n,e)}function RO(n,e,t){return e=kH(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function kH(n){var e=Yae(n,"string");return qp(e)=="symbol"?e:String(e)}function Yae(n,e){if(qp(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(qp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var gm=(function(n){Xae(e,n);function e(t){var r;return Hae(this,e),r=Gae(this,e,[t]),r.state={fontSize:"",letterSpacing:""},r}return Wae(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,o=CT(r,Bae),s=this.props,l=s.viewBox,c=CT(s,zae);return!Ap(a,l)||!Ap(o,c)||!Ap(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,o=i.y,s=i.width,l=i.height,c=i.orientation,f=i.tickSize,d=i.mirror,m=i.tickMargin,v,x,S,_,b,M,T=d?-1:1,E=r.tickSize||f,P=Ze(r.tickCoord)?r.tickCoord:r.coordinate;switch(c){case"top":v=x=r.coordinate,_=o+ +!d*l,S=_-T*E,M=S-T*m,b=P;break;case"left":S=_=r.coordinate,x=a+ +!d*s,v=x-T*E,b=v-T*m,M=P;break;case"right":S=_=r.coordinate,x=a+ +d*s,v=x+T*E,b=v+T*m,M=P;break;default:v=x=r.coordinate,_=o+ +d*l,S=_+T*E,M=S+T*m,b=P;break}return{line:{x1:v,y1:S,x2:x,y2:_},tick:{x:b,y:M}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.orientation,c=r.mirror,f=r.axisLine,d=aa(aa(aa({},Mt(this.props,!1)),Mt(f,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var m=+(l==="top"&&!c||l==="bottom"&&c);d=aa(aa({},d),{},{x1:i,y1:a+m*s,x2:i+o,y2:a+m*s})}else{var v=+(l==="left"&&!c||l==="right"&&c);d=aa(aa({},d),{},{x1:i+v*o,y1:a,x2:i+v*o,y2:a+s})}return re.createElement("line",dp({},d,{className:Qt("recharts-cartesian-axis-line",to(f,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var o=this,s=this.props,l=s.tickLine,c=s.stroke,f=s.tick,d=s.tickFormatter,m=s.unit,v=OO(aa(aa({},this.props),{},{ticks:r}),i,a),x=this.getTickTextAnchor(),S=this.getTickVerticalAnchor(),_=Mt(this.props,!1),b=Mt(f,!1),M=aa(aa({},_),{},{fill:"none"},Mt(l,!1)),T=v.map(function(E,P){var R=o.getTickLineCoord(E),I=R.line,U=R.tick,N=aa(aa(aa(aa({textAnchor:x,verticalAnchor:S},_),{},{stroke:"none",fill:c},b),U),{},{index:P,payload:E,visibleTicksCount:v.length,tickFormatter:d});return re.createElement(nn,dp({className:"recharts-cartesian-axis-tick",key:"tick-".concat(E.value,"-").concat(E.coordinate,"-").concat(E.tickCoord)},_c(o.props,E,P)),l&&re.createElement("line",dp({},M,I,{className:Qt("recharts-cartesian-axis-tick-line",to(l,"className"))})),f&&e.renderTickItem(f,N,"".concat(zt(d)?d(E.value,P):E.value).concat(m||"")))});return re.createElement("g",{className:"recharts-cartesian-axis-ticks"},T)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,o=i.width,s=i.height,l=i.ticksGenerator,c=i.className,f=i.hide;if(f)return null;var d=this.props,m=d.ticks,v=CT(d,jae),x=m;return zt(l)&&(x=m&&m.length>0?l(this.props):l(v)),o<=0||s<=0||!x||!x.length?null:re.createElement(nn,{className:Qt("recharts-cartesian-axis",c),ref:function(_){r.layerReference=_}},a&&this.renderAxisLine(),this.renderTicks(x,this.state.fontSize,this.state.letterSpacing),mi.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var o;return re.isValidElement(r)?o=re.cloneElement(r,i):zt(r)?o=r(i):o=re.createElement(vh,dp({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}]),e})(fe.Component);RO(gm,"displayName","CartesianAxis");RO(gm,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Kae=["x1","y1","x2","y2","key"],Zae=["offset"];function _h(n){"@babel/helpers - typeof";return _h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_h(n)}function AF(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Vi(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?AF(Object(t),!0).forEach(function(r){Jae(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):AF(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Jae(n,e,t){return e=Qae(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Qae(n){var e=eoe(n,"string");return _h(e)=="symbol"?e:String(e)}function eoe(n,e){if(_h(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(_h(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Qf(){return Qf=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Qf.apply(this,arguments)}function TF(n,e){if(n==null)return{};var t=toe(n,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function toe(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}var noe=function(e){var t=e.fill;if(!t||t==="none")return null;var r=e.fillOpacity,i=e.x,a=e.y,o=e.width,s=e.height;return re.createElement("rect",{x:i,y:a,width:o,height:s,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function UH(n,e){var t;if(re.isValidElement(n))t=re.cloneElement(n,e);else if(zt(n))t=n(e);else{var r=e.x1,i=e.y1,a=e.x2,o=e.y2,s=e.key,l=TF(e,Kae),c=Mt(l,!1);c.offset;var f=TF(c,Zae);t=re.createElement("line",Qf({},f,{x1:r,y1:i,x2:a,y2:o,fill:"none",key:s}))}return t}function roe(n){var e=n.x,t=n.width,r=n.horizontal,i=r===void 0?!0:r,a=n.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var c=Vi(Vi({},n),{},{x1:e,y1:s,x2:e+t,y2:s,key:"line-".concat(l),index:l});return UH(i,c)});return re.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function ioe(n){var e=n.y,t=n.height,r=n.vertical,i=r===void 0?!0:r,a=n.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var c=Vi(Vi({},n),{},{x1:s,y1:e,x2:s,y2:e+t,key:"line-".concat(l),index:l});return UH(i,c)});return re.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function aoe(n){var e=n.horizontalFill,t=n.fillOpacity,r=n.x,i=n.y,a=n.width,o=n.height,s=n.horizontalPoints,l=n.horizontal,c=l===void 0?!0:l;if(!c||!e||!e.length)return null;var f=s.map(function(m){return Math.round(m+i-i)}).sort(function(m,v){return m-v});i!==f[0]&&f.unshift(0);var d=f.map(function(m,v){var x=!f[v+1],S=x?i+o-m:f[v+1]-m;if(S<=0)return null;var _=v%e.length;return re.createElement("rect",{key:"react-".concat(v),y:m,x:r,height:S,width:a,stroke:"none",fill:e[_],fillOpacity:t,className:"recharts-cartesian-grid-bg"})});return re.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function ooe(n){var e=n.vertical,t=e===void 0?!0:e,r=n.verticalFill,i=n.fillOpacity,a=n.x,o=n.y,s=n.width,l=n.height,c=n.verticalPoints;if(!t||!r||!r.length)return null;var f=c.map(function(m){return Math.round(m+a-a)}).sort(function(m,v){return m-v});a!==f[0]&&f.unshift(0);var d=f.map(function(m,v){var x=!f[v+1],S=x?a+s-m:f[v+1]-m;if(S<=0)return null;var _=v%r.length;return re.createElement("rect",{key:"react-".concat(v),x:m,y:o,width:S,height:l,stroke:"none",fill:r[_],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return re.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var soe=function(e,t){var r=e.xAxis,i=e.width,a=e.height,o=e.offset;return WV(OO(Vi(Vi(Vi({},gm.defaultProps),r),{},{ticks:Xl(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,t)},loe=function(e,t){var r=e.yAxis,i=e.width,a=e.height,o=e.offset;return WV(OO(Vi(Vi(Vi({},gm.defaultProps),r),{},{ticks:Xl(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,t)},Ld={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Eh(n){var e,t,r,i,a,o,s=EO(),l=PO(),c=fae(),f=Vi(Vi({},n),{},{stroke:(e=n.stroke)!==null&&e!==void 0?e:Ld.stroke,fill:(t=n.fill)!==null&&t!==void 0?t:Ld.fill,horizontal:(r=n.horizontal)!==null&&r!==void 0?r:Ld.horizontal,horizontalFill:(i=n.horizontalFill)!==null&&i!==void 0?i:Ld.horizontalFill,vertical:(a=n.vertical)!==null&&a!==void 0?a:Ld.vertical,verticalFill:(o=n.verticalFill)!==null&&o!==void 0?o:Ld.verticalFill,x:Ze(n.x)?n.x:c.left,y:Ze(n.y)?n.y:c.top,width:Ze(n.width)?n.width:c.width,height:Ze(n.height)?n.height:c.height}),d=f.x,m=f.y,v=f.width,x=f.height,S=f.syncWithTicks,_=f.horizontalValues,b=f.verticalValues,M=lae(),T=uae();if(!Ze(v)||v<=0||!Ze(x)||x<=0||!Ze(d)||d!==+d||!Ze(m)||m!==+m)return null;var E=f.verticalCoordinatesGenerator||soe,P=f.horizontalCoordinatesGenerator||loe,R=f.horizontalPoints,I=f.verticalPoints;if((!R||!R.length)&&zt(P)){var U=_&&_.length,N=P({yAxis:T?Vi(Vi({},T),{},{ticks:U?_:T.ticks}):void 0,width:s,height:l,offset:c},U?!0:S);_s(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(_h(N),"]")),Array.isArray(N)&&(R=N)}if((!I||!I.length)&&zt(E)){var k=b&&b.length,z=E({xAxis:M?Vi(Vi({},M),{},{ticks:k?b:M.ticks}):void 0,width:s,height:l,offset:c},k?!0:S);_s(Array.isArray(z),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(_h(z),"]")),Array.isArray(z)&&(I=z)}return re.createElement("g",{className:"recharts-cartesian-grid"},re.createElement(noe,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height}),re.createElement(roe,Qf({},f,{offset:c,horizontalPoints:R,xAxis:M,yAxis:T})),re.createElement(ioe,Qf({},f,{offset:c,verticalPoints:I,xAxis:M,yAxis:T})),re.createElement(aoe,Qf({},f,{horizontalPoints:R})),re.createElement(ooe,Qf({},f,{verticalPoints:I})))}Eh.displayName="CartesianGrid";var uoe=["type","layout","connectNulls","ref"];function Xp(n){"@babel/helpers - typeof";return Xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xp(n)}function coe(n,e){if(n==null)return{};var t=foe(n,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function foe(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function cv(){return cv=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},cv.apply(this,arguments)}function EF(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Ya(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?EF(Object(t),!0).forEach(function(r){ds(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):EF(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Nd(n){return moe(n)||poe(n)||doe(n)||hoe()}function hoe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function doe(n,e){if(n){if(typeof n=="string")return iC(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return iC(n,e)}}function poe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function moe(n){if(Array.isArray(n))return iC(n)}function iC(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function goe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function PF(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,BH(r.key),r)}}function voe(n,e,t){return e&&PF(n.prototype,e),t&&PF(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function yoe(n,e,t){return e=_b(e),xoe(n,FH()?Reflect.construct(e,t||[],_b(n).constructor):e.apply(n,t))}function xoe(n,e){if(e&&(Xp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ac(n)}function FH(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FH=function(){return!!n})()}function _b(n){return _b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_b(n)}function ac(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function _oe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&aC(n,e)}function aC(n,e){return aC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},aC(n,e)}function ds(n,e,t){return e=BH(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function BH(n){var e=boe(n,"string");return Xp(e)=="symbol"?e:String(e)}function boe(n,e){if(Xp(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Xp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var du=(function(n){_oe(e,n);function e(){var t;goe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=yoe(this,e,[].concat(i)),ds(ac(t),"state",{isAnimationFinished:!0,totalLength:0}),ds(ac(t),"generateSimpleStrokeDasharray",function(o,s){return"".concat(s,"px ").concat(o-s,"px")}),ds(ac(t),"getStrokeDasharray",function(o,s,l){var c=l.reduce(function(b,M){return b+M});if(!c)return t.generateSimpleStrokeDasharray(s,o);for(var f=Math.floor(o/c),d=o%c,m=s-o,v=[],x=0,S=0;x<l.length;S+=l[x],++x)if(S+l[x]>d){v=[].concat(Nd(l.slice(0,x)),[d-S]);break}var _=v.length%2===0?[0,m]:[m];return[].concat(Nd(e.repeat(l,f)),Nd(v),_).map(function(b){return"".concat(b,"px")}).join(", ")}),ds(ac(t),"id",Pc("recharts-line-")),ds(ac(t),"pathRef",function(o){t.mainCurve=o}),ds(ac(t),"handleAnimationEnd",function(){t.setState({isAnimationFinished:!0}),t.props.onAnimationEnd&&t.props.onAnimationEnd()}),ds(ac(t),"handleAnimationStart",function(){t.setState({isAnimationFinished:!1}),t.props.onAnimationStart&&t.props.onAnimationStart()}),t}return voe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,s=a.xAxis,l=a.yAxis,c=a.layout,f=a.children,d=da(f,pm);if(!d)return null;var m=function(S,_){return{x:S.x,y:S.y,value:S.value,errorVal:er(S.payload,_)}},v={clipPath:r?"url(#clipPath-".concat(i,")"):null};return re.createElement(nn,v,d.map(function(x){return re.cloneElement(x,{key:"bar-".concat(x.props.dataKey),data:o,xAxis:s,yAxis:l,layout:c,dataPointFormatter:m})}))}},{key:"renderDots",value:function(r,i,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,c=s.points,f=s.dataKey,d=Mt(this.props,!1),m=Mt(l,!0),v=c.map(function(S,_){var b=Ya(Ya(Ya({key:"dot-".concat(_),r:3},d),m),{},{value:S.value,dataKey:f,cx:S.x,cy:S.y,index:_,payload:S.payload});return e.renderDotItem(l,b)}),x={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return re.createElement(nn,cv({className:"recharts-line-dots",key:"dots"},x),v)}},{key:"renderCurveStatically",value:function(r,i,a,o){var s=this.props,l=s.type,c=s.layout,f=s.connectNulls;s.ref;var d=coe(s,uoe),m=Ya(Ya(Ya({},Mt(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:r},o),{},{type:l,layout:c,connectNulls:f});return re.createElement(mc,cv({},m,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var a=this,o=this.props,s=o.points,l=o.strokeDasharray,c=o.isAnimationActive,f=o.animationBegin,d=o.animationDuration,m=o.animationEasing,v=o.animationId,x=o.animateNewValues,S=o.width,_=o.height,b=this.state,M=b.prevPoints,T=b.totalLength;return re.createElement(Oo,{begin:f,duration:d,isActive:c,easing:m,from:{t:0},to:{t:1},key:"line-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(E){var P=E.t;if(M){var R=M.length/s.length,I=s.map(function(G,K){var H=Math.floor(K*R);if(M[H]){var te=M[H],J=dr(te.x,G.x),ie=dr(te.y,G.y);return Ya(Ya({},G),{},{x:J(P),y:ie(P)})}if(x){var B=dr(S*2,G.x),X=dr(_/2,G.y);return Ya(Ya({},G),{},{x:B(P),y:X(P)})}return Ya(Ya({},G),{},{x:G.x,y:G.y})});return a.renderCurveStatically(I,r,i)}var U=dr(0,T),N=U(P),k;if(l){var z="".concat(l).split(/[,\s]+/gim).map(function(G){return parseFloat(G)});k=a.getStrokeDasharray(N,T,z)}else k=a.generateSimpleStrokeDasharray(T,N);return a.renderCurveStatically(s,r,i,{strokeDasharray:k})})}},{key:"renderCurve",value:function(r,i){var a=this.props,o=a.points,s=a.isAnimationActive,l=this.state,c=l.prevPoints,f=l.totalLength;return s&&o&&o.length&&(!c&&f>0||!bc(c,o))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(o,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,o=i.dot,s=i.points,l=i.className,c=i.xAxis,f=i.yAxis,d=i.top,m=i.left,v=i.width,x=i.height,S=i.isAnimationActive,_=i.id;if(a||!s||!s.length)return null;var b=this.state.isAnimationFinished,M=s.length===1,T=Qt("recharts-line",l),E=c&&c.allowDataOverflow,P=f&&f.allowDataOverflow,R=E||P,I=Ut(_)?this.id:_,U=(r=Mt(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},N=U.r,k=N===void 0?3:N,z=U.strokeWidth,G=z===void 0?2:z,K=Xj(o)?o:{},H=K.clipDot,te=H===void 0?!0:H,J=k*2+G;return re.createElement(nn,{className:T},E||P?re.createElement("defs",null,re.createElement("clipPath",{id:"clipPath-".concat(I)},re.createElement("rect",{x:E?m:m-v/2,y:P?d:d-x/2,width:E?v:v*2,height:P?x:x*2})),!te&&re.createElement("clipPath",{id:"clipPath-dots-".concat(I)},re.createElement("rect",{x:m-J/2,y:d-J/2,width:v+J,height:x+J}))):null,!M&&this.renderCurve(R,I),this.renderErrorBar(R,I),(M||o)&&this.renderDots(R,te,I),(!S||b)&&bs.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var a=r.length%2!==0?[].concat(Nd(r),[0]):r,o=[],s=0;s<i;++s)o=[].concat(Nd(o),Nd(a));return o}},{key:"renderDotItem",value:function(r,i){var a;if(re.isValidElement(r))a=re.cloneElement(r,i);else if(zt(r))a=r(i);else{var o=Qt("recharts-line-dot",typeof r!="boolean"?r.className:"");a=re.createElement(Gy,cv({},i,{className:o}))}return a}}]),e})(fe.PureComponent);ds(du,"displayName","Line");ds(du,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!cu.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});ds(du,"getComposedData",function(n){var e=n.props,t=n.xAxis,r=n.yAxis,i=n.xAxisTicks,a=n.yAxisTicks,o=n.dataKey,s=n.bandSize,l=n.displayedData,c=n.offset,f=e.layout,d=l.map(function(m,v){var x=er(m,o);return f==="horizontal"?{x:Bp({axis:t,ticks:i,bandSize:s,entry:m,index:v}),y:Ut(x)?null:r.scale(x),value:x,payload:m}:{x:Ut(x)?null:t.scale(x),y:Bp({axis:r,ticks:a,bandSize:s,entry:m,index:v}),value:x,payload:m}});return Ya({points:d,layout:f},c)});var Soe=["layout","type","stroke","connectNulls","isRange","ref"],zH;function Yp(n){"@babel/helpers - typeof";return Yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yp(n)}function woe(n,e){if(n==null)return{};var t=Moe(n,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function Moe(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function eh(){return eh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},eh.apply(this,arguments)}function CF(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function oc(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?CF(Object(t),!0).forEach(function(r){Ws(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):CF(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Aoe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function OF(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,VH(r.key),r)}}function Toe(n,e,t){return e&&OF(n.prototype,e),t&&OF(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function Eoe(n,e,t){return e=bb(e),Poe(n,jH()?Reflect.construct(e,t||[],bb(n).constructor):e.apply(n,t))}function Poe(n,e){if(e&&(Yp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ev(n)}function jH(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jH=function(){return!!n})()}function bb(n){return bb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},bb(n)}function ev(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Coe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&oC(n,e)}function oC(n,e){return oC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},oC(n,e)}function Ws(n,e,t){return e=VH(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function VH(n){var e=Ooe(n,"string");return Yp(e)=="symbol"?e:String(e)}function Ooe(n,e){if(Yp(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Yp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var Ic=(function(n){Coe(e,n);function e(){var t;Aoe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=Eoe(this,e,[].concat(i)),Ws(ev(t),"state",{isAnimationFinished:!0}),Ws(ev(t),"id",Pc("recharts-area-")),Ws(ev(t),"handleAnimationEnd",function(){var o=t.props.onAnimationEnd;t.setState({isAnimationFinished:!0}),zt(o)&&o()}),Ws(ev(t),"handleAnimationStart",function(){var o=t.props.onAnimationStart;t.setState({isAnimationFinished:!1}),zt(o)&&o()}),t}return Toe(e,[{key:"renderDots",value:function(r,i,a){var o=this.props.isAnimationActive,s=this.state.isAnimationFinished;if(o&&!s)return null;var l=this.props,c=l.dot,f=l.points,d=l.dataKey,m=Mt(this.props,!1),v=Mt(c,!0),x=f.map(function(_,b){var M=oc(oc(oc({key:"dot-".concat(b),r:3},m),v),{},{index:b,cx:_.x,cy:_.y,dataKey:d,value:_.value,payload:_.payload,points:f});return e.renderDotItem(c,M)}),S={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return re.createElement(nn,eh({className:"recharts-area-dots"},S),x)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,a=i.baseLine,o=i.points,s=i.strokeWidth,l=o[0].x,c=o[o.length-1].x,f=r*Math.abs(l-c),d=fc(o.map(function(m){return m.y||0}));return Ze(a)&&typeof a=="number"?d=Math.max(a,d):a&&Array.isArray(a)&&a.length&&(d=Math.max(fc(a.map(function(m){return m.y||0})),d)),Ze(d)?re.createElement("rect",{x:l<c?l:l-f,y:0,width:f,height:Math.floor(d+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,a=i.baseLine,o=i.points,s=i.strokeWidth,l=o[0].y,c=o[o.length-1].y,f=r*Math.abs(l-c),d=fc(o.map(function(m){return m.x||0}));return Ze(a)&&typeof a=="number"?d=Math.max(a,d):a&&Array.isArray(a)&&a.length&&(d=Math.max(fc(a.map(function(m){return m.x||0})),d)),Ze(d)?re.createElement("rect",{x:0,y:l<c?l:l-f,width:d+(s?parseInt("".concat(s),10):1),height:Math.floor(f)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,a,o){var s=this.props,l=s.layout,c=s.type,f=s.stroke,d=s.connectNulls,m=s.isRange;s.ref;var v=woe(s,Soe);return re.createElement(nn,{clipPath:a?"url(#clipPath-".concat(o,")"):null},re.createElement(mc,eh({},Mt(v,!0),{points:r,connectNulls:d,type:c,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),f!=="none"&&re.createElement(mc,eh({},Mt(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:d,fill:"none",points:r})),f!=="none"&&m&&re.createElement(mc,eh({},Mt(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:d,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var a=this,o=this.props,s=o.points,l=o.baseLine,c=o.isAnimationActive,f=o.animationBegin,d=o.animationDuration,m=o.animationEasing,v=o.animationId,x=this.state,S=x.prevPoints,_=x.prevBaseLine;return re.createElement(Oo,{begin:f,duration:d,isActive:c,easing:m,from:{t:0},to:{t:1},key:"area-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var M=b.t;if(S){var T=S.length/s.length,E=s.map(function(U,N){var k=Math.floor(N*T);if(S[k]){var z=S[k],G=dr(z.x,U.x),K=dr(z.y,U.y);return oc(oc({},U),{},{x:G(M),y:K(M)})}return U}),P;if(Ze(l)&&typeof l=="number"){var R=dr(_,l);P=R(M)}else if(Ut(l)||um(l)){var I=dr(_,0);P=I(M)}else P=l.map(function(U,N){var k=Math.floor(N*T);if(_[k]){var z=_[k],G=dr(z.x,U.x),K=dr(z.y,U.y);return oc(oc({},U),{},{x:G(M),y:K(M)})}return U});return a.renderAreaStatically(E,P,r,i)}return re.createElement(nn,null,re.createElement("defs",null,re.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(M))),re.createElement(nn,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(s,l,r,i)))})}},{key:"renderArea",value:function(r,i){var a=this.props,o=a.points,s=a.baseLine,l=a.isAnimationActive,c=this.state,f=c.prevPoints,d=c.prevBaseLine,m=c.totalLength;return l&&o&&o.length&&(!f&&m>0||!bc(f,o)||!bc(d,s))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(o,s,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,o=i.dot,s=i.points,l=i.className,c=i.top,f=i.left,d=i.xAxis,m=i.yAxis,v=i.width,x=i.height,S=i.isAnimationActive,_=i.id;if(a||!s||!s.length)return null;var b=this.state.isAnimationFinished,M=s.length===1,T=Qt("recharts-area",l),E=d&&d.allowDataOverflow,P=m&&m.allowDataOverflow,R=E||P,I=Ut(_)?this.id:_,U=(r=Mt(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},N=U.r,k=N===void 0?3:N,z=U.strokeWidth,G=z===void 0?2:z,K=Xj(o)?o:{},H=K.clipDot,te=H===void 0?!0:H,J=k*2+G;return re.createElement(nn,{className:T},E||P?re.createElement("defs",null,re.createElement("clipPath",{id:"clipPath-".concat(I)},re.createElement("rect",{x:E?f:f-v/2,y:P?c:c-x/2,width:E?v:v*2,height:P?x:x*2})),!te&&re.createElement("clipPath",{id:"clipPath-dots-".concat(I)},re.createElement("rect",{x:f-J/2,y:c-J/2,width:v+J,height:x+J}))):null,M?null:this.renderArea(R,I),(o||M)&&this.renderDots(R,te,I),(!S||b)&&bs.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}]),e})(fe.PureComponent);zH=Ic;Ws(Ic,"displayName","Area");Ws(Ic,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!cu.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Ws(Ic,"getBaseValue",function(n,e,t,r){var i=n.layout,a=n.baseValue,o=e.props.baseValue,s=o??a;if(Ze(s)&&typeof s=="number")return s;var l=i==="horizontal"?r:t,c=l.scale.domain();if(l.type==="number"){var f=Math.max(c[0],c[1]),d=Math.min(c[0],c[1]);return s==="dataMin"?d:s==="dataMax"||f<0?f:Math.max(Math.min(c[0],c[1]),0)}return s==="dataMin"?c[0]:s==="dataMax"?c[1]:c[0]});Ws(Ic,"getComposedData",function(n){var e=n.props,t=n.item,r=n.xAxis,i=n.yAxis,a=n.xAxisTicks,o=n.yAxisTicks,s=n.bandSize,l=n.dataKey,c=n.stackedData,f=n.dataStartIndex,d=n.displayedData,m=n.offset,v=e.layout,x=c&&c.length,S=zH.getBaseValue(e,t,r,i),_=v==="horizontal",b=!1,M=d.map(function(E,P){var R;x?R=c[f+P]:(R=er(E,l),Array.isArray(R)?b=!0:R=[S,R]);var I=R[1]==null||x&&er(E,l)==null;return _?{x:Bp({axis:r,ticks:a,bandSize:s,entry:E,index:P}),y:I?null:i.scale(R[1]),value:R,payload:E}:{x:I?null:r.scale(R[1]),y:Bp({axis:i,ticks:o,bandSize:s,entry:E,index:P}),value:R,payload:E}}),T;return x||b?T=M.map(function(E){var P=Array.isArray(E.value)?E.value[0]:null;return _?{x:E.x,y:P!=null&&E.y!=null?i.scale(P):null}:{x:P!=null?r.scale(P):null,y:E.y}}):T=_?i.scale(S):r.scale(S),oc({points:M,baseLine:T,layout:v,isRange:b},m)});Ws(Ic,"renderDotItem",function(n,e){var t;if(re.isValidElement(n))t=re.cloneElement(n,e);else if(zt(n))t=n(e);else{var r=Qt("recharts-area-dot",typeof n!="boolean"?n.className:"");t=re.createElement(Gy,eh({},e,{className:r}))}return t});var gS=function(){return null};gS.displayName="ZAxis";gS.defaultProps={zAxisId:0,range:[64,64],scale:"auto",type:"number"};var Roe=["option","isActive"];function fv(){return fv=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},fv.apply(this,arguments)}function Ioe(n,e){if(n==null)return{};var t=Doe(n,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function Doe(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function Loe(n){var e=n.option,t=n.isActive,r=Ioe(n,Roe);return typeof e=="string"?re.createElement(fb,fv({option:re.createElement(Yb,fv({type:e},r)),isActive:t,shapeType:"symbols"},r)):re.createElement(fb,fv({option:e,isActive:t,shapeType:"symbols"},r))}function Kp(n){"@babel/helpers - typeof";return Kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kp(n)}function hv(){return hv=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},hv.apply(this,arguments)}function RF(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function So(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?RF(Object(t),!0).forEach(function(r){dc(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):RF(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Noe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function IF(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,WH(r.key),r)}}function koe(n,e,t){return e&&IF(n.prototype,e),t&&IF(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function Uoe(n,e,t){return e=Sb(e),Foe(n,HH()?Reflect.construct(e,t||[],Sb(n).constructor):e.apply(n,t))}function Foe(n,e){if(e&&(Kp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tv(n)}function HH(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HH=function(){return!!n})()}function Sb(n){return Sb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Sb(n)}function tv(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Boe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&sC(n,e)}function sC(n,e){return sC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},sC(n,e)}function dc(n,e,t){return e=WH(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function WH(n){var e=zoe(n,"string");return Kp(e)=="symbol"?e:String(e)}function zoe(n,e){if(Kp(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Kp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var vS=(function(n){Boe(e,n);function e(){var t;Noe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=Uoe(this,e,[].concat(i)),dc(tv(t),"state",{isAnimationFinished:!1}),dc(tv(t),"handleAnimationEnd",function(){t.setState({isAnimationFinished:!0})}),dc(tv(t),"handleAnimationStart",function(){t.setState({isAnimationFinished:!1})}),dc(tv(t),"id",Pc("recharts-scatter-")),t}return koe(e,[{key:"renderSymbolsStatically",value:function(r){var i=this,a=this.props,o=a.shape,s=a.activeShape,l=a.activeIndex,c=Mt(this.props,!1);return r.map(function(f,d){var m=l===d,v=m?s:o,x=So(So({key:"symbol-".concat(d)},c),f);return re.createElement(nn,hv({className:"recharts-scatter-symbol"},_c(i.props,f,d),{key:"symbol-".concat(f?.cx,"-").concat(f?.cy,"-").concat(f?.size,"-").concat(d),role:"img"}),re.createElement(Loe,hv({option:v,isActive:m},x)))})}},{key:"renderSymbolsWithAnimation",value:function(){var r=this,i=this.props,a=i.points,o=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,c=i.animationEasing,f=i.animationId,d=this.state.prevPoints;return re.createElement(Oo,{begin:s,duration:l,isActive:o,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var v=m.t,x=a.map(function(S,_){var b=d&&d[_];if(b){var M=dr(b.cx,S.cx),T=dr(b.cy,S.cy),E=dr(b.size,S.size);return So(So({},S),{},{cx:M(v),cy:T(v),size:E(v)})}var P=dr(0,S.size);return So(So({},S),{},{size:P(v)})});return re.createElement(nn,null,r.renderSymbolsStatically(x))})}},{key:"renderSymbols",value:function(){var r=this.props,i=r.points,a=r.isAnimationActive,o=this.state.prevPoints;return a&&i&&i.length&&(!o||!bc(o,i))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(i)}},{key:"renderErrorBar",value:function(){var r=this.props.isAnimationActive;if(r&&!this.state.isAnimationFinished)return null;var i=this.props,a=i.points,o=i.xAxis,s=i.yAxis,l=i.children,c=da(l,pm);return c?c.map(function(f,d){var m=f.props,v=m.direction,x=m.dataKey;return re.cloneElement(f,{key:"".concat(v,"-").concat(x,"-").concat(a[d]),data:a,xAxis:o,yAxis:s,layout:v==="x"?"vertical":"horizontal",dataPointFormatter:function(_,b){return{x:_.cx,y:_.cy,value:v==="x"?+_.node.x:+_.node.y,errorVal:er(_,b)}}})}):null}},{key:"renderLine",value:function(){var r=this.props,i=r.points,a=r.line,o=r.lineType,s=r.lineJointType,l=Mt(this.props,!1),c=Mt(a,!1),f,d;if(o==="joint")f=i.map(function(T){return{x:T.cx,y:T.cy}});else if(o==="fitting"){var m=I9(i),v=m.xmin,x=m.xmax,S=m.a,_=m.b,b=function(E){return S*E+_};f=[{x:v,y:b(v)},{x,y:b(x)}]}var M=So(So(So({},l),{},{fill:"none",stroke:l&&l.fill},c),{},{points:f});return re.isValidElement(a)?d=re.cloneElement(a,M):zt(a)?d=a(M):d=re.createElement(mc,hv({},M,{type:s})),re.createElement(nn,{className:"recharts-scatter-line",key:"recharts-scatter-line"},d)}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.points,o=r.line,s=r.className,l=r.xAxis,c=r.yAxis,f=r.left,d=r.top,m=r.width,v=r.height,x=r.id,S=r.isAnimationActive;if(i||!a||!a.length)return null;var _=this.state.isAnimationFinished,b=Qt("recharts-scatter",s),M=l&&l.allowDataOverflow,T=c&&c.allowDataOverflow,E=M||T,P=Ut(x)?this.id:x;return re.createElement(nn,{className:b,clipPath:E?"url(#clipPath-".concat(P,")"):null},M||T?re.createElement("defs",null,re.createElement("clipPath",{id:"clipPath-".concat(P)},re.createElement("rect",{x:M?f:f-m/2,y:T?d:d-v/2,width:M?m:m*2,height:T?v:v*2}))):null,o&&this.renderLine(),this.renderErrorBar(),re.createElement(nn,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!S||_)&&bs.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}}]),e})(fe.PureComponent);dc(vS,"displayName","Scatter");dc(vS,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!cu.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});dc(vS,"getComposedData",function(n){var e=n.xAxis,t=n.yAxis,r=n.zAxis,i=n.item,a=n.displayedData,o=n.xAxisTicks,s=n.yAxisTicks,l=n.offset,c=i.props.tooltipType,f=da(i.props.children,zy),d=Ut(e.dataKey)?i.props.dataKey:e.dataKey,m=Ut(t.dataKey)?i.props.dataKey:t.dataKey,v=r&&r.dataKey,x=r?r.range:gS.defaultProps.range,S=x&&x[0],_=e.scale.bandwidth?e.scale.bandwidth():0,b=t.scale.bandwidth?t.scale.bandwidth():0,M=a.map(function(T,E){var P=er(T,d),R=er(T,m),I=!Ut(v)&&er(T,v)||"-",U=[{name:Ut(e.dataKey)?i.props.name:e.name||e.dataKey,unit:e.unit||"",value:P,payload:T,dataKey:d,type:c},{name:Ut(t.dataKey)?i.props.name:t.name||t.dataKey,unit:t.unit||"",value:R,payload:T,dataKey:m,type:c}];I!=="-"&&U.push({name:r.name||r.dataKey,unit:r.unit||"",value:I,payload:T,dataKey:v,type:c});var N=Bp({axis:e,ticks:o,bandSize:_,entry:T,index:E,dataKey:d}),k=Bp({axis:t,ticks:s,bandSize:b,entry:T,index:E,dataKey:m}),z=I!=="-"?r.scale(I):S,G=Math.sqrt(Math.max(z,0)/Math.PI);return So(So({},T),{},{cx:N,cy:k,x:N-G,y:k-G,xAxis:e,yAxis:t,zAxis:r,width:2*G,height:2*G,size:z,node:{x:P,y:R,z:I},tooltipPayload:U,tooltipPosition:{x:N,y:k},payload:T},f&&f[E]&&f[E].props)});return So({points:M},l)});function lC(){return lC=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},lC.apply(this,arguments)}var no=function(e){var t=e.xAxisId,r=EO(),i=PO(),a=IH(t);return a==null?null:re.createElement(gm,lC({},a,{className:Qt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return Xl(s,!0)}}))};no.displayName="XAxis";no.defaultProps={allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0};function uC(){return uC=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},uC.apply(this,arguments)}var Da=function(e){var t=e.yAxisId,r=EO(),i=PO(),a=DH(t);return a==null?null:re.createElement(gm,uC({},a,{className:Qt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return Xl(s,!0)}}))};Da.displayName="YAxis";Da.defaultProps={allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1};function DF(n){return Woe(n)||Hoe(n)||Voe(n)||joe()}function joe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Voe(n,e){if(n){if(typeof n=="string")return cC(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return cC(n,e)}}function Hoe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Woe(n){if(Array.isArray(n))return cC(n)}function cC(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var fC=function(e,t,r,i,a){var o=da(e,CO),s=da(e,$y),l=[].concat(DF(o),DF(s)),c=da(e,qy),f="".concat(i,"Id"),d=i[0],m=t;if(l.length&&(m=l.reduce(function(S,_){if(_.props[f]===r&&$s(_.props,"extendDomain")&&Ze(_.props[d])){var b=_.props[d];return[Math.min(S[0],b),Math.max(S[1],b)]}return S},m)),c.length){var v="".concat(d,"1"),x="".concat(d,"2");m=c.reduce(function(S,_){if(_.props[f]===r&&$s(_.props,"extendDomain")&&Ze(_.props[v])&&Ze(_.props[x])){var b=_.props[v],M=_.props[x];return[Math.min(S[0],b,M),Math.max(S[1],b,M)]}return S},m)}return a&&a.length&&(m=a.reduce(function(S,_){return Ze(_)?[Math.min(S[0],_),Math.max(S[1],_)]:S},m)),m},OT={exports:{}},LF;function Goe(){return LF||(LF=1,(function(n){var e=Object.prototype.hasOwnProperty,t="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(t=!1));function i(l,c,f){this.fn=l,this.context=c,this.once=f||!1}function a(l,c,f,d,m){if(typeof f!="function")throw new TypeError("The listener must be a function");var v=new i(f,d||l,m),x=t?t+c:c;return l._events[x]?l._events[x].fn?l._events[x]=[l._events[x],v]:l._events[x].push(v):(l._events[x]=v,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],f,d;if(this._eventsCount===0)return c;for(d in f=this._events)e.call(f,d)&&c.push(t?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(f)):c},s.prototype.listeners=function(c){var f=t?t+c:c,d=this._events[f];if(!d)return[];if(d.fn)return[d.fn];for(var m=0,v=d.length,x=new Array(v);m<v;m++)x[m]=d[m].fn;return x},s.prototype.listenerCount=function(c){var f=t?t+c:c,d=this._events[f];return d?d.fn?1:d.length:0},s.prototype.emit=function(c,f,d,m,v,x){var S=t?t+c:c;if(!this._events[S])return!1;var _=this._events[S],b=arguments.length,M,T;if(_.fn){switch(_.once&&this.removeListener(c,_.fn,void 0,!0),b){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,f),!0;case 3:return _.fn.call(_.context,f,d),!0;case 4:return _.fn.call(_.context,f,d,m),!0;case 5:return _.fn.call(_.context,f,d,m,v),!0;case 6:return _.fn.call(_.context,f,d,m,v,x),!0}for(T=1,M=new Array(b-1);T<b;T++)M[T-1]=arguments[T];_.fn.apply(_.context,M)}else{var E=_.length,P;for(T=0;T<E;T++)switch(_[T].once&&this.removeListener(c,_[T].fn,void 0,!0),b){case 1:_[T].fn.call(_[T].context);break;case 2:_[T].fn.call(_[T].context,f);break;case 3:_[T].fn.call(_[T].context,f,d);break;case 4:_[T].fn.call(_[T].context,f,d,m);break;default:if(!M)for(P=1,M=new Array(b-1);P<b;P++)M[P-1]=arguments[P];_[T].fn.apply(_[T].context,M)}}return!0},s.prototype.on=function(c,f,d){return a(this,c,f,d,!1)},s.prototype.once=function(c,f,d){return a(this,c,f,d,!0)},s.prototype.removeListener=function(c,f,d,m){var v=t?t+c:c;if(!this._events[v])return this;if(!f)return o(this,v),this;var x=this._events[v];if(x.fn)x.fn===f&&(!m||x.once)&&(!d||x.context===d)&&o(this,v);else{for(var S=0,_=[],b=x.length;S<b;S++)(x[S].fn!==f||m&&!x[S].once||d&&x[S].context!==d)&&_.push(x[S]);_.length?this._events[v]=_.length===1?_[0]:_:o(this,v)}return this},s.prototype.removeAllListeners=function(c){var f;return c?(f=t?t+c:c,this._events[f]&&o(this,f)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=t,s.EventEmitter=s,n.exports=s})(OT)),OT.exports}var $oe=Goe();const qoe=Tn($oe);var RT=new qoe,IT="recharts.syncMouseEvents";function sy(n){"@babel/helpers - typeof";return sy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sy(n)}function Xoe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Yoe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,GH(r.key),r)}}function Koe(n,e,t){return e&&Yoe(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function DT(n,e,t){return e=GH(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function GH(n){var e=Zoe(n,"string");return sy(e)=="symbol"?e:String(e)}function Zoe(n,e){if(sy(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(sy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var Joe=(function(){function n(){Xoe(this,n),DT(this,"activeIndex",0),DT(this,"coordinateList",[]),DT(this,"layout","horizontal")}return Koe(n,[{key:"setDetails",value:function(t){var r,i=t.coordinateList,a=i===void 0?null:i,o=t.container,s=o===void 0?null:o,l=t.layout,c=l===void 0?null:l,f=t.offset,d=f===void 0?null:f,m=t.mouseHandlerCallback,v=m===void 0?null:m;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=c??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=v??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(t){if(this.coordinateList.length!==0)switch(t.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(t){this.activeIndex=t}},{key:"spoofMouse",value:function(){var t,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((t=window)===null||t===void 0?void 0:t.scrollX)||0,f=((r=window)===null||r===void 0?void 0:r.scrollY)||0,d=a+l+c,m=o+this.offset.top+s/2+f;this.mouseHandlerCallback({pageX:d,pageY:m})}}}]),n})();function Qoe(n,e,t){if(t==="number"&&e===!0&&Array.isArray(n)){var r=n?.[0],i=n?.[1];if(r&&i&&Ze(r)&&Ze(i))return!0}return!1}function ese(n,e,t,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:n==="horizontal"?e.x-i:t.left+.5,y:n==="horizontal"?t.top+.5:e.y-i,width:n==="horizontal"?r:t.width-1,height:n==="horizontal"?t.height-1:r}}function $H(n){var e=n.cx,t=n.cy,r=n.radius,i=n.startAngle,a=n.endAngle,o=Kn(e,t,r,i),s=Kn(e,t,r,a);return{points:[o,s],cx:e,cy:t,radius:r,startAngle:i,endAngle:a}}function tse(n,e,t){var r,i,a,o;if(n==="horizontal")r=e.x,a=r,i=t.top,o=t.top+t.height;else if(n==="vertical")i=e.y,o=i,r=t.left,a=t.left+t.width;else if(e.cx!=null&&e.cy!=null)if(n==="centric"){var s=e.cx,l=e.cy,c=e.innerRadius,f=e.outerRadius,d=e.angle,m=Kn(s,l,c,d),v=Kn(s,l,f,d);r=m.x,i=m.y,a=v.x,o=v.y}else return $H(e);return[{x:r,y:i},{x:a,y:o}]}function ly(n){"@babel/helpers - typeof";return ly=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ly(n)}function NF(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function mx(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?NF(Object(t),!0).forEach(function(r){nse(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):NF(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function nse(n,e,t){return e=rse(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function rse(n){var e=ise(n,"string");return ly(e)=="symbol"?e:String(e)}function ise(n,e){if(ly(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(ly(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function ase(n){var e=n.element,t=n.tooltipEventType,r=n.isActive,i=n.activeCoordinate,a=n.activePayload,o=n.offset,s=n.activeTooltipIndex,l=n.tooltipAxisBandSize,c=n.layout,f=n.chartName;if(!e||!e.props.cursor||!r||!i||f!=="ScatterChart"&&t!=="axis")return null;var d,m=mc;if(f==="ScatterChart")d=i,m=$ne;else if(f==="BarChart")d=ese(c,i,o,l),m=SO;else if(c==="radial"){var v=$H(i),x=v.cx,S=v.cy,_=v.radius,b=v.startAngle,M=v.endAngle;d={cx:x,cy:S,startAngle:b,endAngle:M,innerRadius:_,outerRadius:_},m=tH}else d={points:tse(c,i,o)},m=mc;var T=mx(mx(mx(mx({stroke:"#ccc",pointerEvents:"none"},o),d),Mt(e.props.cursor,!1)),{},{payload:a,payloadIndex:s,className:Qt("recharts-tooltip-cursor",e.props.cursor.className)});return fe.isValidElement(e.props.cursor)?fe.cloneElement(e.props.cursor,T):fe.createElement(m,T)}var ose=["item"],sse=["children","className","width","height","style","compact","title","desc"];function Zp(n){"@babel/helpers - typeof";return Zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zp(n)}function dv(){return dv=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},dv.apply(this,arguments)}function kF(n,e){return cse(n)||use(n,e)||XH(n,e)||lse()}function lse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function use(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(t=t.call(n)).next,e!==0)for(;!(l=(r=a.call(t)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){c=!0,i=f}finally{try{if(!l&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function cse(n){if(Array.isArray(n))return n}function UF(n,e){if(n==null)return{};var t=fse(n,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function fse(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function hse(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function dse(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,YH(r.key),r)}}function pse(n,e,t){return e&&dse(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function mse(n,e,t){return e=wb(e),gse(n,qH()?Reflect.construct(e,t||[],wb(n).constructor):e.apply(n,t))}function gse(n,e){if(e&&(Zp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _n(n)}function qH(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qH=function(){return!!n})()}function wb(n){return wb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},wb(n)}function _n(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function vse(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&hC(n,e)}function hC(n,e){return hC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},hC(n,e)}function Jp(n){return _se(n)||xse(n)||XH(n)||yse()}function yse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XH(n,e){if(n){if(typeof n=="string")return dC(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return dC(n,e)}}function xse(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function _se(n){if(Array.isArray(n))return dC(n)}function dC(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function FF(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Be(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?FF(Object(t),!0).forEach(function(r){Wt(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):FF(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Wt(n,e,t){return e=YH(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function YH(n){var e=bse(n,"string");return Zp(e)=="symbol"?e:String(e)}function bse(n,e){if(Zp(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Zp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var Sse={xAxis:["bottom","top"],yAxis:["left","right"]},wse={width:"100%",height:"100%"},KH={x:0,y:0};function gx(n){return n}var Mse=function(e,t){return t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius},Ase=function(e,t,r,i){var a=t.find(function(f){return f&&f.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,s=i.radius;return Be(Be(Be({},i),Kn(i.cx,i.cy,s,o)),{},{angle:o,radius:s})}var l=a.coordinate,c=i.angle;return Be(Be(Be({},i),Kn(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return KH},yS=function(e,t){var r=t.graphicalItems,i=t.dataStartIndex,a=t.dataEndIndex,o=(r??[]).reduce(function(s,l){var c=l.props.data;return c&&c.length?[].concat(Jp(s),Jp(c)):s},[]);return o.length>0?o:e&&e.length&&Ze(i)&&Ze(a)?e.slice(i,a+1):[]};function ZH(n){return n==="number"?[0,"auto"]:void 0}var pC=function(e,t,r,i){var a=e.graphicalItems,o=e.tooltipAxis,s=yS(t,e);return r<0||!a||!a.length||r>=s.length?null:a.reduce(function(l,c){var f,d=(f=c.props.data)!==null&&f!==void 0?f:t;d&&e.dataStartIndex+e.dataEndIndex!==0&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1));var m;if(o.dataKey&&!o.allowDuplicatedCategory){var v=d===void 0?s:d;m=O_(v,o.dataKey,i)}else m=d&&d[r]||s[r];return m?[].concat(Jp(l),[YV(c,m)]):l},[])},BF=function(e,t,r,i){var a=i||{x:e.chartX,y:e.chartY},o=Mse(a,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,f=EQ(o,s,c,l);if(f>=0&&c){var d=c[f]&&c[f].value,m=pC(e,t,f,d),v=Ase(r,s,f,a);return{activeTooltipIndex:f,activeLabel:d,activePayload:m,activeCoordinate:v}}return null},Tse=function(e,t){var r=t.axes,i=t.graphicalItems,a=t.axisType,o=t.axisIdKey,s=t.stackGroups,l=t.dataStartIndex,c=t.dataEndIndex,f=e.layout,d=e.children,m=e.stackOffset,v=HV(f,a);return r.reduce(function(x,S){var _,b=S.props,M=b.type,T=b.dataKey,E=b.allowDataOverflow,P=b.allowDuplicatedCategory,R=b.scale,I=b.ticks,U=b.includeHidden,N=S.props[o];if(x[N])return x;var k=yS(e.data,{graphicalItems:i.filter(function(ee){return ee.props[o]===N}),dataStartIndex:l,dataEndIndex:c}),z=k.length,G,K,H;Qoe(S.props.domain,E,M)&&(G=OP(S.props.domain,null,E),v&&(M==="number"||R!=="auto")&&(H=ov(k,T,"category")));var te=ZH(M);if(!G||G.length===0){var J,ie=(J=S.props.domain)!==null&&J!==void 0?J:te;if(T){if(G=ov(k,T,M),M==="category"&&v){var B=R9(G);P&&B?(K=G,G=db(0,z)):P||(G=Nk(ie,G,S).reduce(function(ee,se){return ee.indexOf(se)>=0?ee:[].concat(Jp(ee),[se])},[]))}else if(M==="category")P?G=G.filter(function(ee){return ee!==""&&!Ut(ee)}):G=Nk(ie,G,S).reduce(function(ee,se){return ee.indexOf(se)>=0||se===""||Ut(se)?ee:[].concat(Jp(ee),[se])},[]);else if(M==="number"){var X=IQ(k,i.filter(function(ee){return ee.props[o]===N&&(U||!ee.props.hide)}),T,a,f);X&&(G=X)}v&&(M==="number"||R!=="auto")&&(H=ov(k,T,"category"))}else v?G=db(0,z):s&&s[N]&&s[N].hasStack&&M==="number"?G=m==="expand"?[0,1]:XV(s[N].stackGroups,l,c):G=VV(k,i.filter(function(ee){return ee.props[o]===N&&(U||!ee.props.hide)}),M,f,!0);if(M==="number")G=fC(d,G,N,a,I),ie&&(G=OP(ie,G,E));else if(M==="category"&&ie){var $=ie,V=G.every(function(ee){return $.indexOf(ee)>=0});V&&(G=$)}}return Be(Be({},x),{},Wt({},N,Be(Be({},S.props),{},{axisType:a,domain:G,categoricalDomain:H,duplicateDomain:K,originalDomain:(_=S.props.domain)!==null&&_!==void 0?_:te,isCategorical:v,layout:f})))},{})},Ese=function(e,t){var r=t.graphicalItems,i=t.Axis,a=t.axisType,o=t.axisIdKey,s=t.stackGroups,l=t.dataStartIndex,c=t.dataEndIndex,f=e.layout,d=e.children,m=yS(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:c}),v=m.length,x=HV(f,a),S=-1;return r.reduce(function(_,b){var M=b.props[o],T=ZH("number");if(!_[M]){S++;var E;return x?E=db(0,v):s&&s[M]&&s[M].hasStack?(E=XV(s[M].stackGroups,l,c),E=fC(d,E,M,a)):(E=OP(T,VV(m,r.filter(function(P){return P.props[o]===M&&!P.props.hide}),"number",f),i.defaultProps.allowDataOverflow),E=fC(d,E,M,a)),Be(Be({},_),{},Wt({},M,Be(Be({axisType:a},i.defaultProps),{},{hide:!0,orientation:to(Sse,"".concat(a,".").concat(S%2),null),domain:E,originalDomain:T,isCategorical:x,layout:f})))}return _},{})},Pse=function(e,t){var r=t.axisType,i=r===void 0?"xAxis":r,a=t.AxisComp,o=t.graphicalItems,s=t.stackGroups,l=t.dataStartIndex,c=t.dataEndIndex,f=e.children,d="".concat(i,"Id"),m=da(f,a),v={};return m&&m.length?v=Tse(e,{axes:m,graphicalItems:o,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:c}):o&&o.length&&(v=Ese(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:c})),v},Cse=function(e){var t=uc(e),r=Xl(t,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:Y2(r,function(i){return i.coordinate}),tooltipAxis:t,tooltipAxisBandSize:eb(t,r)}},zF=function(e){var t=e.children,r=e.defaultShowTooltip,i=Za(t,Gp),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},Ose=function(e){return!e||!e.length?!1:e.some(function(t){var r=Zl(t&&t.type);return r&&r.indexOf("Bar")>=0})},jF=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Rse=function(e,t){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,s=e.yAxisMap,l=s===void 0?{}:s,c=r.width,f=r.height,d=r.children,m=r.margin||{},v=Za(d,Gp),x=Za(d,Po),S=Object.keys(l).reduce(function(P,R){var I=l[R],U=I.orientation;return!I.mirror&&!I.hide?Be(Be({},P),{},Wt({},U,P[U]+I.width)):P},{left:m.left||0,right:m.right||0}),_=Object.keys(o).reduce(function(P,R){var I=o[R],U=I.orientation;return!I.mirror&&!I.hide?Be(Be({},P),{},Wt({},U,to(P,"".concat(U))+I.height)):P},{top:m.top||0,bottom:m.bottom||0}),b=Be(Be({},_),S),M=b.bottom;v&&(b.bottom+=v.props.height||Gp.defaultProps.height),x&&t&&(b=OQ(b,i,r,t));var T=c-b.left-b.right,E=f-b.top-b.bottom;return Be(Be({brushBottom:M},b),{},{width:Math.max(T,0),height:Math.max(E,0)})},Ise=function(e,t){if(t==="xAxis")return e[t].width;if(t==="yAxis")return e[t].height},xS=function(e){var t,r=e.chartName,i=e.GraphicalChild,a=e.defaultTooltipEventType,o=a===void 0?"axis":a,s=e.validateTooltipEventTypes,l=s===void 0?["axis"]:s,c=e.axisComponents,f=e.legendContent,d=e.formatAxisMap,m=e.defaultProps,v=function(_,b){var M=b.graphicalItems,T=b.stackGroups,E=b.offset,P=b.updateId,R=b.dataStartIndex,I=b.dataEndIndex,U=_.barSize,N=_.layout,k=_.barGap,z=_.barCategoryGap,G=_.maxBarSize,K=jF(N),H=K.numericAxisName,te=K.cateAxisName,J=Ose(M),ie=[];return M.forEach(function(B,X){var $=yS(_.data,{graphicalItems:[B],dataStartIndex:R,dataEndIndex:I}),V=B.props,ee=V.dataKey,se=V.maxBarSize,me=B.props["".concat(H,"Id")],Ce=B.props["".concat(te,"Id")],Ne={},De=c.reduce(function(W,ge){var ze=b["".concat(ge.axisType,"Map")],je=B.props["".concat(ge.axisType,"Id")];ze&&ze[je]||ge.axisType==="zAxis"||xh();var ke=ze[je];return Be(Be({},W),{},Wt(Wt({},ge.axisType,ke),"".concat(ge.axisType,"Ticks"),Xl(ke)))},Ne),Ke=De[te],Te=De["".concat(te,"Ticks")],Le=T&&T[me]&&T[me].hasStack&&jQ(B,T[me].stackGroups),Ge=Zl(B.type).indexOf("Bar")>=0,q=eb(Ke,Te),Re=[],_e=J&&PQ({barSize:U,stackGroups:T,totalSize:Ise(De,te)});if(Ge){var Fe,Ae,it=Ut(se)?G:se,Qe=(Fe=(Ae=eb(Ke,Te,!0))!==null&&Ae!==void 0?Ae:it)!==null&&Fe!==void 0?Fe:0;Re=CQ({barGap:k,barCategoryGap:z,bandSize:Qe!==q?Qe:q,sizeList:_e[Ce],maxBarSize:it}),Qe!==q&&(Re=Re.map(function(W){return Be(Be({},W),{},{position:Be(Be({},W.position),{},{offset:W.position.offset-Qe/2})})}))}var Y=B&&B.type&&B.type.getComposedData;Y&&ie.push({props:Be(Be({},Y(Be(Be({},De),{},{displayedData:$,props:_,dataKey:ee,item:B,bandSize:q,barPosition:Re,offset:E,stackedData:Le,layout:N,dataStartIndex:R,dataEndIndex:I}))),{},Wt(Wt(Wt({key:B.key||"item-".concat(X)},H,De[H]),te,De[te]),"animationId",P)),childIndex:H9(B,_.children),item:B})}),ie},x=function(_,b){var M=_.props,T=_.dataStartIndex,E=_.dataEndIndex,P=_.updateId;if(!KD({props:M}))return null;var R=M.children,I=M.layout,U=M.stackOffset,N=M.data,k=M.reverseStackOrder,z=jF(I),G=z.numericAxisName,K=z.cateAxisName,H=da(R,i),te=BQ(N,H,"".concat(G,"Id"),"".concat(K,"Id"),U,k),J=c.reduce(function(V,ee){var se="".concat(ee.axisType,"Map");return Be(Be({},V),{},Wt({},se,Pse(M,Be(Be({},ee),{},{graphicalItems:H,stackGroups:ee.axisType===G&&te,dataStartIndex:T,dataEndIndex:E}))))},{}),ie=Rse(Be(Be({},J),{},{props:M,graphicalItems:H}),b?.legendBBox);Object.keys(J).forEach(function(V){J[V]=d(M,J[V],ie,V.replace("Map",""),r)});var B=J["".concat(K,"Map")],X=Cse(B),$=v(M,Be(Be({},J),{},{dataStartIndex:T,dataEndIndex:E,updateId:P,graphicalItems:H,stackGroups:te,offset:ie}));return Be(Be({formattedGraphicalItems:$,graphicalItems:H,offset:ie,stackGroups:te},X),J)};return t=(function(S){vse(_,S);function _(b){var M,T,E;return hse(this,_),E=mse(this,_,[b]),Wt(_n(E),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Wt(_n(E),"accessibilityManager",new Joe),Wt(_n(E),"handleLegendBBoxUpdate",function(P){if(P){var R=E.state,I=R.dataStartIndex,U=R.dataEndIndex,N=R.updateId;E.setState(Be({legendBBox:P},x({props:E.props,dataStartIndex:I,dataEndIndex:U,updateId:N},Be(Be({},E.state),{},{legendBBox:P}))))}}),Wt(_n(E),"handleReceiveSyncEvent",function(P,R,I){if(E.props.syncId===P){if(I===E.eventEmitterSymbol&&typeof E.props.syncMethod!="function")return;E.applySyncEvent(R)}}),Wt(_n(E),"handleBrushChange",function(P){var R=P.startIndex,I=P.endIndex;if(R!==E.state.dataStartIndex||I!==E.state.dataEndIndex){var U=E.state.updateId;E.setState(function(){return Be({dataStartIndex:R,dataEndIndex:I},x({props:E.props,dataStartIndex:R,dataEndIndex:I,updateId:U},E.state))}),E.triggerSyncEvent({dataStartIndex:R,dataEndIndex:I})}}),Wt(_n(E),"handleMouseEnter",function(P){var R=E.getMouseInfo(P);if(R){var I=Be(Be({},R),{},{isTooltipActive:!0});E.setState(I),E.triggerSyncEvent(I);var U=E.props.onMouseEnter;zt(U)&&U(I,P)}}),Wt(_n(E),"triggeredAfterMouseMove",function(P){var R=E.getMouseInfo(P),I=R?Be(Be({},R),{},{isTooltipActive:!0}):{isTooltipActive:!1};E.setState(I),E.triggerSyncEvent(I);var U=E.props.onMouseMove;zt(U)&&U(I,P)}),Wt(_n(E),"handleItemMouseEnter",function(P){E.setState(function(){return{isTooltipActive:!0,activeItem:P,activePayload:P.tooltipPayload,activeCoordinate:P.tooltipPosition||{x:P.cx,y:P.cy}}})}),Wt(_n(E),"handleItemMouseLeave",function(){E.setState(function(){return{isTooltipActive:!1}})}),Wt(_n(E),"handleMouseMove",function(P){P.persist(),E.throttleTriggeredAfterMouseMove(P)}),Wt(_n(E),"handleMouseLeave",function(P){E.throttleTriggeredAfterMouseMove.cancel();var R={isTooltipActive:!1};E.setState(R),E.triggerSyncEvent(R);var I=E.props.onMouseLeave;zt(I)&&I(R,P)}),Wt(_n(E),"handleOuterEvent",function(P){var R=V9(P),I=to(E.props,"".concat(R));if(R&&zt(I)){var U,N;/.*touch.*/i.test(R)?N=E.getMouseInfo(P.changedTouches[0]):N=E.getMouseInfo(P),I((U=N)!==null&&U!==void 0?U:{},P)}}),Wt(_n(E),"handleClick",function(P){var R=E.getMouseInfo(P);if(R){var I=Be(Be({},R),{},{isTooltipActive:!0});E.setState(I),E.triggerSyncEvent(I);var U=E.props.onClick;zt(U)&&U(I,P)}}),Wt(_n(E),"handleMouseDown",function(P){var R=E.props.onMouseDown;if(zt(R)){var I=E.getMouseInfo(P);R(I,P)}}),Wt(_n(E),"handleMouseUp",function(P){var R=E.props.onMouseUp;if(zt(R)){var I=E.getMouseInfo(P);R(I,P)}}),Wt(_n(E),"handleTouchMove",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&E.throttleTriggeredAfterMouseMove(P.changedTouches[0])}),Wt(_n(E),"handleTouchStart",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&E.handleMouseDown(P.changedTouches[0])}),Wt(_n(E),"handleTouchEnd",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&E.handleMouseUp(P.changedTouches[0])}),Wt(_n(E),"triggerSyncEvent",function(P){E.props.syncId!==void 0&&RT.emit(IT,E.props.syncId,P,E.eventEmitterSymbol)}),Wt(_n(E),"applySyncEvent",function(P){var R=E.props,I=R.layout,U=R.syncMethod,N=E.state.updateId,k=P.dataStartIndex,z=P.dataEndIndex;if(P.dataStartIndex!==void 0||P.dataEndIndex!==void 0)E.setState(Be({dataStartIndex:k,dataEndIndex:z},x({props:E.props,dataStartIndex:k,dataEndIndex:z,updateId:N},E.state)));else if(P.activeTooltipIndex!==void 0){var G=P.chartX,K=P.chartY,H=P.activeTooltipIndex,te=E.state,J=te.offset,ie=te.tooltipTicks;if(!J)return;if(typeof U=="function")H=U(ie,P);else if(U==="value"){H=-1;for(var B=0;B<ie.length;B++)if(ie[B].value===P.activeLabel){H=B;break}}var X=Be(Be({},J),{},{x:J.left,y:J.top}),$=Math.min(G,X.x+X.width),V=Math.min(K,X.y+X.height),ee=ie[H]&&ie[H].value,se=pC(E.state,E.props.data,H),me=ie[H]?{x:I==="horizontal"?ie[H].coordinate:$,y:I==="horizontal"?V:ie[H].coordinate}:KH;E.setState(Be(Be({},P),{},{activeLabel:ee,activeCoordinate:me,activePayload:se,activeTooltipIndex:H}))}else E.setState(P)}),Wt(_n(E),"renderCursor",function(P){var R,I=E.state,U=I.isTooltipActive,N=I.activeCoordinate,k=I.activePayload,z=I.offset,G=I.activeTooltipIndex,K=I.tooltipAxisBandSize,H=E.getTooltipEventType(),te=(R=P.props.active)!==null&&R!==void 0?R:U,J=E.props.layout,ie=P.key||"_recharts-cursor";return re.createElement(ase,{key:ie,activeCoordinate:N,activePayload:k,activeTooltipIndex:G,chartName:r,element:P,isActive:te,layout:J,offset:z,tooltipAxisBandSize:K,tooltipEventType:H})}),Wt(_n(E),"renderPolarAxis",function(P,R,I){var U=to(P,"type.axisType"),N=to(E.state,"".concat(U,"Map")),k=N&&N[P.props["".concat(U,"Id")]];return fe.cloneElement(P,Be(Be({},k),{},{className:Qt(U,k.className),key:P.key||"".concat(R,"-").concat(I),ticks:Xl(k,!0)}))}),Wt(_n(E),"renderPolarGrid",function(P){var R=P.props,I=R.radialLines,U=R.polarAngles,N=R.polarRadius,k=E.state,z=k.radiusAxisMap,G=k.angleAxisMap,K=uc(z),H=uc(G),te=H.cx,J=H.cy,ie=H.innerRadius,B=H.outerRadius;return fe.cloneElement(P,{polarAngles:Array.isArray(U)?U:Xl(H,!0).map(function(X){return X.coordinate}),polarRadius:Array.isArray(N)?N:Xl(K,!0).map(function(X){return X.coordinate}),cx:te,cy:J,innerRadius:ie,outerRadius:B,key:P.key||"polar-grid",radialLines:I})}),Wt(_n(E),"renderLegend",function(){var P=E.state.formattedGraphicalItems,R=E.props,I=R.children,U=R.width,N=R.height,k=E.props.margin||{},z=U-(k.left||0)-(k.right||0),G=zV({children:I,formattedGraphicalItems:P,legendWidth:z,legendContent:f});if(!G)return null;var K=G.item,H=UF(G,ose);return fe.cloneElement(K,Be(Be({},H),{},{chartWidth:U,chartHeight:N,margin:k,onBBoxUpdate:E.handleLegendBBoxUpdate}))}),Wt(_n(E),"renderTooltip",function(){var P,R=E.props,I=R.children,U=R.accessibilityLayer,N=Za(I,pi);if(!N)return null;var k=E.state,z=k.isTooltipActive,G=k.activeCoordinate,K=k.activePayload,H=k.activeLabel,te=k.offset,J=(P=N.props.active)!==null&&P!==void 0?P:z;return fe.cloneElement(N,{viewBox:Be(Be({},te),{},{x:te.left,y:te.top}),active:J,label:H,payload:J?K:[],coordinate:G,accessibilityLayer:U})}),Wt(_n(E),"renderBrush",function(P){var R=E.props,I=R.margin,U=R.data,N=E.state,k=N.offset,z=N.dataStartIndex,G=N.dataEndIndex,K=N.updateId;return fe.cloneElement(P,{key:P.key||"_recharts-brush",onChange:fx(E.handleBrushChange,P.props.onChange),data:U,x:Ze(P.props.x)?P.props.x:k.left,y:Ze(P.props.y)?P.props.y:k.top+k.height+k.brushBottom-(I.bottom||0),width:Ze(P.props.width)?P.props.width:k.width,startIndex:z,endIndex:G,updateId:"brush-".concat(K)})}),Wt(_n(E),"renderReferenceElement",function(P,R,I){if(!P)return null;var U=_n(E),N=U.clipPathId,k=E.state,z=k.xAxisMap,G=k.yAxisMap,K=k.offset,H=P.props,te=H.xAxisId,J=H.yAxisId;return fe.cloneElement(P,{key:P.key||"".concat(R,"-").concat(I),xAxis:z[te],yAxis:G[J],viewBox:{x:K.left,y:K.top,width:K.width,height:K.height},clipPathId:N})}),Wt(_n(E),"renderActivePoints",function(P){var R=P.item,I=P.activePoint,U=P.basePoint,N=P.childIndex,k=P.isRange,z=[],G=R.props.key,K=R.item.props,H=K.activeDot,te=K.dataKey,J=Be(Be({index:N,dataKey:te,cx:I.x,cy:I.y,r:4,fill:bO(R.item),strokeWidth:2,stroke:"#fff",payload:I.payload,value:I.value,key:"".concat(G,"-activePoint-").concat(N)},Mt(H,!1)),R_(H));return z.push(_.renderActiveDot(H,J)),U?z.push(_.renderActiveDot(H,Be(Be({},J),{},{cx:U.x,cy:U.y,key:"".concat(G,"-basePoint-").concat(N)}))):k&&z.push(null),z}),Wt(_n(E),"renderGraphicChild",function(P,R,I){var U=E.filterFormatItem(P,R,I);if(!U)return null;var N=E.getTooltipEventType(),k=E.state,z=k.isTooltipActive,G=k.tooltipAxis,K=k.activeTooltipIndex,H=k.activeLabel,te=E.props.children,J=Za(te,pi),ie=U.props,B=ie.points,X=ie.isRange,$=ie.baseLine,V=U.item.props,ee=V.activeDot,se=V.hide,me=V.activeBar,Ce=V.activeShape,Ne=!!(!se&&z&&J&&(ee||me||Ce)),De={};N!=="axis"&&J&&J.props.trigger==="click"?De={onClick:fx(E.handleItemMouseEnter,P.props.onClick)}:N!=="axis"&&(De={onMouseLeave:fx(E.handleItemMouseLeave,P.props.onMouseLeave),onMouseEnter:fx(E.handleItemMouseEnter,P.props.onMouseEnter)});var Ke=fe.cloneElement(P,Be(Be({},U.props),De));function Te(ge){return typeof G.dataKey=="function"?G.dataKey(ge.payload):null}if(Ne)if(K>=0){var Le,Ge;if(G.dataKey&&!G.allowDuplicatedCategory){var q=typeof G.dataKey=="function"?Te:"payload.".concat(G.dataKey.toString());Le=O_(B,q,H),Ge=X&&$&&O_($,q,H)}else Le=B?.[K],Ge=X&&$&&$[K];if(Ce||me){var Re=P.props.activeIndex!==void 0?P.props.activeIndex:K;return[fe.cloneElement(P,Be(Be(Be({},U.props),De),{},{activeIndex:Re})),null,null]}if(!Ut(Le))return[Ke].concat(Jp(E.renderActivePoints({item:U,activePoint:Le,basePoint:Ge,childIndex:K,isRange:X})))}else{var _e,Fe=(_e=E.getItemByXY(E.state.activeCoordinate))!==null&&_e!==void 0?_e:{graphicalItem:Ke},Ae=Fe.graphicalItem,it=Ae.item,Qe=it===void 0?P:it,Y=Ae.childIndex,W=Be(Be(Be({},U.props),De),{},{activeIndex:Y});return[fe.cloneElement(Qe,W),null,null]}return X?[Ke,null,null]:[Ke,null]}),Wt(_n(E),"renderCustomized",function(P,R,I){return fe.cloneElement(P,Be(Be({key:"recharts-customized-".concat(I)},E.props),E.state))}),Wt(_n(E),"renderMap",{CartesianGrid:{handler:gx,once:!0},ReferenceArea:{handler:E.renderReferenceElement},ReferenceLine:{handler:gx},ReferenceDot:{handler:E.renderReferenceElement},XAxis:{handler:gx},YAxis:{handler:gx},Brush:{handler:E.renderBrush,once:!0},Bar:{handler:E.renderGraphicChild},Line:{handler:E.renderGraphicChild},Area:{handler:E.renderGraphicChild},Radar:{handler:E.renderGraphicChild},RadialBar:{handler:E.renderGraphicChild},Scatter:{handler:E.renderGraphicChild},Pie:{handler:E.renderGraphicChild},Funnel:{handler:E.renderGraphicChild},Tooltip:{handler:E.renderCursor,once:!0},PolarGrid:{handler:E.renderPolarGrid,once:!0},PolarAngleAxis:{handler:E.renderPolarAxis},PolarRadiusAxis:{handler:E.renderPolarAxis},Customized:{handler:E.renderCustomized}}),E.clipPathId="".concat((M=b.id)!==null&&M!==void 0?M:Pc("recharts"),"-clip"),E.throttleTriggeredAfterMouseMove=V5(E.triggeredAfterMouseMove,(T=b.throttleDelay)!==null&&T!==void 0?T:1e3/60),E.state={},E}return pse(_,[{key:"componentDidMount",value:function(){var M,T;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(M=this.props.margin.left)!==null&&M!==void 0?M:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var M=this.props,T=M.children,E=M.data,P=M.height,R=M.layout,I=Za(T,pi);if(I){var U=I.props.defaultIndex;if(!(typeof U!="number"||U<0||U>this.state.tooltipTicks.length)){var N=this.state.tooltipTicks[U]&&this.state.tooltipTicks[U].value,k=pC(this.state,E,U,N),z=this.state.tooltipTicks[U].coordinate,G=(this.state.offset.top+P)/2,K=R==="horizontal",H=K?{x:z,y:G}:{y:z,x:G},te=this.state.formattedGraphicalItems.find(function(ie){var B=ie.item;return B.type.name==="Scatter"});te&&(H=Be(Be({},H),te.props.points[U].tooltipPosition),k=te.props.points[U].tooltipPayload);var J={activeTooltipIndex:U,isTooltipActive:!0,activeLabel:N,activePayload:k,activeCoordinate:H};this.setState(J),this.renderCursor(I),this.accessibilityManager.setIndex(U)}}}},{key:"getSnapshotBeforeUpdate",value:function(M,T){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==T.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==M.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==M.margin){var E,P;this.accessibilityManager.setDetails({offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0}})}return null}},{key:"componentDidUpdate",value:function(M){JE([Za(M.children,pi)],[Za(this.props.children,pi)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var M=Za(this.props.children,pi);if(M&&typeof M.props.shared=="boolean"){var T=M.props.shared?"axis":"item";return l.indexOf(T)>=0?T:o}return o}},{key:"getMouseInfo",value:function(M){if(!this.container)return null;var T=this.container,E=T.getBoundingClientRect(),P=EY(E),R={chartX:Math.round(M.pageX-P.left),chartY:Math.round(M.pageY-P.top)},I=E.width/T.offsetWidth||1,U=this.inRange(R.chartX,R.chartY,I);if(!U)return null;var N=this.state,k=N.xAxisMap,z=N.yAxisMap,G=this.getTooltipEventType();if(G!=="axis"&&k&&z){var K=uc(k).scale,H=uc(z).scale,te=K&&K.invert?K.invert(R.chartX):null,J=H&&H.invert?H.invert(R.chartY):null;return Be(Be({},R),{},{xValue:te,yValue:J})}var ie=BF(this.state,this.props.data,this.props.layout,U);return ie?Be(Be({},R),ie):null}},{key:"inRange",value:function(M,T){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,P=this.props.layout,R=M/E,I=T/E;if(P==="horizontal"||P==="vertical"){var U=this.state.offset,N=R>=U.left&&R<=U.left+U.width&&I>=U.top&&I<=U.top+U.height;return N?{x:R,y:I}:null}var k=this.state,z=k.angleAxisMap,G=k.radiusAxisMap;if(z&&G){var K=uc(z);return Fk({x:R,y:I},K)}return null}},{key:"parseEventsOfWrapper",value:function(){var M=this.props.children,T=this.getTooltipEventType(),E=Za(M,pi),P={};E&&T==="axis"&&(E.props.trigger==="click"?P={onClick:this.handleClick}:P={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var R=R_(this.props,this.handleOuterEvent);return Be(Be({},R),P)}},{key:"addListener",value:function(){RT.on(IT,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){RT.removeListener(IT,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(M,T,E){for(var P=this.state.formattedGraphicalItems,R=0,I=P.length;R<I;R++){var U=P[R];if(U.item===M||U.props.key===M.key||T===Zl(U.item.type)&&E===U.childIndex)return U}return null}},{key:"renderClipPath",value:function(){var M=this.clipPathId,T=this.state.offset,E=T.left,P=T.top,R=T.height,I=T.width;return re.createElement("defs",null,re.createElement("clipPath",{id:M},re.createElement("rect",{x:E,y:P,height:R,width:I})))}},{key:"getXScales",value:function(){var M=this.state.xAxisMap;return M?Object.entries(M).reduce(function(T,E){var P=kF(E,2),R=P[0],I=P[1];return Be(Be({},T),{},Wt({},R,I.scale))},{}):null}},{key:"getYScales",value:function(){var M=this.state.yAxisMap;return M?Object.entries(M).reduce(function(T,E){var P=kF(E,2),R=P[0],I=P[1];return Be(Be({},T),{},Wt({},R,I.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(M){var T;return(T=this.state.xAxisMap)===null||T===void 0||(T=T[M])===null||T===void 0?void 0:T.scale}},{key:"getYScaleByAxisId",value:function(M){var T;return(T=this.state.yAxisMap)===null||T===void 0||(T=T[M])===null||T===void 0?void 0:T.scale}},{key:"getItemByXY",value:function(M){var T=this.state,E=T.formattedGraphicalItems,P=T.activeItem;if(E&&E.length)for(var R=0,I=E.length;R<I;R++){var U=E[R],N=U.props,k=U.item,z=Zl(k.type);if(z==="Bar"){var G=(N.data||[]).find(function(J){return Tne(M,J)});if(G)return{graphicalItem:U,payload:G}}else if(z==="RadialBar"){var K=(N.data||[]).find(function(J){return Fk(M,J)});if(K)return{graphicalItem:U,payload:K}}else if(dS(U,P)||pS(U,P)||Qv(U,P)){var H=Yre({graphicalItem:U,activeTooltipItem:P,itemData:k.props.data}),te=k.props.activeIndex===void 0?H:k.props.activeIndex;return{graphicalItem:Be(Be({},U),{},{childIndex:te}),payload:Qv(U,P)?k.props.data[H]:U.props.data[H]}}}return null}},{key:"render",value:function(){var M=this;if(!KD(this))return null;var T=this.props,E=T.children,P=T.className,R=T.width,I=T.height,U=T.style,N=T.compact,k=T.title,z=T.desc,G=UF(T,sse),K=Mt(G,!1);if(N)return re.createElement(pF,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},re.createElement(eP,dv({},K,{width:R,height:I,title:k,desc:z}),this.renderClipPath(),JD(E,this.renderMap)));if(this.props.accessibilityLayer){var H,te;K.tabIndex=(H=this.props.tabIndex)!==null&&H!==void 0?H:0,K.role=(te=this.props.role)!==null&&te!==void 0?te:"application",K.onKeyDown=function(ie){M.accessibilityManager.keyboardEvent(ie)},K.onFocus=function(){M.accessibilityManager.focus()}}var J=this.parseEventsOfWrapper();return re.createElement(pF,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},re.createElement("div",dv({className:Qt("recharts-wrapper",P),style:Be({position:"relative",cursor:"default",width:R,height:I},U)},J,{ref:function(B){M.container=B}}),re.createElement(eP,dv({},K,{width:R,height:I,title:k,desc:z,style:wse}),this.renderClipPath(),JD(E,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}]),_})(fe.Component),Wt(t,"displayName",r),Wt(t,"defaultProps",Be({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),Wt(t,"getDerivedStateFromProps",function(S,_){var b=S.dataKey,M=S.data,T=S.children,E=S.width,P=S.height,R=S.layout,I=S.stackOffset,U=S.margin,N=_.dataStartIndex,k=_.dataEndIndex;if(_.updateId===void 0){var z=zF(S);return Be(Be(Be({},z),{},{updateId:0},x(Be(Be({props:S},z),{},{updateId:0}),_)),{},{prevDataKey:b,prevData:M,prevWidth:E,prevHeight:P,prevLayout:R,prevStackOffset:I,prevMargin:U,prevChildren:T})}if(b!==_.prevDataKey||M!==_.prevData||E!==_.prevWidth||P!==_.prevHeight||R!==_.prevLayout||I!==_.prevStackOffset||!Ap(U,_.prevMargin)){var G=zF(S),K={chartX:_.chartX,chartY:_.chartY,isTooltipActive:_.isTooltipActive},H=Be(Be({},BF(_,M,R)),{},{updateId:_.updateId+1}),te=Be(Be(Be({},G),K),H);return Be(Be(Be({},te),x(Be({props:S},te),_)),{},{prevDataKey:b,prevData:M,prevWidth:E,prevHeight:P,prevLayout:R,prevStackOffset:I,prevMargin:U,prevChildren:T})}if(!JE(T,_.prevChildren)){var J,ie,B,X,$=Za(T,Gp),V=$&&(J=(ie=$.props)===null||ie===void 0?void 0:ie.startIndex)!==null&&J!==void 0?J:N,ee=$&&(B=(X=$.props)===null||X===void 0?void 0:X.endIndex)!==null&&B!==void 0?B:k,se=V!==N||ee!==k,me=!Ut(M),Ce=me&&!se?_.updateId:_.updateId+1;return Be(Be({updateId:Ce},x(Be(Be({props:S},_),{},{updateId:Ce,dataStartIndex:V,dataEndIndex:ee}),_)),{},{prevChildren:T,dataStartIndex:V,dataEndIndex:ee})}return null}),Wt(t,"renderActiveDot",function(S,_){var b;return fe.isValidElement(S)?b=fe.cloneElement(S,_):zt(S)?b=S(_):b=re.createElement(Gy,_),re.createElement(nn,{className:"recharts-active-dot",key:_.key},b)}),t},IO=xS({chartName:"LineChart",GraphicalChild:du,axisComponents:[{axisType:"xAxis",AxisComp:no},{axisType:"yAxis",AxisComp:Da}],formatAxisMap:wO}),mC=xS({chartName:"BarChart",GraphicalChild:eo,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:no},{axisType:"yAxis",AxisComp:Da}],formatAxisMap:wO}),Dse=xS({chartName:"PieChart",GraphicalChild:hu,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:hS},{axisType:"radiusAxis",AxisComp:cS}],formatAxisMap:ZQ,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),JH=xS({chartName:"ComposedChart",GraphicalChild:[du,Ic,eo,vS],axisComponents:[{axisType:"xAxis",AxisComp:no},{axisType:"yAxis",AxisComp:Da},{axisType:"zAxis",AxisComp:gS}],formatAxisMap:wO});const Lse=[{Year:1980,"Disaster Type":"Flood","Total Deaths":1600},{Year:1981,"Disaster Type":"Flood","Total Deaths":553},{Year:1982,"Disaster Type":"Flood","Total Deaths":932},{Year:1982,"Disaster Type":"Storm","Total Deaths":744},{Year:1983,"Disaster Type":"Storm","Total Deaths":682},{Year:1984,"Disaster Type":"Flood","Total Deaths":245},{Year:1984,"Disaster Type":"Storm","Total Deaths":524},{Year:1984,"Disaster Type":"Wildfire","Total Deaths":0},{Year:1985,"Disaster Type":"Extreme temperature","Total Deaths":225},{Year:1985,"Disaster Type":"Flood","Total Deaths":1298},{Year:1986,"Disaster Type":"Earthquake","Total Deaths":6},{Year:1986,"Disaster Type":"Flood","Total Deaths":237},{Year:1986,"Disaster Type":"Storm","Total Deaths":13},{Year:1987,"Disaster Type":"Flood","Total Deaths":1200},{Year:1988,"Disaster Type":"Earthquake","Total Deaths":382},{Year:1988,"Disaster Type":"Flood","Total Deaths":1250},{Year:1988,"Disaster Type":"Storm","Total Deaths":74},{Year:1995,"Disaster Type":"Flood","Total Deaths":1514},{Year:1995,"Disaster Type":"Mass movement (wet)","Total Deaths":40},{Year:1995,"Disaster Type":"Storm","Total Deaths":222},{Year:1996,"Disaster Type":"Air","Total Deaths":351},{Year:1996,"Disaster Type":"Drought","Total Deaths":0},{Year:1996,"Disaster Type":"Flood","Total Deaths":1044},{Year:1996,"Disaster Type":"Storm","Total Deaths":708},{Year:1997,"Disaster Type":"Earthquake","Total Deaths":43},{Year:1997,"Disaster Type":"Fire (Industrial)","Total Deaths":56},{Year:1997,"Disaster Type":"Flood","Total Deaths":246},{Year:1998,"Disaster Type":"Flood","Total Deaths":230},{Year:1998,"Disaster Type":"Storm","Total Deaths":3121},{Year:1999,"Disaster Type":"Earthquake","Total Deaths":100},{Year:1999,"Disaster Type":"Flood","Total Deaths":229},{Year:1999,"Disaster Type":"Storm","Total Deaths":10378},{Year:2e3,"Disaster Type":"Drought","Total Deaths":20},{Year:2e3,"Disaster Type":"Flood","Total Deaths":1930},{Year:2001,"Disaster Type":"Earthquake","Total Deaths":20005},{Year:2001,"Disaster Type":"Flood","Total Deaths":538},{Year:2002,"Disaster Type":"Drought","Total Deaths":0},{Year:2002,"Disaster Type":"Flood","Total Deaths":582},{Year:2002,"Disaster Type":"Storm","Total Deaths":9},{Year:2003,"Disaster Type":"Extreme temperature","Total Deaths":1210},{Year:2003,"Disaster Type":"Flood","Total Deaths":67},{Year:2003,"Disaster Type":"Storm","Total Deaths":80},{Year:2004,"Disaster Type":"Earthquake","Total Deaths":16389},{Year:2004,"Disaster Type":"Flood","Total Deaths":1110},{Year:2005,"Disaster Type":"Earthquake","Total Deaths":1309},{Year:2005,"Disaster Type":"Fire (Industrial)","Total Deaths":23},{Year:2005,"Disaster Type":"Flood","Total Deaths":1553},{Year:2005,"Disaster Type":"Mass movement (wet)","Total Deaths":250},{Year:2006,"Disaster Type":"Flood","Total Deaths":350},{Year:2007,"Disaster Type":"Flood","Total Deaths":124},{Year:2008,"Disaster Type":"Flood","Total Deaths":1147},{Year:2008,"Disaster Type":"Storm","Total Deaths":111},{Year:2009,"Disaster Type":"Explosion (Industrial)","Total Deaths":11},{Year:2009,"Disaster Type":"Flood","Total Deaths":1417},{Year:2009,"Disaster Type":"Storm","Total Deaths":20},{Year:2010,"Disaster Type":"Flood","Total Deaths":456},{Year:2011,"Disaster Type":"Flood","Total Deaths":378},{Year:2011,"Disaster Type":"Rail","Total Deaths":68},{Year:2011,"Disaster Type":"Storm","Total Deaths":47},{Year:2012,"Disaster Type":"Flood","Total Deaths":122},{Year:2013,"Disaster Type":"Earthquake","Total Deaths":3},{Year:2013,"Disaster Type":"Flood","Total Deaths":6300},{Year:2013,"Disaster Type":"Storm","Total Deaths":57},{Year:2014,"Disaster Type":"Flood","Total Deaths":502},{Year:2014,"Disaster Type":"Storm","Total Deaths":53},{Year:2015,"Disaster Type":"Drought","Total Deaths":0},{Year:2015,"Disaster Type":"Flood","Total Deaths":450},{Year:2015,"Disaster Type":"Storm","Total Deaths":128},{Year:2016,"Disaster Type":"Earthquake","Total Deaths":8},{Year:2016,"Disaster Type":"Flood","Total Deaths":595},{Year:2016,"Disaster Type":"Storm","Total Deaths":24},{Year:2017,"Disaster Type":"Flood","Total Deaths":812},{Year:2018,"Disaster Type":"Drought","Total Deaths":0},{Year:2018,"Disaster Type":"Flood","Total Deaths":531},{Year:2018,"Disaster Type":"Storm","Total Deaths":488},{Year:2019,"Disaster Type":"Flood","Total Deaths":1900},{Year:2019,"Disaster Type":"Storm","Total Deaths":50},{Year:2020,"Disaster Type":"Flood","Total Deaths":2103},{Year:2020,"Disaster Type":"Storm","Total Deaths":110},{Year:2021,"Disaster Type":"Flood","Total Deaths":1341},{Year:2021,"Disaster Type":"Glacial lake outburst flood","Total Deaths":234},{Year:2021,"Disaster Type":"Storm","Total Deaths":217},{Year:2022,"Disaster Type":"Flood","Total Deaths":2035},{Year:2023,"Disaster Type":"Flood","Total Deaths":62},{Year:2023,"Disaster Type":"Storm","Total Deaths":20},{Year:2024,"Disaster Type":"Landslide","Total Deaths":430},{Year:2024,"Disaster Type":"Flood","Total Deaths":142}],Nse=[{Year:1980,"Total Adjusted Damage":97021416e3},{Year:1981,"Total Adjusted Damage":68698206e3},{Year:1982,"Total Adjusted Damage":374244556e3},{Year:1983,"Total Adjusted Damage":148257558e3},{Year:1984,"Total Adjusted Damage":3054541e4},{Year:1985,"Total Adjusted Damage":22113022e4},{Year:1986,"Total Adjusted Damage":149091006e3},{Year:1987,"Total Adjusted Damage":119842672e3},{Year:1988,"Total Adjusted Damage":217976828e3},{Year:1995,"Total Adjusted Damage":5132954e4},{Year:1996,"Total Adjusted Damage":36202836e4},{Year:1997,"Total Adjusted Damage":4373962e4},{Year:1998,"Total Adjusted Damage":154442572e3},{Year:1999,"Total Adjusted Damage":44914721e4},{Year:2e3,"Total Adjusted Damage":216991106e3},{Year:2001,"Total Adjusted Damage":4211971e5},{Year:2002,"Total Adjusted Damage":133614162e3},{Year:2003,"Total Adjusted Damage":832587e5},{Year:2004,"Total Adjusted Damage":502506332e3},{Year:2005,"Total Adjusted Damage":978737896e3},{Year:2006,"Total Adjusted Damage":420161112e3},{Year:2007,"Total Adjusted Damage":4532755e4},{Year:2008,"Total Adjusted Damage":19728298e3},{Year:2009,"Total Adjusted Damage":34170138e4},{Year:2010,"Total Adjusted Damage":246239686e3},{Year:2011,"Total Adjusted Damage":225999708e3},{Year:2012,"Total Adjusted Damage":26553322e3},{Year:2013,"Total Adjusted Damage":254992858e3},{Year:2014,"Total Adjusted Damage":2476536038e3},{Year:2015,"Total Adjusted Damage":73254044e4},{Year:2016,"Total Adjusted Damage":267961732e3},{Year:2017,"Total Adjusted Damage":215790052e3},{Year:2018,"Total Adjusted Damage":607853864e3},{Year:2019,"Total Adjusted Damage":1154197724e3},{Year:2020,"Total Adjusted Damage":2551542832e3},{Year:2021,"Total Adjusted Damage":720143598e3},{Year:2022,"Total Adjusted Damage":358576898e3},{Year:2023,"Total Adjusted Damage":10496e6},{Year:2024,"Total Adjusted Damage":56045727e4}],Yu={secondary:"#22d3ee",grid:"#334155",text:"#f1f5f9",colors:{Flood:"#0ea5e9",Storm:"#8b5cf6",Earthquake:"#f97316",Other:"#64748b"}},kse=()=>Array.from({length:45},(e,t)=>1980+t).map(e=>{const t=Lse.filter(a=>a.Year===e),r=Nse.find(a=>a.Year===e),i={Flood:t.filter(a=>a["Disaster Type"]==="Flood").reduce((a,o)=>a+o["Total Deaths"],0),Storm:t.filter(a=>a["Disaster Type"]==="Storm").reduce((a,o)=>a+o["Total Deaths"],0),Earthquake:t.filter(a=>a["Disaster Type"]==="Earthquake").reduce((a,o)=>a+o["Total Deaths"],0),Other:t.filter(a=>!["Flood","Storm","Earthquake"].includes(a["Disaster Type"])).reduce((a,o)=>a+o["Total Deaths"],0)};return{year:e,...i,combinedCost:r?r["Total Adjusted Damage"]/1e7:0,totalDeaths:Object.values(i).reduce((a,o)=>a+o,0)}}),Use=({active:n,payload:e,label:t})=>n&&e&&e.length?oe.jsxs("div",{className:"bg-gray-800 border border-white/10 p-3 rounded shadow-xl",children:[oe.jsx("p",{className:"text-gray-300 mb-2",children:t}),e.map((r,i)=>oe.jsxs("div",{className:"text-sm",style:{color:r.color},children:[r.name,": ",r.name==="combinedCost"?`${r.value.toFixed(2)} Cr`:r.value]},i))]}):null,Fse=()=>{const[n]=fe.useState(kse()),[e,t]=fe.useState(null),r=a=>{t(a.activeLabel)},i=a=>`${a.toFixed(0)}Cr`;return oe.jsxs("div",{className:"w-full",children:[oe.jsxs("div",{className:"mb-6",children:[oe.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Climate Disaster Impact (1995-2023)"}),oe.jsx("p",{className:"text-gray-400 text-sm",children:"Lives lost and economic damage analysis"})]}),oe.jsx("div",{className:"h-[400px] w-full",children:oe.jsx(Gl,{width:"100%",height:"100%",children:oe.jsxs(JH,{data:n,onClick:r,children:[oe.jsx(Eh,{strokeDasharray:"3 3",stroke:Yu.grid,vertical:!1}),oe.jsx(no,{dataKey:"year",stroke:Yu.text,tick:{fontSize:12}}),oe.jsx(Da,{yAxisId:"left",orientation:"left",stroke:Yu.text,label:{value:"Deaths",angle:-90,position:"insideLeft",fill:Yu.text}}),oe.jsx(Da,{yAxisId:"right",orientation:"right",stroke:Yu.secondary,tickFormatter:i,width:80}),oe.jsx(pi,{content:oe.jsx(Use,{})}),oe.jsx(Po,{wrapperStyle:{paddingTop:"20px"}}),Object.keys(Yu.colors).map(a=>oe.jsx(eo,{dataKey:a,fill:Yu.colors[a],yAxisId:"left",stackId:"a"},a)),oe.jsx(du,{type:"monotone",dataKey:"combinedCost",yAxisId:"right",stroke:Yu.secondary,strokeWidth:3,dot:!1,name:"Economic Cost"})]})})}),e&&oe.jsxs("div",{className:"mt-6 p-4 bg-white/5 border border-white/10 rounded-lg animate-fade-in",children:[oe.jsxs("h3",{className:"text-lg font-bold text-white mb-2",children:["Year ",e," Breakdown"]}),oe.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[oe.jsxs("div",{children:[oe.jsx("span",{className:"text-gray-400 block",children:"Economic Cost"}),oe.jsx("span",{className:"text-secondary font-bold text-lg",children:i(n.find(a=>a.year===parseInt(e)).combinedCost)})]}),oe.jsxs("div",{children:[oe.jsx("span",{className:"text-gray-400 block",children:"Total Deaths"}),oe.jsx("span",{className:"text-white font-bold text-lg",children:n.find(a=>a.year===parseInt(e)).totalDeaths})]})]})]})]})},Bse=[{state:"Andhra Pradesh",deaths:4620},{state:"Uttar Pradesh",deaths:3399},{state:"Bihar",deaths:2240},{state:"Punjab",deaths:2007},{state:"Odisha",deaths:1860},{state:"Maharashtra",deaths:1660},{state:"West Bengal",deaths:1638},{state:"Telangana",deaths:1369},{state:"Rajasthan",deaths:1043},{state:"Madhya Pradesh",deaths:956},{state:"Tamil Nadu",deaths:907},{state:"Haryana",deaths:845},{state:"Gujarat",deaths:723},{state:"Delhi",deaths:643},{state:"Jharkhand",deaths:621},{state:"Chhattisgarh",deaths:208},{state:"Karnataka",deaths:173},{state:"Assam",deaths:100},{state:"Tripura",deaths:95},{state:"Kerala",deaths:81},{state:"Himachal Pradesh",deaths:54},{state:"Jammu & Kashmir",deaths:43},{state:"Uttarakhand",deaths:40},{state:"Arunachal Pradesh",deaths:26},{state:"Meghalaya",deaths:7},{state:"Goa",deaths:6},{state:"Mizoram",deaths:5},{state:"Nagaland",deaths:2},{state:"Manipur",deaths:1},{state:"Sikkim",deaths:1}],zse=[{state:"Uttar Pradesh",deaths:5013},{state:"Bihar",deaths:2850},{state:"Punjab",deaths:2643},{state:"Delhi",deaths:1743},{state:"Jharkhand",deaths:1226},{state:"Haryana",deaths:1175},{state:"Gujarat",deaths:737},{state:"Rajasthan",deaths:683},{state:"Himachal Pradesh",deaths:609},{state:"Madhya Pradesh",deaths:551},{state:"Maharashtra",deaths:508},{state:"Uttarakhand",deaths:451},{state:"West Bengal",deaths:282},{state:"Jammu & Kashmir",deaths:175},{state:"Odisha",deaths:166},{state:"Chhattisgarh",deaths:161},{state:"Tamil Nadu",deaths:105},{state:"Andhra Pradesh",deaths:57},{state:"Assam",deaths:20},{state:"Karnataka",deaths:9},{state:"Arunachal Pradesh",deaths:5},{state:"Tripura",deaths:5},{state:"Sikkim",deaths:4},{state:"Meghalaya",deaths:2},{state:"Manipur",deaths:1},{state:"Mizoram",deaths:1}],VF=[{name:"Cyclones",value:48},{name:"Heat Waves",value:26},{name:"Cold Waves",value:8},{name:"Flood",value:18}],jse=[{state:"Odisha",cyclones:10535,heatWaves:1860,coldWaves:166,flood:1250},{state:"Andhra Pradesh",cyclones:9939,heatWaves:4620,coldWaves:57,flood:1887},{state:"West Bengal",cyclones:8964,heatWaves:1638,coldWaves:282,flood:2848},{state:"Gujarat",cyclones:6307,heatWaves:723,coldWaves:737,flood:2255},{state:"Maharashtra",cyclones:2560,heatWaves:1660,coldWaves:508,flood:4006},{state:"Tamil Nadu",cyclones:1530,heatWaves:907,coldWaves:105,flood:676},{state:"Kerala",cyclones:298,heatWaves:81,coldWaves:0,flood:1e3},{state:"Karnataka",cyclones:159,heatWaves:173,coldWaves:9,flood:454},{state:"Goa",cyclones:5,heatWaves:6,coldWaves:0,flood:0},{state:"Assam",cyclones:0,heatWaves:100,coldWaves:20,flood:1024},{state:"Bihar",cyclones:0,heatWaves:2240,coldWaves:2850,flood:3542},{state:"Uttar Pradesh",cyclones:0,heatWaves:3399,coldWaves:5013,flood:3095},{state:"Delhi",cyclones:0,heatWaves:643,coldWaves:1743,flood:70},{state:"Haryana",cyclones:0,heatWaves:845,coldWaves:1175,flood:69},{state:"Punjab",cyclones:0,heatWaves:2007,coldWaves:2643,flood:815},{state:"Himachal Pradesh",cyclones:0,heatWaves:54,coldWaves:609,flood:421},{state:"Uttarakhand",cyclones:0,heatWaves:40,coldWaves:451,flood:701},{state:"Jammu & Kashmir",cyclones:0,heatWaves:43,coldWaves:175,flood:455},{state:"Rajasthan",cyclones:0,heatWaves:1043,coldWaves:683,flood:915},{state:"Madhya Pradesh",cyclones:0,heatWaves:956,coldWaves:551,flood:399},{state:"Chhattisgarh",cyclones:0,heatWaves:208,coldWaves:161,flood:86},{state:"Jharkhand",cyclones:0,heatWaves:621,coldWaves:1226,flood:55},{state:"Telangana",cyclones:0,heatWaves:1369,coldWaves:0,flood:0},{state:"Tripura",cyclones:0,heatWaves:95,coldWaves:5,flood:10},{state:"Meghalaya",cyclones:0,heatWaves:7,coldWaves:2,flood:83},{state:"Manipur",cyclones:0,heatWaves:1,coldWaves:1,flood:18},{state:"Nagaland",cyclones:0,heatWaves:2,coldWaves:0,flood:12},{state:"Mizoram",cyclones:0,heatWaves:5,coldWaves:1,flood:0},{state:"Sikkim",cyclones:0,heatWaves:1,coldWaves:4,flood:71},{state:"Arunachal Pradesh",cyclones:0,heatWaves:26,coldWaves:5,flood:139}],HF=["#38bdf8","#22d3ee","#f97316","#818cf8"],vx=({children:n,title:e})=>oe.jsxs("div",{className:"mb-12",children:[oe.jsx("h2",{className:"text-2xl font-bold mb-6 text-white border-l-4 border-primary pl-4",children:e}),oe.jsx("div",{className:"bg-gray-800/40 backdrop-blur-md border border-white/10 rounded-2xl p-6 shadow-xl",children:n})]}),Vse=()=>oe.jsxs("div",{className:"text-white mt-16",children:[oe.jsx("h1",{className:"text-3xl font-bold mb-8 font-heading text-center",children:"Climate Disaster Analysis (State-wise)"}),oe.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[oe.jsx(vx,{title:"Heat Wave Deaths by State",children:oe.jsx(Gl,{width:"100%",height:400,children:oe.jsxs(mC,{data:Bse,layout:"vertical",margin:{top:5,right:30,left:40,bottom:5},children:[oe.jsx(no,{type:"number",tick:{fill:"#94a3b8"}}),oe.jsx(Da,{dataKey:"state",type:"category",tick:{fill:"#f1f5f9",fontSize:12},width:100}),oe.jsx(pi,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #334155",borderRadius:"8px"},cursor:{fill:"transparent"}}),oe.jsx(eo,{dataKey:"deaths",fill:"#f97316",radius:[0,4,4,0]})]})})}),oe.jsx(vx,{title:"Cold Wave Deaths by State",children:oe.jsx(Gl,{width:"100%",height:400,children:oe.jsxs(mC,{data:zse,layout:"vertical",margin:{top:5,right:30,left:40,bottom:5},children:[oe.jsx(no,{type:"number",tick:{fill:"#94a3b8"}}),oe.jsx(Da,{dataKey:"state",type:"category",tick:{fill:"#f1f5f9",fontSize:12},width:100}),oe.jsx(pi,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #334155",borderRadius:"8px"},cursor:{fill:"transparent"}}),oe.jsx(eo,{dataKey:"deaths",fill:"#38bdf8",radius:[0,4,4,0]})]})})})]}),oe.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mt-4",children:[oe.jsx(vx,{title:"Human Life Loss Distribution",children:oe.jsx(Gl,{width:"100%",height:400,children:oe.jsxs(Dse,{children:[oe.jsx(hu,{data:VF,cx:"50%",cy:"50%",labelLine:!1,outerRadius:120,fill:"#8884d8",dataKey:"value",label:({name:n,percent:e})=>`${(e*100).toFixed(0)}%`,children:VF.map((n,e)=>oe.jsx(zy,{fill:HF[e%HF.length]},`cell-${e}`))}),oe.jsx(pi,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #334155",borderRadius:"8px"}}),oe.jsx(Po,{layout:"vertical",verticalAlign:"middle",align:"right"})]})})}),oe.jsx(vx,{title:"State-wise Disaster Distribution",children:oe.jsx(Gl,{width:"100%",height:400,children:oe.jsxs(JH,{layout:"vertical",data:jse,margin:{top:20,right:20,bottom:20,left:40},children:[oe.jsx(Eh,{stroke:"#334155",horizontal:!1}),oe.jsx(no,{type:"number",tick:{fill:"#94a3b8"}}),oe.jsx(Da,{dataKey:"state",type:"category",scale:"band",tick:{fill:"#f1f5f9",fontSize:12},width:100}),oe.jsx(pi,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #334155",borderRadius:"8px"}}),oe.jsx(Po,{}),oe.jsx(Ic,{dataKey:"flood",fill:"#38bdf8",stroke:"#38bdf8",fillOpacity:.3}),oe.jsx(eo,{dataKey:"heatWaves",barSize:20,fill:"#f97316",radius:[0,4,4,0]}),oe.jsx(eo,{dataKey:"cyclones",barSize:20,fill:"#22d3ee",radius:[0,4,4,0]})]})})})]})]}),Hse=({activeTab:n,onTabChange:e})=>{const[t,r]=fe.useState(!1),i=["home","research","visualizations","blogs"];return oe.jsxs("nav",{className:"sticky top-0 z-50 bg-dark-900/80 backdrop-blur-lg border-b border-white/10",children:[oe.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:oe.jsxs("div",{className:"flex items-center justify-between h-16",children:[oe.jsx("div",{className:"flex-shrink-0 flex items-center gap-2 cursor-pointer",onClick:()=>e("home"),children:oe.jsx("span",{className:"text-2xl font-bold font-heading bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent",children:"TheThirdPole"})}),oe.jsx("div",{className:"hidden md:block",children:oe.jsx("div",{className:"ml-10 flex items-baseline space-x-4",children:i.map(a=>oe.jsx("button",{onClick:()=>e(a),className:`px-3 py-2 rounded-md text-sm font-medium transition-all duration-300 ${n===a?"text-white bg-white/10 shadow-[0_0_10px_rgba(34,211,238,0.3)]":"text-gray-300 hover:text-white hover:bg-white/5"}`,children:a.charAt(0).toUpperCase()+a.slice(1)},a))})}),oe.jsx("div",{className:"-mr-2 flex md:hidden",children:oe.jsxs("button",{onClick:()=>r(!t),className:"bg-gray-800 inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 focus:outline-none",children:[oe.jsx("span",{className:"sr-only",children:"Open main menu"}),t?oe.jsx("svg",{className:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:oe.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}):oe.jsx("svg",{className:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:oe.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})]})})]})}),t&&oe.jsx("div",{className:"md:hidden bg-dark-900 border-b border-white/10",children:oe.jsx("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3",children:i.map(a=>oe.jsx("button",{onClick:()=>{e(a),r(!1)},className:`block w-full text-left px-3 py-2 rounded-md text-base font-medium ${n===a?"text-white bg-white/10":"text-gray-300 hover:text-white hover:bg-white/5"}`,children:a.charAt(0).toUpperCase()+a.slice(1)},a))})})]})},ps=({children:n,className:e=""})=>oe.jsx("div",{className:`bg-gray-800/40 backdrop-blur-md border border-white/10 rounded-2xl shadow-xl overflow-hidden ${e}`,children:n}),Wse=()=>oe.jsx("div",{className:"container mx-auto px-4 py-16",children:oe.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12 items-center",children:[oe.jsxs("div",{className:"space-y-6",children:[oe.jsxs("h2",{className:"text-3xl font-bold font-heading text-white",children:["About ",oe.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-primary to-secondary",children:"The Third Pole Project"})]}),oe.jsxs("div",{className:"text-gray-300 space-y-4 leading-relaxed text-lg",children:[oe.jsx("p",{children:"The Third Pole Project is an AI-powered weather forecasting and early disaster warning system that provides highly accurate predictions for governments, militaries, enterprises, and citizens worldwide. Using advanced deep learning techniques combined with numerical weather prediction, The Third Pole Project improves forecast horizons and resolution compared to conventional meteorology."}),oe.jsx("p",{children:"Our research focuses on weather across the Indian subcontinent, including extreme weather events, climate patterns, and their impacts on various sectors. Through our work, we aim to contribute to a better understanding of this crucial region and inform policy decisions for sustainable development and disaster mitigation."}),oe.jsx("p",{children:"Using the OpenBuildings dataset we aim to significantly enhance humanitarian response in the disaster prone areas."})]}),oe.jsx(ps,{className:"p-6 mt-8 border-l-4 border-primary",children:oe.jsx("p",{className:"text-white font-medium italic",children:'"Our mission is to provide accurate and timely information about climate changes in the Third Pole region, helping communities and policymakers make informed decisions."'})})]}),oe.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[oe.jsxs(ps,{className:"p-6 flex flex-col items-center justify-center text-center h-40",children:[oe.jsx("span",{className:"text-4xl font-bold text-primary mb-2",children:"AI"}),oe.jsx("span",{className:"text-sm text-gray-400",children:"Powered Forecasting"})]}),oe.jsxs(ps,{className:"p-6 flex flex-col items-center justify-center text-center h-40 mt-8",children:[oe.jsx("span",{className:"text-4xl font-bold text-secondary mb-2",children:"100%"}),oe.jsx("span",{className:"text-sm text-gray-400",children:"Data Driven"})]}),oe.jsxs(ps,{className:"p-6 flex flex-col items-center justify-center text-center h-40 -mt-8",children:[oe.jsx("span",{className:"text-4xl font-bold text-accent mb-2",children:"24/7"}),oe.jsx("span",{className:"text-sm text-gray-400",children:"Monitoring"})]}),oe.jsxs(ps,{className:"p-6 flex flex-col items-center justify-center text-center h-40",children:[oe.jsx("span",{className:"text-4xl font-bold text-white mb-2",children:"Global"}),oe.jsx("span",{className:"text-sm text-gray-400",children:"Impact"})]})]})]})});const Xy="160",Hf={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Wf={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},QH=0,gC=1,eW=2,Gse=3,tW=0,_S=1,pv=2,fs=3,ru=0,$i=1,vs=2,$se=2,Ql=0,ch=1,uy=2,vC=3,yC=4,nW=5,cc=100,rW=101,iW=102,xC=103,_C=104,aW=200,oW=201,sW=202,lW=203,Mb=204,Ab=205,uW=206,cW=207,fW=208,hW=209,dW=210,pW=211,mW=212,gW=213,vW=214,yW=0,xW=1,_W=2,cy=3,bW=4,SW=5,wW=6,MW=7,Yy=0,AW=1,TW=2,qs=0,EW=1,PW=2,CW=3,DO=4,OW=5,RW=6,bC="attached",IW="detached",bS=300,iu=301,Sc=302,fy=303,hy=304,vm=306,dy=1e3,Hi=1001,py=1002,Pr=1003,Tb=1004,qse=1004,mv=1005,Xse=1005,Cr=1006,LO=1007,Yse=1007,wc=1008,Kse=1008,Xs=1009,DW=1010,LW=1011,SS=1012,NO=1013,Yl=1014,ys=1015,Qp=1016,kO=1017,UO=1018,gc=1020,NW=1021,la=1023,kW=1024,UW=1025,vc=1026,bh=1027,FW=1028,FO=1029,BW=1030,BO=1031,zO=1033,y_=33776,x_=33777,__=33778,b_=33779,SC=35840,wC=35841,MC=35842,AC=35843,jO=36196,TC=37492,EC=37496,PC=37808,CC=37809,OC=37810,RC=37811,IC=37812,DC=37813,LC=37814,NC=37815,kC=37816,UC=37817,FC=37818,BC=37819,zC=37820,jC=37821,S_=36492,VC=36494,HC=36495,zW=36283,WC=36284,GC=36285,$C=36286,jW=2200,VW=2201,HW=2202,my=2300,gy=2301,w_=2302,th=2400,nh=2401,vy=2402,wS=2500,VO=2501,Zse=0,Jse=1,Qse=2,HO=3e3,yc=3001,WW=3200,GW=3201,Dc=0,$W=1,Qa="",Jr="srgb",Qs="srgb-linear",MS="display-p3",Ky="display-p3-linear",yy="linear",qn="srgb",xy="rec709",_y="p3",ele=0,Gf=7680,tle=7681,nle=7682,rle=7683,ile=34055,ale=34056,ole=5386,sle=512,lle=513,ule=514,cle=515,fle=516,hle=517,dle=518,qC=519,qW=512,XW=513,YW=514,WO=515,KW=516,ZW=517,JW=518,QW=519,by=35044,ple=35048,mle=35040,gle=35045,vle=35049,yle=35041,xle=35046,_le=35050,ble=35042,Sle="100",XC="300 es",Eb=1035,xs=2e3,em=2001;let pu=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const a=i.indexOf(t);a!==-1&&i.splice(a,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let a=0,o=i.length;a<o;a++)i[a].call(this,e);e.target=null}}};const Fi=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let WF=1234567;const fh=Math.PI/180,tm=180/Math.PI;function ro(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Fi[n&255]+Fi[n>>8&255]+Fi[n>>16&255]+Fi[n>>24&255]+"-"+Fi[e&255]+Fi[e>>8&255]+"-"+Fi[e>>16&15|64]+Fi[e>>24&255]+"-"+Fi[t&63|128]+Fi[t>>8&255]+"-"+Fi[t>>16&255]+Fi[t>>24&255]+Fi[r&255]+Fi[r>>8&255]+Fi[r>>16&255]+Fi[r>>24&255]).toLowerCase()}function br(n,e,t){return Math.max(e,Math.min(t,n))}function GO(n,e){return(n%e+e)%e}function wle(n,e,t,r,i){return r+(n-e)*(i-r)/(t-e)}function Mle(n,e,t){return n!==e?(t-n)/(e-n):0}function gv(n,e,t){return(1-t)*n+t*e}function Ale(n,e,t,r){return gv(n,e,1-Math.exp(-t*r))}function Tle(n,e=1){return e-Math.abs(GO(n,e*2)-e)}function Ele(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function Ple(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function Cle(n,e){return n+Math.floor(Math.random()*(e-n+1))}function Ole(n,e){return n+Math.random()*(e-n)}function Rle(n){return n*(.5-Math.random())}function Ile(n){n!==void 0&&(WF=n);let e=WF+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function Dle(n){return n*fh}function Lle(n){return n*tm}function YC(n){return(n&n-1)===0&&n!==0}function Nle(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function Pb(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function kle(n,e,t,r,i){const a=Math.cos,o=Math.sin,s=a(t/2),l=o(t/2),c=a((e+r)/2),f=o((e+r)/2),d=a((e-r)/2),m=o((e-r)/2),v=a((r-e)/2),x=o((r-e)/2);switch(i){case"XYX":n.set(s*f,l*d,l*m,s*c);break;case"YZY":n.set(l*m,s*f,l*d,s*c);break;case"ZXZ":n.set(l*d,l*m,s*f,s*c);break;case"XZX":n.set(s*f,l*x,l*v,s*c);break;case"YXY":n.set(l*v,s*f,l*x,s*c);break;case"ZYZ":n.set(l*x,l*v,s*f,s*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function Oa(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function un(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const Ule={DEG2RAD:fh,RAD2DEG:tm,generateUUID:ro,clamp:br,euclideanModulo:GO,mapLinear:wle,inverseLerp:Mle,lerp:gv,damp:Ale,pingpong:Tle,smoothstep:Ele,smootherstep:Ple,randInt:Cle,randFloat:Ole,randFloatSpread:Rle,seededRandom:Ile,degToRad:Dle,radToDeg:Lle,isPowerOfTwo:YC,ceilPowerOfTwo:Nle,floorPowerOfTwo:Pb,setQuaternionFromProperEuler:kle,normalize:un,denormalize:Oa};class Ie{constructor(e=0,t=0){Ie.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(br(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),i=Math.sin(t),a=this.x-e.x,o=this.y-e.y;return this.x=a*r-o*i+e.x,this.y=a*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class fn{constructor(e,t,r,i,a,o,s,l,c){fn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,r,i,a,o,s,l,c)}set(e,t,r,i,a,o,s,l,c){const f=this.elements;return f[0]=e,f[1]=i,f[2]=s,f[3]=t,f[4]=a,f[5]=l,f[6]=r,f[7]=o,f[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,a=this.elements,o=r[0],s=r[3],l=r[6],c=r[1],f=r[4],d=r[7],m=r[2],v=r[5],x=r[8],S=i[0],_=i[3],b=i[6],M=i[1],T=i[4],E=i[7],P=i[2],R=i[5],I=i[8];return a[0]=o*S+s*M+l*P,a[3]=o*_+s*T+l*R,a[6]=o*b+s*E+l*I,a[1]=c*S+f*M+d*P,a[4]=c*_+f*T+d*R,a[7]=c*b+f*E+d*I,a[2]=m*S+v*M+x*P,a[5]=m*_+v*T+x*R,a[8]=m*b+v*E+x*I,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],l=e[6],c=e[7],f=e[8];return t*o*f-t*s*c-r*a*f+r*s*l+i*a*c-i*o*l}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],l=e[6],c=e[7],f=e[8],d=f*o-s*c,m=s*l-f*a,v=c*a-o*l,x=t*d+r*m+i*v;if(x===0)return this.set(0,0,0,0,0,0,0,0,0);const S=1/x;return e[0]=d*S,e[1]=(i*c-f*r)*S,e[2]=(s*r-i*o)*S,e[3]=m*S,e[4]=(f*t-i*l)*S,e[5]=(i*a-s*t)*S,e[6]=v*S,e[7]=(r*l-c*t)*S,e[8]=(o*t-r*a)*S,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,a,o,s){const l=Math.cos(a),c=Math.sin(a);return this.set(r*l,r*c,-r*(l*o+c*s)+o+e,-i*c,i*l,-i*(-c*o+l*s)+s+t,0,0,1),this}scale(e,t){return this.premultiply(LT.makeScale(e,t)),this}rotate(e){return this.premultiply(LT.makeRotation(-e)),this}translate(e,t){return this.premultiply(LT.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,r,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const LT=new fn;function e8(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const Fle={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function pp(n,e){return new Fle[n](e)}function Sy(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function t8(){const n=Sy("canvas");return n.style.display="block",n}const GF={};function vv(n){n in GF||(GF[n]=!0,console.warn(n))}const $F=new fn().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),qF=new fn().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),yx={[Qs]:{transfer:yy,primaries:xy,toReference:n=>n,fromReference:n=>n},[Jr]:{transfer:qn,primaries:xy,toReference:n=>n.convertSRGBToLinear(),fromReference:n=>n.convertLinearToSRGB()},[Ky]:{transfer:yy,primaries:_y,toReference:n=>n.applyMatrix3(qF),fromReference:n=>n.applyMatrix3($F)},[MS]:{transfer:qn,primaries:_y,toReference:n=>n.convertSRGBToLinear().applyMatrix3(qF),fromReference:n=>n.applyMatrix3($F).convertLinearToSRGB()}},Ble=new Set([Qs,Ky]),In={enabled:!0,_workingColorSpace:Qs,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(n){if(!Ble.has(n))throw new Error(`Unsupported working color space, "${n}".`);this._workingColorSpace=n},convert:function(n,e,t){if(this.enabled===!1||e===t||!e||!t)return n;const r=yx[e].toReference,i=yx[t].fromReference;return i(r(n))},fromWorkingColorSpace:function(n,e){return this.convert(n,this._workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this._workingColorSpace)},getPrimaries:function(n){return yx[n].primaries},getTransfer:function(n){return n===Qa?yy:yx[n].transfer}};function Pp(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function NT(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let kd;class $O{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{kd===void 0&&(kd=Sy("canvas")),kd.width=e.width,kd.height=e.height;const r=kd.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=kd}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=Sy("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),a=i.data;for(let o=0;o<a.length;o++)a[o]=Pp(a[o]/255)*255;return r.putImageData(i,0,0),t}else if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[r]=Math.floor(Pp(t[r]/255)*255):t[r]=Pp(t[r]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let zle=0;class rh{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:zle++}),this.uuid=ro(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let a;if(Array.isArray(i)){a=[];for(let o=0,s=i.length;o<s;o++)i[o].isDataTexture?a.push(kT(i[o].image)):a.push(kT(i[o]))}else a=kT(i);r.url=a}return t||(e.images[this.uuid]=r),r}}function kT(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?$O.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let jle=0;class Sr extends pu{constructor(e=Sr.DEFAULT_IMAGE,t=Sr.DEFAULT_MAPPING,r=Hi,i=Hi,a=Cr,o=wc,s=la,l=Xs,c=Sr.DEFAULT_ANISOTROPY,f=Qa){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:jle++}),this.uuid=ro(),this.name="",this.source=new rh(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=a,this.minFilter=o,this.anisotropy=c,this.format=s,this.internalFormat=null,this.type=l,this.offset=new Ie(0,0),this.repeat=new Ie(1,1),this.center=new Ie(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new fn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof f=="string"?this.colorSpace=f:(vv("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=f===yc?Jr:Qa),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==bS)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case dy:e.x=e.x-Math.floor(e.x);break;case Hi:e.x=e.x<0?0:1;break;case py:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case dy:e.y=e.y-Math.floor(e.y);break;case Hi:e.y=e.y<0?0:1;break;case py:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return vv("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===Jr?yc:HO}set encoding(e){vv("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===yc?Jr:Qa}}Sr.DEFAULT_IMAGE=null;Sr.DEFAULT_MAPPING=bS;Sr.DEFAULT_ANISOTROPY=1;class Sn{constructor(e=0,t=0,r=0,i=1){Sn.prototype.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,a=this.w,o=e.elements;return this.x=o[0]*t+o[4]*r+o[8]*i+o[12]*a,this.y=o[1]*t+o[5]*r+o[9]*i+o[13]*a,this.z=o[2]*t+o[6]*r+o[10]*i+o[14]*a,this.w=o[3]*t+o[7]*r+o[11]*i+o[15]*a,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,a;const l=e.elements,c=l[0],f=l[4],d=l[8],m=l[1],v=l[5],x=l[9],S=l[2],_=l[6],b=l[10];if(Math.abs(f-m)<.01&&Math.abs(d-S)<.01&&Math.abs(x-_)<.01){if(Math.abs(f+m)<.1&&Math.abs(d+S)<.1&&Math.abs(x+_)<.1&&Math.abs(c+v+b-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const T=(c+1)/2,E=(v+1)/2,P=(b+1)/2,R=(f+m)/4,I=(d+S)/4,U=(x+_)/4;return T>E&&T>P?T<.01?(r=0,i=.707106781,a=.707106781):(r=Math.sqrt(T),i=R/r,a=I/r):E>P?E<.01?(r=.707106781,i=0,a=.707106781):(i=Math.sqrt(E),r=R/i,a=U/i):P<.01?(r=.707106781,i=.707106781,a=0):(a=Math.sqrt(P),r=I/a,i=U/a),this.set(r,i,a,t),this}let M=Math.sqrt((_-x)*(_-x)+(d-S)*(d-S)+(m-f)*(m-f));return Math.abs(M)<.001&&(M=1),this.x=(_-x)/M,this.y=(d-S)/M,this.z=(m-f)/M,this.w=Math.acos((c+v+b-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class n8 extends pu{constructor(e=1,t=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new Sn(0,0,e,t),this.scissorTest=!1,this.viewport=new Sn(0,0,e,t);const i={width:e,height:t,depth:1};r.encoding!==void 0&&(vv("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),r.colorSpace=r.encoding===yc?Jr:Qa),r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Cr,depthBuffer:!0,stencilBuffer:!1,depthTexture:null,samples:0},r),this.texture=new Sr(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps,this.texture.internalFormat=r.internalFormat,this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.depthTexture=r.depthTexture,this.samples=r.samples}setSize(e,t,r=1){(this.width!==e||this.height!==t||this.depth!==r)&&(this.width=e,this.height=t,this.depth=r,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new rh(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Ss extends n8{constructor(e=1,t=1,r={}){super(e,t,r),this.isWebGLRenderTarget=!0}}class AS extends Sr{constructor(e=null,t=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=Pr,this.minFilter=Pr,this.wrapR=Hi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Vle extends Ss{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new AS(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class qO extends Sr{constructor(e=null,t=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=Pr,this.minFilter=Pr,this.wrapR=Hi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Hle extends Ss{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new qO(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class Wle extends Ss{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isWebGLMultipleRenderTargets=!0;const a=this.texture;this.texture=[];for(let o=0;o<r;o++)this.texture[o]=a.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let i=0,a=this.texture.length;i<a;i++)this.texture[i].image.width=e,this.texture[i].image.height=t,this.texture[i].image.depth=r;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,r=e.texture.length;t<r;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class Rr{constructor(e=0,t=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=i}static slerpFlat(e,t,r,i,a,o,s){let l=r[i+0],c=r[i+1],f=r[i+2],d=r[i+3];const m=a[o+0],v=a[o+1],x=a[o+2],S=a[o+3];if(s===0){e[t+0]=l,e[t+1]=c,e[t+2]=f,e[t+3]=d;return}if(s===1){e[t+0]=m,e[t+1]=v,e[t+2]=x,e[t+3]=S;return}if(d!==S||l!==m||c!==v||f!==x){let _=1-s;const b=l*m+c*v+f*x+d*S,M=b>=0?1:-1,T=1-b*b;if(T>Number.EPSILON){const P=Math.sqrt(T),R=Math.atan2(P,b*M);_=Math.sin(_*R)/P,s=Math.sin(s*R)/P}const E=s*M;if(l=l*_+m*E,c=c*_+v*E,f=f*_+x*E,d=d*_+S*E,_===1-s){const P=1/Math.sqrt(l*l+c*c+f*f+d*d);l*=P,c*=P,f*=P,d*=P}}e[t]=l,e[t+1]=c,e[t+2]=f,e[t+3]=d}static multiplyQuaternionsFlat(e,t,r,i,a,o){const s=r[i],l=r[i+1],c=r[i+2],f=r[i+3],d=a[o],m=a[o+1],v=a[o+2],x=a[o+3];return e[t]=s*x+f*d+l*v-c*m,e[t+1]=l*x+f*m+c*d-s*v,e[t+2]=c*x+f*v+s*m-l*d,e[t+3]=f*x-s*d-l*m-c*v,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const r=e._x,i=e._y,a=e._z,o=e._order,s=Math.cos,l=Math.sin,c=s(r/2),f=s(i/2),d=s(a/2),m=l(r/2),v=l(i/2),x=l(a/2);switch(o){case"XYZ":this._x=m*f*d+c*v*x,this._y=c*v*d-m*f*x,this._z=c*f*x+m*v*d,this._w=c*f*d-m*v*x;break;case"YXZ":this._x=m*f*d+c*v*x,this._y=c*v*d-m*f*x,this._z=c*f*x-m*v*d,this._w=c*f*d+m*v*x;break;case"ZXY":this._x=m*f*d-c*v*x,this._y=c*v*d+m*f*x,this._z=c*f*x+m*v*d,this._w=c*f*d-m*v*x;break;case"ZYX":this._x=m*f*d-c*v*x,this._y=c*v*d+m*f*x,this._z=c*f*x-m*v*d,this._w=c*f*d+m*v*x;break;case"YZX":this._x=m*f*d+c*v*x,this._y=c*v*d+m*f*x,this._z=c*f*x-m*v*d,this._w=c*f*d-m*v*x;break;case"XZY":this._x=m*f*d-c*v*x,this._y=c*v*d-m*f*x,this._z=c*f*x+m*v*d,this._w=c*f*d+m*v*x;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],i=t[4],a=t[8],o=t[1],s=t[5],l=t[9],c=t[2],f=t[6],d=t[10],m=r+s+d;if(m>0){const v=.5/Math.sqrt(m+1);this._w=.25/v,this._x=(f-l)*v,this._y=(a-c)*v,this._z=(o-i)*v}else if(r>s&&r>d){const v=2*Math.sqrt(1+r-s-d);this._w=(f-l)/v,this._x=.25*v,this._y=(i+o)/v,this._z=(a+c)/v}else if(s>d){const v=2*Math.sqrt(1+s-r-d);this._w=(a-c)/v,this._x=(i+o)/v,this._y=.25*v,this._z=(l+f)/v}else{const v=2*Math.sqrt(1+d-r-s);this._w=(o-i)/v,this._x=(a+c)/v,this._y=(l+f)/v,this._z=.25*v}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(br(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,i=e._y,a=e._z,o=e._w,s=t._x,l=t._y,c=t._z,f=t._w;return this._x=r*f+o*s+i*c-a*l,this._y=i*f+o*l+a*s-r*c,this._z=a*f+o*c+r*l-i*s,this._w=o*f-r*s-i*l-a*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const r=this._x,i=this._y,a=this._z,o=this._w;let s=o*e._w+r*e._x+i*e._y+a*e._z;if(s<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,s=-s):this.copy(e),s>=1)return this._w=o,this._x=r,this._y=i,this._z=a,this;const l=1-s*s;if(l<=Number.EPSILON){const v=1-t;return this._w=v*o+t*this._w,this._x=v*r+t*this._x,this._y=v*i+t*this._y,this._z=v*a+t*this._z,this.normalize(),this}const c=Math.sqrt(l),f=Math.atan2(c,s),d=Math.sin((1-t)*f)/c,m=Math.sin(t*f)/c;return this._w=o*d+this._w*m,this._x=r*d+this._x*m,this._y=i*d+this._y*m,this._z=a*d+this._z*m,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=Math.random(),t=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),a=2*Math.PI*Math.random();return this.set(t*Math.cos(i),r*Math.sin(a),r*Math.cos(a),t*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Q{constructor(e=0,t=0,r=0){Q.prototype.isVector3=!0,this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(XF.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(XF.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,i=this.z,a=e.elements;return this.x=a[0]*t+a[3]*r+a[6]*i,this.y=a[1]*t+a[4]*r+a[7]*i,this.z=a[2]*t+a[5]*r+a[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,a=e.elements,o=1/(a[3]*t+a[7]*r+a[11]*i+a[15]);return this.x=(a[0]*t+a[4]*r+a[8]*i+a[12])*o,this.y=(a[1]*t+a[5]*r+a[9]*i+a[13])*o,this.z=(a[2]*t+a[6]*r+a[10]*i+a[14])*o,this}applyQuaternion(e){const t=this.x,r=this.y,i=this.z,a=e.x,o=e.y,s=e.z,l=e.w,c=2*(o*i-s*r),f=2*(s*t-a*i),d=2*(a*r-o*t);return this.x=t+l*c+o*d-s*f,this.y=r+l*f+s*c-a*d,this.z=i+l*d+a*f-o*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,i=this.z,a=e.elements;return this.x=a[0]*t+a[4]*r+a[8]*i,this.y=a[1]*t+a[5]*r+a[9]*i,this.z=a[2]*t+a[6]*r+a[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,i=e.y,a=e.z,o=t.x,s=t.y,l=t.z;return this.x=i*l-a*s,this.y=a*o-r*l,this.z=r*s-i*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return UT.copy(this).projectOnVector(e),this.sub(UT)}reflect(e){return this.sub(UT.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(br(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(t),this.y=r*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const UT=new Q,XF=new Rr;class pa{constructor(e=new Q(1/0,1/0,1/0),t=new Q(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t+=3)this.expandByPoint(as.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,r=e.count;t<r;t++)this.expandByPoint(as.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=as.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const a=r.getAttribute("position");if(t===!0&&a!==void 0&&e.isInstancedMesh!==!0)for(let o=0,s=a.count;o<s;o++)e.isMesh===!0?e.getVertexPosition(o,as):as.fromBufferAttribute(a,o),as.applyMatrix4(e.matrixWorld),this.expandByPoint(as);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),xx.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),xx.copy(r.boundingBox)),xx.applyMatrix4(e.matrixWorld),this.union(xx)}const i=e.children;for(let a=0,o=i.length;a<o;a++)this.expandByObject(i[a],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,as),as.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Og),_x.subVectors(this.max,Og),Ud.subVectors(e.a,Og),Fd.subVectors(e.b,Og),Bd.subVectors(e.c,Og),Ku.subVectors(Fd,Ud),Zu.subVectors(Bd,Fd),Cf.subVectors(Ud,Bd);let t=[0,-Ku.z,Ku.y,0,-Zu.z,Zu.y,0,-Cf.z,Cf.y,Ku.z,0,-Ku.x,Zu.z,0,-Zu.x,Cf.z,0,-Cf.x,-Ku.y,Ku.x,0,-Zu.y,Zu.x,0,-Cf.y,Cf.x,0];return!FT(t,Ud,Fd,Bd,_x)||(t=[1,0,0,0,1,0,0,0,1],!FT(t,Ud,Fd,Bd,_x))?!1:(bx.crossVectors(Ku,Zu),t=[bx.x,bx.y,bx.z],FT(t,Ud,Fd,Bd,_x))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,as).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(as).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Nl[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Nl[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Nl[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Nl[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Nl[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Nl[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Nl[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Nl[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Nl),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Nl=[new Q,new Q,new Q,new Q,new Q,new Q,new Q,new Q],as=new Q,xx=new pa,Ud=new Q,Fd=new Q,Bd=new Q,Ku=new Q,Zu=new Q,Cf=new Q,Og=new Q,_x=new Q,bx=new Q,Of=new Q;function FT(n,e,t,r,i){for(let a=0,o=n.length-3;a<=o;a+=3){Of.fromArray(n,a);const s=i.x*Math.abs(Of.x)+i.y*Math.abs(Of.y)+i.z*Math.abs(Of.z),l=e.dot(Of),c=t.dot(Of),f=r.dot(Of);if(Math.max(-Math.max(l,c,f),Math.min(l,c,f))>s)return!1}return!0}const Gle=new pa,Rg=new Q,BT=new Q;class qi{constructor(e=new Q,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;t!==void 0?r.copy(t):Gle.setFromPoints(e).getCenter(r);let i=0;for(let a=0,o=e.length;a<o;a++)i=Math.max(i,r.distanceToSquared(e[a]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Rg.subVectors(e,this.center);const t=Rg.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),i=(r-this.radius)*.5;this.center.addScaledVector(Rg,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(BT.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Rg.copy(e.center).add(BT)),this.expandByPoint(Rg.copy(e.center).sub(BT))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const kl=new Q,zT=new Q,Sx=new Q,Ju=new Q,jT=new Q,wx=new Q,VT=new Q;class Ph{constructor(e=new Q,t=new Q(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,kl)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=kl.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(kl.copy(this.origin).addScaledVector(this.direction,t),kl.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){zT.copy(e).add(t).multiplyScalar(.5),Sx.copy(t).sub(e).normalize(),Ju.copy(this.origin).sub(zT);const a=e.distanceTo(t)*.5,o=-this.direction.dot(Sx),s=Ju.dot(this.direction),l=-Ju.dot(Sx),c=Ju.lengthSq(),f=Math.abs(1-o*o);let d,m,v,x;if(f>0)if(d=o*l-s,m=o*s-l,x=a*f,d>=0)if(m>=-x)if(m<=x){const S=1/f;d*=S,m*=S,v=d*(d+o*m+2*s)+m*(o*d+m+2*l)+c}else m=a,d=Math.max(0,-(o*m+s)),v=-d*d+m*(m+2*l)+c;else m=-a,d=Math.max(0,-(o*m+s)),v=-d*d+m*(m+2*l)+c;else m<=-x?(d=Math.max(0,-(-o*a+s)),m=d>0?-a:Math.min(Math.max(-a,-l),a),v=-d*d+m*(m+2*l)+c):m<=x?(d=0,m=Math.min(Math.max(-a,-l),a),v=m*(m+2*l)+c):(d=Math.max(0,-(o*a+s)),m=d>0?a:Math.min(Math.max(-a,-l),a),v=-d*d+m*(m+2*l)+c);else m=o>0?-a:a,d=Math.max(0,-(o*m+s)),v=-d*d+m*(m+2*l)+c;return r&&r.copy(this.origin).addScaledVector(this.direction,d),i&&i.copy(zT).addScaledVector(Sx,m),v}intersectSphere(e,t){kl.subVectors(e.center,this.origin);const r=kl.dot(this.direction),i=kl.dot(kl)-r*r,a=e.radius*e.radius;if(i>a)return null;const o=Math.sqrt(a-i),s=r-o,l=r+o;return l<0?null:s<0?this.at(l,t):this.at(s,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,a,o,s,l;const c=1/this.direction.x,f=1/this.direction.y,d=1/this.direction.z,m=this.origin;return c>=0?(r=(e.min.x-m.x)*c,i=(e.max.x-m.x)*c):(r=(e.max.x-m.x)*c,i=(e.min.x-m.x)*c),f>=0?(a=(e.min.y-m.y)*f,o=(e.max.y-m.y)*f):(a=(e.max.y-m.y)*f,o=(e.min.y-m.y)*f),r>o||a>i||((a>r||isNaN(r))&&(r=a),(o<i||isNaN(i))&&(i=o),d>=0?(s=(e.min.z-m.z)*d,l=(e.max.z-m.z)*d):(s=(e.max.z-m.z)*d,l=(e.min.z-m.z)*d),r>l||s>i)||((s>r||r!==r)&&(r=s),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,t)}intersectsBox(e){return this.intersectBox(e,kl)!==null}intersectTriangle(e,t,r,i,a){jT.subVectors(t,e),wx.subVectors(r,e),VT.crossVectors(jT,wx);let o=this.direction.dot(VT),s;if(o>0){if(i)return null;s=1}else if(o<0)s=-1,o=-o;else return null;Ju.subVectors(this.origin,e);const l=s*this.direction.dot(wx.crossVectors(Ju,wx));if(l<0)return null;const c=s*this.direction.dot(jT.cross(Ju));if(c<0||l+c>o)return null;const f=-s*Ju.dot(VT);return f<0?null:this.at(f/o,a)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class jt{constructor(e,t,r,i,a,o,s,l,c,f,d,m,v,x,S,_){jt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,r,i,a,o,s,l,c,f,d,m,v,x,S,_)}set(e,t,r,i,a,o,s,l,c,f,d,m,v,x,S,_){const b=this.elements;return b[0]=e,b[4]=t,b[8]=r,b[12]=i,b[1]=a,b[5]=o,b[9]=s,b[13]=l,b[2]=c,b[6]=f,b[10]=d,b[14]=m,b[3]=v,b[7]=x,b[11]=S,b[15]=_,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new jt().fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,i=1/zd.setFromMatrixColumn(e,0).length(),a=1/zd.setFromMatrixColumn(e,1).length(),o=1/zd.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*a,t[5]=r[5]*a,t[6]=r[6]*a,t[7]=0,t[8]=r[8]*o,t[9]=r[9]*o,t[10]=r[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,r=e.x,i=e.y,a=e.z,o=Math.cos(r),s=Math.sin(r),l=Math.cos(i),c=Math.sin(i),f=Math.cos(a),d=Math.sin(a);if(e.order==="XYZ"){const m=o*f,v=o*d,x=s*f,S=s*d;t[0]=l*f,t[4]=-l*d,t[8]=c,t[1]=v+x*c,t[5]=m-S*c,t[9]=-s*l,t[2]=S-m*c,t[6]=x+v*c,t[10]=o*l}else if(e.order==="YXZ"){const m=l*f,v=l*d,x=c*f,S=c*d;t[0]=m+S*s,t[4]=x*s-v,t[8]=o*c,t[1]=o*d,t[5]=o*f,t[9]=-s,t[2]=v*s-x,t[6]=S+m*s,t[10]=o*l}else if(e.order==="ZXY"){const m=l*f,v=l*d,x=c*f,S=c*d;t[0]=m-S*s,t[4]=-o*d,t[8]=x+v*s,t[1]=v+x*s,t[5]=o*f,t[9]=S-m*s,t[2]=-o*c,t[6]=s,t[10]=o*l}else if(e.order==="ZYX"){const m=o*f,v=o*d,x=s*f,S=s*d;t[0]=l*f,t[4]=x*c-v,t[8]=m*c+S,t[1]=l*d,t[5]=S*c+m,t[9]=v*c-x,t[2]=-c,t[6]=s*l,t[10]=o*l}else if(e.order==="YZX"){const m=o*l,v=o*c,x=s*l,S=s*c;t[0]=l*f,t[4]=S-m*d,t[8]=x*d+v,t[1]=d,t[5]=o*f,t[9]=-s*f,t[2]=-c*f,t[6]=v*d+x,t[10]=m-S*d}else if(e.order==="XZY"){const m=o*l,v=o*c,x=s*l,S=s*c;t[0]=l*f,t[4]=-d,t[8]=c*f,t[1]=m*d+S,t[5]=o*f,t[9]=v*d-x,t[2]=x*d-v,t[6]=s*f,t[10]=S*d+m}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose($le,e,qle)}lookAt(e,t,r){const i=this.elements;return qa.subVectors(e,t),qa.lengthSq()===0&&(qa.z=1),qa.normalize(),Qu.crossVectors(r,qa),Qu.lengthSq()===0&&(Math.abs(r.z)===1?qa.x+=1e-4:qa.z+=1e-4,qa.normalize(),Qu.crossVectors(r,qa)),Qu.normalize(),Mx.crossVectors(qa,Qu),i[0]=Qu.x,i[4]=Mx.x,i[8]=qa.x,i[1]=Qu.y,i[5]=Mx.y,i[9]=qa.y,i[2]=Qu.z,i[6]=Mx.z,i[10]=qa.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,a=this.elements,o=r[0],s=r[4],l=r[8],c=r[12],f=r[1],d=r[5],m=r[9],v=r[13],x=r[2],S=r[6],_=r[10],b=r[14],M=r[3],T=r[7],E=r[11],P=r[15],R=i[0],I=i[4],U=i[8],N=i[12],k=i[1],z=i[5],G=i[9],K=i[13],H=i[2],te=i[6],J=i[10],ie=i[14],B=i[3],X=i[7],$=i[11],V=i[15];return a[0]=o*R+s*k+l*H+c*B,a[4]=o*I+s*z+l*te+c*X,a[8]=o*U+s*G+l*J+c*$,a[12]=o*N+s*K+l*ie+c*V,a[1]=f*R+d*k+m*H+v*B,a[5]=f*I+d*z+m*te+v*X,a[9]=f*U+d*G+m*J+v*$,a[13]=f*N+d*K+m*ie+v*V,a[2]=x*R+S*k+_*H+b*B,a[6]=x*I+S*z+_*te+b*X,a[10]=x*U+S*G+_*J+b*$,a[14]=x*N+S*K+_*ie+b*V,a[3]=M*R+T*k+E*H+P*B,a[7]=M*I+T*z+E*te+P*X,a[11]=M*U+T*G+E*J+P*$,a[15]=M*N+T*K+E*ie+P*V,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],i=e[8],a=e[12],o=e[1],s=e[5],l=e[9],c=e[13],f=e[2],d=e[6],m=e[10],v=e[14],x=e[3],S=e[7],_=e[11],b=e[15];return x*(+a*l*d-i*c*d-a*s*m+r*c*m+i*s*v-r*l*v)+S*(+t*l*v-t*c*m+a*o*m-i*o*v+i*c*f-a*l*f)+_*(+t*c*d-t*s*v-a*o*d+r*o*v+a*s*f-r*c*f)+b*(-i*s*f-t*l*d+t*s*m+i*o*d-r*o*m+r*l*f)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],l=e[6],c=e[7],f=e[8],d=e[9],m=e[10],v=e[11],x=e[12],S=e[13],_=e[14],b=e[15],M=d*_*c-S*m*c+S*l*v-s*_*v-d*l*b+s*m*b,T=x*m*c-f*_*c-x*l*v+o*_*v+f*l*b-o*m*b,E=f*S*c-x*d*c+x*s*v-o*S*v-f*s*b+o*d*b,P=x*d*l-f*S*l-x*s*m+o*S*m+f*s*_-o*d*_,R=t*M+r*T+i*E+a*P;if(R===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const I=1/R;return e[0]=M*I,e[1]=(S*m*a-d*_*a-S*i*v+r*_*v+d*i*b-r*m*b)*I,e[2]=(s*_*a-S*l*a+S*i*c-r*_*c-s*i*b+r*l*b)*I,e[3]=(d*l*a-s*m*a-d*i*c+r*m*c+s*i*v-r*l*v)*I,e[4]=T*I,e[5]=(f*_*a-x*m*a+x*i*v-t*_*v-f*i*b+t*m*b)*I,e[6]=(x*l*a-o*_*a-x*i*c+t*_*c+o*i*b-t*l*b)*I,e[7]=(o*m*a-f*l*a+f*i*c-t*m*c-o*i*v+t*l*v)*I,e[8]=E*I,e[9]=(x*d*a-f*S*a-x*r*v+t*S*v+f*r*b-t*d*b)*I,e[10]=(o*S*a-x*s*a+x*r*c-t*S*c-o*r*b+t*s*b)*I,e[11]=(f*s*a-o*d*a-f*r*c+t*d*c+o*r*v-t*s*v)*I,e[12]=P*I,e[13]=(f*S*i-x*d*i+x*r*m-t*S*m-f*r*_+t*d*_)*I,e[14]=(x*s*i-o*S*i-x*r*l+t*S*l+o*r*_-t*s*_)*I,e[15]=(o*d*i-f*s*i+f*r*l-t*d*l-o*r*m+t*s*m)*I,this}scale(e){const t=this.elements,r=e.x,i=e.y,a=e.z;return t[0]*=r,t[4]*=i,t[8]*=a,t[1]*=r,t[5]*=i,t[9]*=a,t[2]*=r,t[6]*=i,t[10]*=a,t[3]*=r,t[7]*=i,t[11]*=a,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,i))}makeTranslation(e,t,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),i=Math.sin(t),a=1-r,o=e.x,s=e.y,l=e.z,c=a*o,f=a*s;return this.set(c*o+r,c*s-i*l,c*l+i*s,0,c*s+i*l,f*s+r,f*l-i*o,0,c*l-i*s,f*l+i*o,a*l*l+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,a,o){return this.set(1,r,a,0,e,1,o,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){const i=this.elements,a=t._x,o=t._y,s=t._z,l=t._w,c=a+a,f=o+o,d=s+s,m=a*c,v=a*f,x=a*d,S=o*f,_=o*d,b=s*d,M=l*c,T=l*f,E=l*d,P=r.x,R=r.y,I=r.z;return i[0]=(1-(S+b))*P,i[1]=(v+E)*P,i[2]=(x-T)*P,i[3]=0,i[4]=(v-E)*R,i[5]=(1-(m+b))*R,i[6]=(_+M)*R,i[7]=0,i[8]=(x+T)*I,i[9]=(_-M)*I,i[10]=(1-(m+S))*I,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){const i=this.elements;let a=zd.set(i[0],i[1],i[2]).length();const o=zd.set(i[4],i[5],i[6]).length(),s=zd.set(i[8],i[9],i[10]).length();this.determinant()<0&&(a=-a),e.x=i[12],e.y=i[13],e.z=i[14],os.copy(this);const c=1/a,f=1/o,d=1/s;return os.elements[0]*=c,os.elements[1]*=c,os.elements[2]*=c,os.elements[4]*=f,os.elements[5]*=f,os.elements[6]*=f,os.elements[8]*=d,os.elements[9]*=d,os.elements[10]*=d,t.setFromRotationMatrix(os),r.x=a,r.y=o,r.z=s,this}makePerspective(e,t,r,i,a,o,s=xs){const l=this.elements,c=2*a/(t-e),f=2*a/(r-i),d=(t+e)/(t-e),m=(r+i)/(r-i);let v,x;if(s===xs)v=-(o+a)/(o-a),x=-2*o*a/(o-a);else if(s===em)v=-o/(o-a),x=-o*a/(o-a);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+s);return l[0]=c,l[4]=0,l[8]=d,l[12]=0,l[1]=0,l[5]=f,l[9]=m,l[13]=0,l[2]=0,l[6]=0,l[10]=v,l[14]=x,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,t,r,i,a,o,s=xs){const l=this.elements,c=1/(t-e),f=1/(r-i),d=1/(o-a),m=(t+e)*c,v=(r+i)*f;let x,S;if(s===xs)x=(o+a)*d,S=-2*d;else if(s===em)x=a*d,S=-1*d;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+s);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-m,l[1]=0,l[5]=2*f,l[9]=0,l[13]=-v,l[2]=0,l[6]=0,l[10]=S,l[14]=-x,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}const zd=new Q,os=new jt,$le=new Q(0,0,0),qle=new Q(1,1,1),Qu=new Q,Mx=new Q,qa=new Q,YF=new jt,KF=new Rr;class ym{constructor(e=0,t=0,r=0,i=ym.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,i=this._order){return this._x=e,this._y=t,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){const i=e.elements,a=i[0],o=i[4],s=i[8],l=i[1],c=i[5],f=i[9],d=i[2],m=i[6],v=i[10];switch(t){case"XYZ":this._y=Math.asin(br(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-f,v),this._z=Math.atan2(-o,a)):(this._x=Math.atan2(m,c),this._z=0);break;case"YXZ":this._x=Math.asin(-br(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(s,v),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-d,a),this._z=0);break;case"ZXY":this._x=Math.asin(br(m,-1,1)),Math.abs(m)<.9999999?(this._y=Math.atan2(-d,v),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,a));break;case"ZYX":this._y=Math.asin(-br(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(m,v),this._z=Math.atan2(l,a)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(br(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-f,c),this._y=Math.atan2(-d,a)):(this._x=0,this._y=Math.atan2(s,v));break;case"XZY":this._z=Math.asin(-br(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(m,c),this._y=Math.atan2(s,a)):(this._x=Math.atan2(-f,v),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return YF.makeRotationFromQuaternion(e),this.setFromRotationMatrix(YF,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return KF.setFromEuler(this),this.setFromQuaternion(KF,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}ym.DEFAULT_ORDER="XYZ";class hh{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let Xle=0;const ZF=new Q,jd=new Rr,Ul=new jt,Ax=new Q,Ig=new Q,Yle=new Q,Kle=new Rr,JF=new Q(1,0,0),QF=new Q(0,1,0),eB=new Q(0,0,1),Zle={type:"added"},Jle={type:"removed"};class Mn extends pu{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Xle++}),this.uuid=ro(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Mn.DEFAULT_UP.clone();const e=new Q,t=new ym,r=new Rr,i=new Q(1,1,1);function a(){r.setFromEuler(t,!1)}function o(){t.setFromQuaternion(r,void 0,!1)}t._onChange(a),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new jt},normalMatrix:{value:new fn}}),this.matrix=new jt,this.matrixWorld=new jt,this.matrixAutoUpdate=Mn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Mn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new hh,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return jd.setFromAxisAngle(e,t),this.quaternion.multiply(jd),this}rotateOnWorldAxis(e,t){return jd.setFromAxisAngle(e,t),this.quaternion.premultiply(jd),this}rotateX(e){return this.rotateOnAxis(JF,e)}rotateY(e){return this.rotateOnAxis(QF,e)}rotateZ(e){return this.rotateOnAxis(eB,e)}translateOnAxis(e,t){return ZF.copy(e).applyQuaternion(this.quaternion),this.position.add(ZF.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(JF,e)}translateY(e){return this.translateOnAxis(QF,e)}translateZ(e){return this.translateOnAxis(eB,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Ul.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?Ax.copy(e):Ax.set(e,t,r);const i=this.parent;this.updateWorldMatrix(!0,!1),Ig.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Ul.lookAt(Ig,Ax,this.up):Ul.lookAt(Ax,Ig,this.up),this.quaternion.setFromRotationMatrix(Ul),i&&(Ul.extractRotation(i.matrixWorld),jd.setFromRotationMatrix(Ul),this.quaternion.premultiply(jd.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(Zle)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(Jle)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Ul.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Ul.multiply(e.parent.matrixWorld)),e.applyMatrix4(Ul),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t,r=[]){this[e]===t&&r.push(this);const i=this.children;for(let a=0,o=i.length;a<o;a++)i[a].getObjectsByProperty(e,t,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ig,e,Yle),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ig,Kle,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let r=0,i=t.length;r<i;r++){const a=t[r];(a.matrixWorldAutoUpdate===!0||e===!0)&&a.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const i=this.children;for(let a=0,o=i.length;a<o;a++){const s=i[a];s.matrixWorldAutoUpdate===!0&&s.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.visibility=this._visibility,i.active=this._active,i.bounds=this._bounds.map(s=>({boxInitialized:s.boxInitialized,boxMin:s.box.min.toArray(),boxMax:s.box.max.toArray(),sphereInitialized:s.sphereInitialized,sphereRadius:s.sphere.radius,sphereCenter:s.sphere.center.toArray()})),i.maxGeometryCount=this._maxGeometryCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.geometryCount=this._geometryCount,i.matricesTexture=this._matricesTexture.toJSON(e),this.boundingSphere!==null&&(i.boundingSphere={center:i.boundingSphere.center.toArray(),radius:i.boundingSphere.radius}),this.boundingBox!==null&&(i.boundingBox={min:i.boundingBox.min.toArray(),max:i.boundingBox.max.toArray()}));function a(s,l){return s[l.uuid]===void 0&&(s[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=a(e.geometries,this.geometry);const s=this.geometry.parameters;if(s!==void 0&&s.shapes!==void 0){const l=s.shapes;if(Array.isArray(l))for(let c=0,f=l.length;c<f;c++){const d=l[c];a(e.shapes,d)}else a(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(a(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const s=[];for(let l=0,c=this.material.length;l<c;l++)s.push(a(e.materials,this.material[l]));i.material=s}else i.material=a(e.materials,this.material);if(this.children.length>0){i.children=[];for(let s=0;s<this.children.length;s++)i.children.push(this.children[s].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let s=0;s<this.animations.length;s++){const l=this.animations[s];i.animations.push(a(e.animations,l))}}if(t){const s=o(e.geometries),l=o(e.materials),c=o(e.textures),f=o(e.images),d=o(e.shapes),m=o(e.skeletons),v=o(e.animations),x=o(e.nodes);s.length>0&&(r.geometries=s),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),f.length>0&&(r.images=f),d.length>0&&(r.shapes=d),m.length>0&&(r.skeletons=m),v.length>0&&(r.animations=v),x.length>0&&(r.nodes=x)}return r.object=i,r;function o(s){const l=[];for(const c in s){const f=s[c];delete f.metadata,l.push(f)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}Mn.DEFAULT_UP=new Q(0,1,0);Mn.DEFAULT_MATRIX_AUTO_UPDATE=!0;Mn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const ss=new Q,Fl=new Q,HT=new Q,Bl=new Q,Vd=new Q,Hd=new Q,tB=new Q,WT=new Q,GT=new Q,$T=new Q;let Tx=!1;class Ca{constructor(e=new Q,t=new Q,r=new Q){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){i.subVectors(r,t),ss.subVectors(e,t),i.cross(ss);const a=i.lengthSq();return a>0?i.multiplyScalar(1/Math.sqrt(a)):i.set(0,0,0)}static getBarycoord(e,t,r,i,a){ss.subVectors(i,t),Fl.subVectors(r,t),HT.subVectors(e,t);const o=ss.dot(ss),s=ss.dot(Fl),l=ss.dot(HT),c=Fl.dot(Fl),f=Fl.dot(HT),d=o*c-s*s;if(d===0)return a.set(0,0,0),null;const m=1/d,v=(c*l-s*f)*m,x=(o*f-s*l)*m;return a.set(1-v-x,x,v)}static containsPoint(e,t,r,i){return this.getBarycoord(e,t,r,i,Bl)===null?!1:Bl.x>=0&&Bl.y>=0&&Bl.x+Bl.y<=1}static getUV(e,t,r,i,a,o,s,l){return Tx===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),Tx=!0),this.getInterpolation(e,t,r,i,a,o,s,l)}static getInterpolation(e,t,r,i,a,o,s,l){return this.getBarycoord(e,t,r,i,Bl)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(a,Bl.x),l.addScaledVector(o,Bl.y),l.addScaledVector(s,Bl.z),l)}static isFrontFacing(e,t,r,i){return ss.subVectors(r,t),Fl.subVectors(e,t),ss.cross(Fl).dot(i)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,r,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return ss.subVectors(this.c,this.b),Fl.subVectors(this.a,this.b),ss.cross(Fl).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Ca.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Ca.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,r,i,a){return Tx===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),Tx=!0),Ca.getInterpolation(e,this.a,this.b,this.c,t,r,i,a)}getInterpolation(e,t,r,i,a){return Ca.getInterpolation(e,this.a,this.b,this.c,t,r,i,a)}containsPoint(e){return Ca.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Ca.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,i=this.b,a=this.c;let o,s;Vd.subVectors(i,r),Hd.subVectors(a,r),WT.subVectors(e,r);const l=Vd.dot(WT),c=Hd.dot(WT);if(l<=0&&c<=0)return t.copy(r);GT.subVectors(e,i);const f=Vd.dot(GT),d=Hd.dot(GT);if(f>=0&&d<=f)return t.copy(i);const m=l*d-f*c;if(m<=0&&l>=0&&f<=0)return o=l/(l-f),t.copy(r).addScaledVector(Vd,o);$T.subVectors(e,a);const v=Vd.dot($T),x=Hd.dot($T);if(x>=0&&v<=x)return t.copy(a);const S=v*c-l*x;if(S<=0&&c>=0&&x<=0)return s=c/(c-x),t.copy(r).addScaledVector(Hd,s);const _=f*x-v*d;if(_<=0&&d-f>=0&&v-x>=0)return tB.subVectors(a,i),s=(d-f)/(d-f+(v-x)),t.copy(i).addScaledVector(tB,s);const b=1/(_+S+m);return o=S*b,s=m*b,t.copy(r).addScaledVector(Vd,o).addScaledVector(Hd,s)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const r8={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},ec={h:0,s:0,l:0},Ex={h:0,s:0,l:0};function qT(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class ft{constructor(e,t,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,r)}set(e,t,r){if(t===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,t,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Jr){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,In.toWorkingColorSpace(this,t),this}setRGB(e,t,r,i=In.workingColorSpace){return this.r=e,this.g=t,this.b=r,In.toWorkingColorSpace(this,i),this}setHSL(e,t,r,i=In.workingColorSpace){if(e=GO(e,1),t=br(t,0,1),r=br(r,0,1),t===0)this.r=this.g=this.b=r;else{const a=r<=.5?r*(1+t):r+t-r*t,o=2*r-a;this.r=qT(o,a,e+1/3),this.g=qT(o,a,e),this.b=qT(o,a,e-1/3)}return In.toWorkingColorSpace(this,i),this}setStyle(e,t=Jr){function r(a){a!==void 0&&parseFloat(a)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let a;const o=i[1],s=i[2];switch(o){case"rgb":case"rgba":if(a=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(a[4]),this.setRGB(Math.min(255,parseInt(a[1],10))/255,Math.min(255,parseInt(a[2],10))/255,Math.min(255,parseInt(a[3],10))/255,t);if(a=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(a[4]),this.setRGB(Math.min(100,parseInt(a[1],10))/100,Math.min(100,parseInt(a[2],10))/100,Math.min(100,parseInt(a[3],10))/100,t);break;case"hsl":case"hsla":if(a=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(a[4]),this.setHSL(parseFloat(a[1])/360,parseFloat(a[2])/100,parseFloat(a[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const a=i[1],o=a.length;if(o===3)return this.setRGB(parseInt(a.charAt(0),16)/15,parseInt(a.charAt(1),16)/15,parseInt(a.charAt(2),16)/15,t);if(o===6)return this.setHex(parseInt(a,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=Jr){const r=r8[e.toLowerCase()];return r!==void 0?this.setHex(r,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Pp(e.r),this.g=Pp(e.g),this.b=Pp(e.b),this}copyLinearToSRGB(e){return this.r=NT(e.r),this.g=NT(e.g),this.b=NT(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Jr){return In.fromWorkingColorSpace(Bi.copy(this),e),Math.round(br(Bi.r*255,0,255))*65536+Math.round(br(Bi.g*255,0,255))*256+Math.round(br(Bi.b*255,0,255))}getHexString(e=Jr){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=In.workingColorSpace){In.fromWorkingColorSpace(Bi.copy(this),t);const r=Bi.r,i=Bi.g,a=Bi.b,o=Math.max(r,i,a),s=Math.min(r,i,a);let l,c;const f=(s+o)/2;if(s===o)l=0,c=0;else{const d=o-s;switch(c=f<=.5?d/(o+s):d/(2-o-s),o){case r:l=(i-a)/d+(i<a?6:0);break;case i:l=(a-r)/d+2;break;case a:l=(r-i)/d+4;break}l/=6}return e.h=l,e.s=c,e.l=f,e}getRGB(e,t=In.workingColorSpace){return In.fromWorkingColorSpace(Bi.copy(this),t),e.r=Bi.r,e.g=Bi.g,e.b=Bi.b,e}getStyle(e=Jr){In.fromWorkingColorSpace(Bi.copy(this),e);const t=Bi.r,r=Bi.g,i=Bi.b;return e!==Jr?`color(${e} ${t.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,t,r){return this.getHSL(ec),this.setHSL(ec.h+e,ec.s+t,ec.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(ec),e.getHSL(Ex);const r=gv(ec.h,Ex.h,t),i=gv(ec.s,Ex.s,t),a=gv(ec.l,Ex.l,t);return this.setHSL(r,i,a),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,r=this.g,i=this.b,a=e.elements;return this.r=a[0]*t+a[3]*r+a[6]*i,this.g=a[1]*t+a[4]*r+a[7]*i,this.b=a[2]*t+a[5]*r+a[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Bi=new ft;ft.NAMES=r8;let Qle=0;class Ci extends pu{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Qle++}),this.uuid=ro(),this.name="",this.type="Material",this.blending=ch,this.side=ru,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=Mb,this.blendDst=Ab,this.blendEquation=cc,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new ft(0,0,0),this.blendAlpha=0,this.depthFunc=cy,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=qC,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Gf,this.stencilZFail=Gf,this.stencilZPass=Gf,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const r=e[t];if(r===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const i=this[t];if(i===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==ch&&(r.blending=this.blending),this.side!==ru&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==Mb&&(r.blendSrc=this.blendSrc),this.blendDst!==Ab&&(r.blendDst=this.blendDst),this.blendEquation!==cc&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==cy&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==qC&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Gf&&(r.stencilFail=this.stencilFail),this.stencilZFail!==Gf&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==Gf&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(a){const o=[];for(const s in a){const l=a[s];delete l.metadata,o.push(l)}return o}if(t){const a=i(e.textures),o=i(e.images);a.length>0&&(r.textures=a),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(t!==null){const i=t.length;r=new Array(i);for(let a=0;a!==i;++a)r[a]=t[a].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Lc extends Ci{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new ft(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Yy,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Wl=eue();function eue(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):c<-14?(r[l]=1024>>-c-14,r[l|256]=1024>>-c-14|32768,i[l]=-c-1,i[l|256]=-c-1):c<=15?(r[l]=c+15<<10,r[l|256]=c+15<<10|32768,i[l]=13,i[l|256]=13):c<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const a=new Uint32Array(2048),o=new Uint32Array(64),s=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,f=0;for(;(c&8388608)===0;)c<<=1,f-=8388608;c&=-8388609,f+=947912704,a[l]=c|f}for(let l=1024;l<2048;++l)a[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(s[l]=1024);return{floatView:e,uint32View:t,baseTable:r,shiftTable:i,mantissaTable:a,exponentTable:o,offsetTable:s}}function Pa(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=br(n,-65504,65504),Wl.floatView[0]=n;const e=Wl.uint32View[0],t=e>>23&511;return Wl.baseTable[t]+((e&8388607)>>Wl.shiftTable[t])}function nv(n){const e=n>>10;return Wl.uint32View[0]=Wl.mantissaTable[Wl.offsetTable[e]+(n&1023)]+Wl.exponentTable[e],Wl.floatView[0]}const tue={toHalfFloat:Pa,fromHalfFloat:nv},Fr=new Q,Px=new Ie;class Dn{constructor(e,t,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r,this.usage=by,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=ys,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return console.warn("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,a=this.itemSize;i<a;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)Px.fromBufferAttribute(this,t),Px.applyMatrix3(e),this.setXY(t,Px.x,Px.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)Fr.fromBufferAttribute(this,t),Fr.applyMatrix3(e),this.setXYZ(t,Fr.x,Fr.y,Fr.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)Fr.fromBufferAttribute(this,t),Fr.applyMatrix4(e),this.setXYZ(t,Fr.x,Fr.y,Fr.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Fr.fromBufferAttribute(this,t),Fr.applyNormalMatrix(e),this.setXYZ(t,Fr.x,Fr.y,Fr.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Fr.fromBufferAttribute(this,t),Fr.transformDirection(e),this.setXYZ(t,Fr.x,Fr.y,Fr.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let r=this.array[e*this.itemSize+t];return this.normalized&&(r=Oa(r,this.array)),r}setComponent(e,t,r){return this.normalized&&(r=un(r,this.array)),this.array[e*this.itemSize+t]=r,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Oa(t,this.array)),t}setX(e,t){return this.normalized&&(t=un(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Oa(t,this.array)),t}setY(e,t){return this.normalized&&(t=un(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Oa(t,this.array)),t}setZ(e,t){return this.normalized&&(t=un(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Oa(t,this.array)),t}setW(e,t){return this.normalized&&(t=un(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=un(t,this.array),r=un(r,this.array)),this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=un(t,this.array),r=un(r,this.array),i=un(i,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,a){return e*=this.itemSize,this.normalized&&(t=un(t,this.array),r=un(r,this.array),i=un(i,this.array),a=un(a,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=a,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==by&&(e.usage=this.usage),e}}class nue extends Dn{constructor(e,t,r){super(new Int8Array(e),t,r)}}class rue extends Dn{constructor(e,t,r){super(new Uint8Array(e),t,r)}}class iue extends Dn{constructor(e,t,r){super(new Uint8ClampedArray(e),t,r)}}class aue extends Dn{constructor(e,t,r){super(new Int16Array(e),t,r)}}class XO extends Dn{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class oue extends Dn{constructor(e,t,r){super(new Int32Array(e),t,r)}}class YO extends Dn{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class sue extends Dn{constructor(e,t,r){super(new Uint16Array(e),t,r),this.isFloat16BufferAttribute=!0}getX(e){let t=nv(this.array[e*this.itemSize]);return this.normalized&&(t=Oa(t,this.array)),t}setX(e,t){return this.normalized&&(t=un(t,this.array)),this.array[e*this.itemSize]=Pa(t),this}getY(e){let t=nv(this.array[e*this.itemSize+1]);return this.normalized&&(t=Oa(t,this.array)),t}setY(e,t){return this.normalized&&(t=un(t,this.array)),this.array[e*this.itemSize+1]=Pa(t),this}getZ(e){let t=nv(this.array[e*this.itemSize+2]);return this.normalized&&(t=Oa(t,this.array)),t}setZ(e,t){return this.normalized&&(t=un(t,this.array)),this.array[e*this.itemSize+2]=Pa(t),this}getW(e){let t=nv(this.array[e*this.itemSize+3]);return this.normalized&&(t=Oa(t,this.array)),t}setW(e,t){return this.normalized&&(t=un(t,this.array)),this.array[e*this.itemSize+3]=Pa(t),this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=un(t,this.array),r=un(r,this.array)),this.array[e+0]=Pa(t),this.array[e+1]=Pa(r),this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=un(t,this.array),r=un(r,this.array),i=un(i,this.array)),this.array[e+0]=Pa(t),this.array[e+1]=Pa(r),this.array[e+2]=Pa(i),this}setXYZW(e,t,r,i,a){return e*=this.itemSize,this.normalized&&(t=un(t,this.array),r=un(r,this.array),i=un(i,this.array),a=un(a,this.array)),this.array[e+0]=Pa(t),this.array[e+1]=Pa(r),this.array[e+2]=Pa(i),this.array[e+3]=Pa(a),this}}class At extends Dn{constructor(e,t,r){super(new Float32Array(e),t,r)}}class lue extends Dn{constructor(e,t,r){super(new Float64Array(e),t,r)}}let uue=0;const xo=new jt,XT=new Mn,Wd=new Q,Xa=new pa,Dg=new pa,fi=new Q;class cn extends pu{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:uue++}),this.uuid=ro(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(e8(e)?YO:XO)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const a=new fn().getNormalMatrix(e);r.applyNormalMatrix(a),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return xo.makeRotationFromQuaternion(e),this.applyMatrix4(xo),this}rotateX(e){return xo.makeRotationX(e),this.applyMatrix4(xo),this}rotateY(e){return xo.makeRotationY(e),this.applyMatrix4(xo),this}rotateZ(e){return xo.makeRotationZ(e),this.applyMatrix4(xo),this}translate(e,t,r){return xo.makeTranslation(e,t,r),this.applyMatrix4(xo),this}scale(e,t,r){return xo.makeScale(e,t,r),this.applyMatrix4(xo),this}lookAt(e){return XT.lookAt(e),XT.updateMatrix(),this.applyMatrix4(XT.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Wd).negate(),this.translate(Wd.x,Wd.y,Wd.z),this}setFromPoints(e){const t=[];for(let r=0,i=e.length;r<i;r++){const a=e[r];t.push(a.x,a.y,a.z||0)}return this.setAttribute("position",new At(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new pa);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new Q(-1/0,-1/0,-1/0),new Q(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,i=t.length;r<i;r++){const a=t[r];Xa.setFromBufferAttribute(a),this.morphTargetsRelative?(fi.addVectors(this.boundingBox.min,Xa.min),this.boundingBox.expandByPoint(fi),fi.addVectors(this.boundingBox.max,Xa.max),this.boundingBox.expandByPoint(fi)):(this.boundingBox.expandByPoint(Xa.min),this.boundingBox.expandByPoint(Xa.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new qi);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new Q,1/0);return}if(e){const r=this.boundingSphere.center;if(Xa.setFromBufferAttribute(e),t)for(let a=0,o=t.length;a<o;a++){const s=t[a];Dg.setFromBufferAttribute(s),this.morphTargetsRelative?(fi.addVectors(Xa.min,Dg.min),Xa.expandByPoint(fi),fi.addVectors(Xa.max,Dg.max),Xa.expandByPoint(fi)):(Xa.expandByPoint(Dg.min),Xa.expandByPoint(Dg.max))}Xa.getCenter(r);let i=0;for(let a=0,o=e.count;a<o;a++)fi.fromBufferAttribute(e,a),i=Math.max(i,r.distanceToSquared(fi));if(t)for(let a=0,o=t.length;a<o;a++){const s=t[a],l=this.morphTargetsRelative;for(let c=0,f=s.count;c<f;c++)fi.fromBufferAttribute(s,c),l&&(Wd.fromBufferAttribute(e,c),fi.add(Wd)),i=Math.max(i,r.distanceToSquared(fi))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=t.position.array,a=t.normal.array,o=t.uv.array,s=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Dn(new Float32Array(4*s),4));const l=this.getAttribute("tangent").array,c=[],f=[];for(let k=0;k<s;k++)c[k]=new Q,f[k]=new Q;const d=new Q,m=new Q,v=new Q,x=new Ie,S=new Ie,_=new Ie,b=new Q,M=new Q;function T(k,z,G){d.fromArray(i,k*3),m.fromArray(i,z*3),v.fromArray(i,G*3),x.fromArray(o,k*2),S.fromArray(o,z*2),_.fromArray(o,G*2),m.sub(d),v.sub(d),S.sub(x),_.sub(x);const K=1/(S.x*_.y-_.x*S.y);isFinite(K)&&(b.copy(m).multiplyScalar(_.y).addScaledVector(v,-S.y).multiplyScalar(K),M.copy(v).multiplyScalar(S.x).addScaledVector(m,-_.x).multiplyScalar(K),c[k].add(b),c[z].add(b),c[G].add(b),f[k].add(M),f[z].add(M),f[G].add(M))}let E=this.groups;E.length===0&&(E=[{start:0,count:r.length}]);for(let k=0,z=E.length;k<z;++k){const G=E[k],K=G.start,H=G.count;for(let te=K,J=K+H;te<J;te+=3)T(r[te+0],r[te+1],r[te+2])}const P=new Q,R=new Q,I=new Q,U=new Q;function N(k){I.fromArray(a,k*3),U.copy(I);const z=c[k];P.copy(z),P.sub(I.multiplyScalar(I.dot(z))).normalize(),R.crossVectors(U,z);const K=R.dot(f[k])<0?-1:1;l[k*4]=P.x,l[k*4+1]=P.y,l[k*4+2]=P.z,l[k*4+3]=K}for(let k=0,z=E.length;k<z;++k){const G=E[k],K=G.start,H=G.count;for(let te=K,J=K+H;te<J;te+=3)N(r[te+0]),N(r[te+1]),N(r[te+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Dn(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let m=0,v=r.count;m<v;m++)r.setXYZ(m,0,0,0);const i=new Q,a=new Q,o=new Q,s=new Q,l=new Q,c=new Q,f=new Q,d=new Q;if(e)for(let m=0,v=e.count;m<v;m+=3){const x=e.getX(m+0),S=e.getX(m+1),_=e.getX(m+2);i.fromBufferAttribute(t,x),a.fromBufferAttribute(t,S),o.fromBufferAttribute(t,_),f.subVectors(o,a),d.subVectors(i,a),f.cross(d),s.fromBufferAttribute(r,x),l.fromBufferAttribute(r,S),c.fromBufferAttribute(r,_),s.add(f),l.add(f),c.add(f),r.setXYZ(x,s.x,s.y,s.z),r.setXYZ(S,l.x,l.y,l.z),r.setXYZ(_,c.x,c.y,c.z)}else for(let m=0,v=t.count;m<v;m+=3)i.fromBufferAttribute(t,m+0),a.fromBufferAttribute(t,m+1),o.fromBufferAttribute(t,m+2),f.subVectors(o,a),d.subVectors(i,a),f.cross(d),r.setXYZ(m+0,f.x,f.y,f.z),r.setXYZ(m+1,f.x,f.y,f.z),r.setXYZ(m+2,f.x,f.y,f.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)fi.fromBufferAttribute(e,t),fi.normalize(),e.setXYZ(t,fi.x,fi.y,fi.z)}toNonIndexed(){function e(s,l){const c=s.array,f=s.itemSize,d=s.normalized,m=new c.constructor(l.length*f);let v=0,x=0;for(let S=0,_=l.length;S<_;S++){s.isInterleavedBufferAttribute?v=l[S]*s.data.stride+s.offset:v=l[S]*f;for(let b=0;b<f;b++)m[x++]=c[v++]}return new Dn(m,f,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new cn,r=this.index.array,i=this.attributes;for(const s in i){const l=i[s],c=e(l,r);t.setAttribute(s,c)}const a=this.morphAttributes;for(const s in a){const l=[],c=a[s];for(let f=0,d=c.length;f<d;f++){const m=c[f],v=e(m,r);l.push(v)}t.morphAttributes[s]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let s=0,l=o.length;s<l;s++){const c=o[s];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let a=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],f=[];for(let d=0,m=c.length;d<m;d++){const v=c[d];f.push(v.toJSON(e.data))}f.length>0&&(i[l]=f,a=!0)}a&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const s=this.boundingSphere;return s!==null&&(e.data.boundingSphere={center:s.center.toArray(),radius:s.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(t));const i=e.attributes;for(const c in i){const f=i[c];this.setAttribute(c,f.clone(t))}const a=e.morphAttributes;for(const c in a){const f=[],d=a[c];for(let m=0,v=d.length;m<v;m++)f.push(d[m].clone(t));this.morphAttributes[c]=f}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,f=o.length;c<f;c++){const d=o[c];this.addGroup(d.start,d.count,d.materialIndex)}const s=e.boundingBox;s!==null&&(this.boundingBox=s.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const nB=new jt,Rf=new Ph,Cx=new qi,rB=new Q,Gd=new Q,$d=new Q,qd=new Q,YT=new Q,Ox=new Q,Rx=new Ie,Ix=new Ie,Dx=new Ie,iB=new Q,aB=new Q,oB=new Q,Lx=new Q,Nx=new Q;class ei extends Mn{constructor(e=new cn,t=new Lc){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=i.length;a<o;a++){const s=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=a}}}}getVertexPosition(e,t){const r=this.geometry,i=r.attributes.position,a=r.morphAttributes.position,o=r.morphTargetsRelative;t.fromBufferAttribute(i,e);const s=this.morphTargetInfluences;if(a&&s){Ox.set(0,0,0);for(let l=0,c=a.length;l<c;l++){const f=s[l],d=a[l];f!==0&&(YT.fromBufferAttribute(d,e),o?Ox.addScaledVector(YT,f):Ox.addScaledVector(YT.sub(t),f))}t.add(Ox)}return t}raycast(e,t){const r=this.geometry,i=this.material,a=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),Cx.copy(r.boundingSphere),Cx.applyMatrix4(a),Rf.copy(e.ray).recast(e.near),!(Cx.containsPoint(Rf.origin)===!1&&(Rf.intersectSphere(Cx,rB)===null||Rf.origin.distanceToSquared(rB)>(e.far-e.near)**2))&&(nB.copy(a).invert(),Rf.copy(e.ray).applyMatrix4(nB),!(r.boundingBox!==null&&Rf.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,t,Rf)))}_computeIntersections(e,t,r){let i;const a=this.geometry,o=this.material,s=a.index,l=a.attributes.position,c=a.attributes.uv,f=a.attributes.uv1,d=a.attributes.normal,m=a.groups,v=a.drawRange;if(s!==null)if(Array.isArray(o))for(let x=0,S=m.length;x<S;x++){const _=m[x],b=o[_.materialIndex],M=Math.max(_.start,v.start),T=Math.min(s.count,Math.min(_.start+_.count,v.start+v.count));for(let E=M,P=T;E<P;E+=3){const R=s.getX(E),I=s.getX(E+1),U=s.getX(E+2);i=kx(this,b,e,r,c,f,d,R,I,U),i&&(i.faceIndex=Math.floor(E/3),i.face.materialIndex=_.materialIndex,t.push(i))}}else{const x=Math.max(0,v.start),S=Math.min(s.count,v.start+v.count);for(let _=x,b=S;_<b;_+=3){const M=s.getX(_),T=s.getX(_+1),E=s.getX(_+2);i=kx(this,o,e,r,c,f,d,M,T,E),i&&(i.faceIndex=Math.floor(_/3),t.push(i))}}else if(l!==void 0)if(Array.isArray(o))for(let x=0,S=m.length;x<S;x++){const _=m[x],b=o[_.materialIndex],M=Math.max(_.start,v.start),T=Math.min(l.count,Math.min(_.start+_.count,v.start+v.count));for(let E=M,P=T;E<P;E+=3){const R=E,I=E+1,U=E+2;i=kx(this,b,e,r,c,f,d,R,I,U),i&&(i.faceIndex=Math.floor(E/3),i.face.materialIndex=_.materialIndex,t.push(i))}}else{const x=Math.max(0,v.start),S=Math.min(l.count,v.start+v.count);for(let _=x,b=S;_<b;_+=3){const M=_,T=_+1,E=_+2;i=kx(this,o,e,r,c,f,d,M,T,E),i&&(i.faceIndex=Math.floor(_/3),t.push(i))}}}}function cue(n,e,t,r,i,a,o,s){let l;if(e.side===$i?l=r.intersectTriangle(o,a,i,!0,s):l=r.intersectTriangle(i,a,o,e.side===ru,s),l===null)return null;Nx.copy(s),Nx.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(Nx);return c<t.near||c>t.far?null:{distance:c,point:Nx.clone(),object:n}}function kx(n,e,t,r,i,a,o,s,l,c){n.getVertexPosition(s,Gd),n.getVertexPosition(l,$d),n.getVertexPosition(c,qd);const f=cue(n,e,t,r,Gd,$d,qd,Lx);if(f){i&&(Rx.fromBufferAttribute(i,s),Ix.fromBufferAttribute(i,l),Dx.fromBufferAttribute(i,c),f.uv=Ca.getInterpolation(Lx,Gd,$d,qd,Rx,Ix,Dx,new Ie)),a&&(Rx.fromBufferAttribute(a,s),Ix.fromBufferAttribute(a,l),Dx.fromBufferAttribute(a,c),f.uv1=Ca.getInterpolation(Lx,Gd,$d,qd,Rx,Ix,Dx,new Ie),f.uv2=f.uv1),o&&(iB.fromBufferAttribute(o,s),aB.fromBufferAttribute(o,l),oB.fromBufferAttribute(o,c),f.normal=Ca.getInterpolation(Lx,Gd,$d,qd,iB,aB,oB,new Q),f.normal.dot(r.direction)>0&&f.normal.multiplyScalar(-1));const d={a:s,b:l,c,normal:new Q,materialIndex:0};Ca.getNormal(Gd,$d,qd,d.normal),f.face=d}return f}class Ch extends cn{constructor(e=1,t=1,r=1,i=1,a=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:a,depthSegments:o};const s=this;i=Math.floor(i),a=Math.floor(a),o=Math.floor(o);const l=[],c=[],f=[],d=[];let m=0,v=0;x("z","y","x",-1,-1,r,t,e,o,a,0),x("z","y","x",1,-1,r,t,-e,o,a,1),x("x","z","y",1,1,e,r,t,i,o,2),x("x","z","y",1,-1,e,r,-t,i,o,3),x("x","y","z",1,-1,e,t,r,i,a,4),x("x","y","z",-1,-1,e,t,-r,i,a,5),this.setIndex(l),this.setAttribute("position",new At(c,3)),this.setAttribute("normal",new At(f,3)),this.setAttribute("uv",new At(d,2));function x(S,_,b,M,T,E,P,R,I,U,N){const k=E/I,z=P/U,G=E/2,K=P/2,H=R/2,te=I+1,J=U+1;let ie=0,B=0;const X=new Q;for(let $=0;$<J;$++){const V=$*z-K;for(let ee=0;ee<te;ee++){const se=ee*k-G;X[S]=se*M,X[_]=V*T,X[b]=H,c.push(X.x,X.y,X.z),X[S]=0,X[_]=0,X[b]=R>0?1:-1,f.push(X.x,X.y,X.z),d.push(ee/I),d.push(1-$/U),ie+=1}}for(let $=0;$<U;$++)for(let V=0;V<I;V++){const ee=m+V+te*$,se=m+V+te*($+1),me=m+(V+1)+te*($+1),Ce=m+(V+1)+te*$;l.push(ee,se,Ce),l.push(se,me,Ce),B+=6}s.addGroup(v,B,N),v+=B,m+=ie}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ch(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function nm(n){const e={};for(const t in n){e[t]={};for(const r in n[t]){const i=n[t][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][r]=null):e[t][r]=i.clone():Array.isArray(i)?e[t][r]=i.slice():e[t][r]=i}}return e}function sa(n){const e={};for(let t=0;t<n.length;t++){const r=nm(n[t]);for(const i in r)e[i]=r[i]}return e}function fue(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function i8(n){return n.getRenderTarget()===null?n.outputColorSpace:In.workingColorSpace}const a8={clone:nm,merge:sa};var hue=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,due=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ws extends Ci{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=hue,this.fragmentShader=due,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1,clipCullDistance:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=nm(e.uniforms),this.uniformsGroups=fue(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?t.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[i]={type:"m4",value:o.toArray()}:t.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}class Zy extends Mn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new jt,this.projectionMatrix=new jt,this.projectionMatrixInverse=new jt,this.coordinateSystem=xs}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class Or extends Zy{constructor(e=50,t=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=tm*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(fh*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return tm*2*Math.atan(Math.tan(fh*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,r,i,a,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=a,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(fh*.5*this.fov)/this.zoom,r=2*t,i=this.aspect*r,a=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;a+=o.offsetX*i/l,t-=o.offsetY*r/c,i*=o.width/l,r*=o.height/c}const s=this.filmOffset;s!==0&&(a+=e*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+i,t,t-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Xd=-90,Yd=1;class o8 extends Mn{constructor(e,t,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new Or(Xd,Yd,e,t);i.layers=this.layers,this.add(i);const a=new Or(Xd,Yd,e,t);a.layers=this.layers,this.add(a);const o=new Or(Xd,Yd,e,t);o.layers=this.layers,this.add(o);const s=new Or(Xd,Yd,e,t);s.layers=this.layers,this.add(s);const l=new Or(Xd,Yd,e,t);l.layers=this.layers,this.add(l);const c=new Or(Xd,Yd,e,t);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[r,i,a,o,s,l]=t;for(const c of t)this.remove(c);if(e===xs)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),a.up.set(0,0,-1),a.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),s.up.set(0,1,0),s.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===em)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),a.up.set(0,0,1),a.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),s.up.set(0,-1,0),s.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of t)this.add(c),c.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[a,o,s,l,c,f]=this.children,d=e.getRenderTarget(),m=e.getActiveCubeFace(),v=e.getActiveMipmapLevel(),x=e.xr.enabled;e.xr.enabled=!1;const S=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(t,a),e.setRenderTarget(r,1,i),e.render(t,o),e.setRenderTarget(r,2,i),e.render(t,s),e.setRenderTarget(r,3,i),e.render(t,l),e.setRenderTarget(r,4,i),e.render(t,c),r.texture.generateMipmaps=S,e.setRenderTarget(r,5,i),e.render(t,f),e.setRenderTarget(d,m,v),e.xr.enabled=x,r.texture.needsPMREMUpdate=!0}}class Jy extends Sr{constructor(e,t,r,i,a,o,s,l,c,f){e=e!==void 0?e:[],t=t!==void 0?t:iu,super(e,t,r,i,a,o,s,l,c,f),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class s8 extends Ss{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];t.encoding!==void 0&&(vv("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),t.colorSpace=t.encoding===yc?Jr:Qa),this.texture=new Jy(i,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:Cr}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Ch(5,5,5),a=new ws({name:"CubemapFromEquirect",uniforms:nm(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:$i,blending:Ql});a.uniforms.tEquirect.value=t;const o=new ei(i,a),s=t.minFilter;return t.minFilter===wc&&(t.minFilter=Cr),new o8(1,10,this).update(e,o),t.minFilter=s,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,r,i){const a=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,r,i);e.setRenderTarget(a)}}const KT=new Q,pue=new Q,mue=new fn;class Hl{constructor(e=new Q(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const i=KT.subVectors(r,t).cross(pue.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const r=e.delta(KT),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const a=-(e.start.dot(this.normal)+this.constant)/i;return a<0||a>1?null:t.copy(e.start).addScaledVector(r,a)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||mue.getNormalMatrix(e),i=this.coplanarPoint(KT).applyMatrix4(e),a=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(a),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const If=new qi,Ux=new Q;class Qy{constructor(e=new Hl,t=new Hl,r=new Hl,i=new Hl,a=new Hl,o=new Hl){this.planes=[e,t,r,i,a,o]}set(e,t,r,i,a,o){const s=this.planes;return s[0].copy(e),s[1].copy(t),s[2].copy(r),s[3].copy(i),s[4].copy(a),s[5].copy(o),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,t=xs){const r=this.planes,i=e.elements,a=i[0],o=i[1],s=i[2],l=i[3],c=i[4],f=i[5],d=i[6],m=i[7],v=i[8],x=i[9],S=i[10],_=i[11],b=i[12],M=i[13],T=i[14],E=i[15];if(r[0].setComponents(l-a,m-c,_-v,E-b).normalize(),r[1].setComponents(l+a,m+c,_+v,E+b).normalize(),r[2].setComponents(l+o,m+f,_+x,E+M).normalize(),r[3].setComponents(l-o,m-f,_-x,E-M).normalize(),r[4].setComponents(l-s,m-d,_-S,E-T).normalize(),t===xs)r[5].setComponents(l+s,m+d,_+S,E+T).normalize();else if(t===em)r[5].setComponents(s,d,S,T).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),If.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),If.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(If)}intersectsSprite(e){return If.center.set(0,0,0),If.radius=.7071067811865476,If.applyMatrix4(e.matrixWorld),this.intersectsSphere(If)}intersectsSphere(e){const t=this.planes,r=e.center,i=-e.radius;for(let a=0;a<6;a++)if(t[a].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const i=t[r];if(Ux.x=i.normal.x>0?e.max.x:e.min.x,Ux.y=i.normal.y>0?e.max.y:e.min.y,Ux.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(Ux)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function l8(){let n=null,e=!1,t=null,r=null;function i(a,o){t(a,o),r=n.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(r=n.requestAnimationFrame(i),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(a){t=a},setContext:function(a){n=a}}}function gue(n,e){const t=e.isWebGL2,r=new WeakMap;function i(c,f){const d=c.array,m=c.usage,v=d.byteLength,x=n.createBuffer();n.bindBuffer(f,x),n.bufferData(f,d,m),c.onUploadCallback();let S;if(d instanceof Float32Array)S=n.FLOAT;else if(d instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(t)S=n.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else S=n.UNSIGNED_SHORT;else if(d instanceof Int16Array)S=n.SHORT;else if(d instanceof Uint32Array)S=n.UNSIGNED_INT;else if(d instanceof Int32Array)S=n.INT;else if(d instanceof Int8Array)S=n.BYTE;else if(d instanceof Uint8Array)S=n.UNSIGNED_BYTE;else if(d instanceof Uint8ClampedArray)S=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+d);return{buffer:x,type:S,bytesPerElement:d.BYTES_PER_ELEMENT,version:c.version,size:v}}function a(c,f,d){const m=f.array,v=f._updateRange,x=f.updateRanges;if(n.bindBuffer(d,c),v.count===-1&&x.length===0&&n.bufferSubData(d,0,m),x.length!==0){for(let S=0,_=x.length;S<_;S++){const b=x[S];t?n.bufferSubData(d,b.start*m.BYTES_PER_ELEMENT,m,b.start,b.count):n.bufferSubData(d,b.start*m.BYTES_PER_ELEMENT,m.subarray(b.start,b.start+b.count))}f.clearUpdateRanges()}v.count!==-1&&(t?n.bufferSubData(d,v.offset*m.BYTES_PER_ELEMENT,m,v.offset,v.count):n.bufferSubData(d,v.offset*m.BYTES_PER_ELEMENT,m.subarray(v.offset,v.offset+v.count)),v.count=-1),f.onUploadCallback()}function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),r.get(c)}function s(c){c.isInterleavedBufferAttribute&&(c=c.data);const f=r.get(c);f&&(n.deleteBuffer(f.buffer),r.delete(c))}function l(c,f){if(c.isGLBufferAttribute){const m=r.get(c);(!m||m.version<c.version)&&r.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const d=r.get(c);if(d===void 0)r.set(c,i(c,f));else if(d.version<c.version){if(d.size!==c.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");a(d.buffer,c,f),d.version=c.version}}return{get:o,remove:s,update:l}}class e0 extends cn{constructor(e=1,t=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};const a=e/2,o=t/2,s=Math.floor(r),l=Math.floor(i),c=s+1,f=l+1,d=e/s,m=t/l,v=[],x=[],S=[],_=[];for(let b=0;b<f;b++){const M=b*m-o;for(let T=0;T<c;T++){const E=T*d-a;x.push(E,-M,0),S.push(0,0,1),_.push(T/s),_.push(1-b/l)}}for(let b=0;b<l;b++)for(let M=0;M<s;M++){const T=M+c*b,E=M+c*(b+1),P=M+1+c*(b+1),R=M+1+c*b;v.push(T,E,R),v.push(E,P,R)}this.setIndex(v),this.setAttribute("position",new At(x,3)),this.setAttribute("normal",new At(S,3)),this.setAttribute("uv",new At(_,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new e0(e.width,e.height,e.widthSegments,e.heightSegments)}}var vue=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,yue=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,xue=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,_ue=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,bue=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,Sue=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,wue=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Mue=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Aue=`#ifdef USE_BATCHING
	attribute float batchId;
	uniform highp sampler2D batchingTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,Tue=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( batchId );
#endif`,Eue=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,Pue=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Cue=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,Oue=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,Rue=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,Iue=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,Due=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,Lue=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,Nue=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,kue=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,Uue=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Fue=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,Bue=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,zue=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,jue=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,Vue=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,Hue=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Wue=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,Gue=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,$ue=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,que="gl_FragColor = linearToOutputTexel( gl_FragColor );",Xue=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,Yue=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Kue=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,Zue=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Jue=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Que=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,ece=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,tce=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,nce=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,rce=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,ice=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,ace=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,oce=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,sce=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,lce=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,uce=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,cce=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,fce=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,hce=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,dce=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,pce=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,mce=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,gce=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,vce=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,yce=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,xce=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,_ce=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,bce=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Sce=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,wce=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,Mce=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,Ace=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,Tce=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,Ece=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Pce=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,Cce=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,Oce=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,Rce=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,Ice=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,Dce=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,Lce=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,Nce=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,kce=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Uce=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Fce=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,Bce=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,zce=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,jce=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,Vce=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,Hce=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,Wce=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,Gce=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,$ce=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,qce=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Xce=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Yce=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,Kce=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Zce=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Jce=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,Qce=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,efe=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,tfe=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,nfe=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,rfe=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,ife=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,afe=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,ofe=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,sfe=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,lfe=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,ufe=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color *= toneMappingExposure;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	return color;
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,cfe=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,ffe=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,hfe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,dfe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,pfe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,mfe=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const gfe=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,vfe=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,yfe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,xfe=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,_fe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,bfe=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Sfe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,wfe=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,Mfe=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Afe=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,Tfe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Efe=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Pfe=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Cfe=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Ofe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,Rfe=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Ife=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Dfe=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Lfe=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,Nfe=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,kfe=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,Ufe=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,Ffe=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Bfe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,zfe=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,jfe=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Vfe=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Hfe=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Wfe=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Gfe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,$fe=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,qfe=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Xfe=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Yfe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,sn={alphahash_fragment:vue,alphahash_pars_fragment:yue,alphamap_fragment:xue,alphamap_pars_fragment:_ue,alphatest_fragment:bue,alphatest_pars_fragment:Sue,aomap_fragment:wue,aomap_pars_fragment:Mue,batching_pars_vertex:Aue,batching_vertex:Tue,begin_vertex:Eue,beginnormal_vertex:Pue,bsdfs:Cue,iridescence_fragment:Oue,bumpmap_pars_fragment:Rue,clipping_planes_fragment:Iue,clipping_planes_pars_fragment:Due,clipping_planes_pars_vertex:Lue,clipping_planes_vertex:Nue,color_fragment:kue,color_pars_fragment:Uue,color_pars_vertex:Fue,color_vertex:Bue,common:zue,cube_uv_reflection_fragment:jue,defaultnormal_vertex:Vue,displacementmap_pars_vertex:Hue,displacementmap_vertex:Wue,emissivemap_fragment:Gue,emissivemap_pars_fragment:$ue,colorspace_fragment:que,colorspace_pars_fragment:Xue,envmap_fragment:Yue,envmap_common_pars_fragment:Kue,envmap_pars_fragment:Zue,envmap_pars_vertex:Jue,envmap_physical_pars_fragment:cce,envmap_vertex:Que,fog_vertex:ece,fog_pars_vertex:tce,fog_fragment:nce,fog_pars_fragment:rce,gradientmap_pars_fragment:ice,lightmap_fragment:ace,lightmap_pars_fragment:oce,lights_lambert_fragment:sce,lights_lambert_pars_fragment:lce,lights_pars_begin:uce,lights_toon_fragment:fce,lights_toon_pars_fragment:hce,lights_phong_fragment:dce,lights_phong_pars_fragment:pce,lights_physical_fragment:mce,lights_physical_pars_fragment:gce,lights_fragment_begin:vce,lights_fragment_maps:yce,lights_fragment_end:xce,logdepthbuf_fragment:_ce,logdepthbuf_pars_fragment:bce,logdepthbuf_pars_vertex:Sce,logdepthbuf_vertex:wce,map_fragment:Mce,map_pars_fragment:Ace,map_particle_fragment:Tce,map_particle_pars_fragment:Ece,metalnessmap_fragment:Pce,metalnessmap_pars_fragment:Cce,morphcolor_vertex:Oce,morphnormal_vertex:Rce,morphtarget_pars_vertex:Ice,morphtarget_vertex:Dce,normal_fragment_begin:Lce,normal_fragment_maps:Nce,normal_pars_fragment:kce,normal_pars_vertex:Uce,normal_vertex:Fce,normalmap_pars_fragment:Bce,clearcoat_normal_fragment_begin:zce,clearcoat_normal_fragment_maps:jce,clearcoat_pars_fragment:Vce,iridescence_pars_fragment:Hce,opaque_fragment:Wce,packing:Gce,premultiplied_alpha_fragment:$ce,project_vertex:qce,dithering_fragment:Xce,dithering_pars_fragment:Yce,roughnessmap_fragment:Kce,roughnessmap_pars_fragment:Zce,shadowmap_pars_fragment:Jce,shadowmap_pars_vertex:Qce,shadowmap_vertex:efe,shadowmask_pars_fragment:tfe,skinbase_vertex:nfe,skinning_pars_vertex:rfe,skinning_vertex:ife,skinnormal_vertex:afe,specularmap_fragment:ofe,specularmap_pars_fragment:sfe,tonemapping_fragment:lfe,tonemapping_pars_fragment:ufe,transmission_fragment:cfe,transmission_pars_fragment:ffe,uv_pars_fragment:hfe,uv_pars_vertex:dfe,uv_vertex:pfe,worldpos_vertex:mfe,background_vert:gfe,background_frag:vfe,backgroundCube_vert:yfe,backgroundCube_frag:xfe,cube_vert:_fe,cube_frag:bfe,depth_vert:Sfe,depth_frag:wfe,distanceRGBA_vert:Mfe,distanceRGBA_frag:Afe,equirect_vert:Tfe,equirect_frag:Efe,linedashed_vert:Pfe,linedashed_frag:Cfe,meshbasic_vert:Ofe,meshbasic_frag:Rfe,meshlambert_vert:Ife,meshlambert_frag:Dfe,meshmatcap_vert:Lfe,meshmatcap_frag:Nfe,meshnormal_vert:kfe,meshnormal_frag:Ufe,meshphong_vert:Ffe,meshphong_frag:Bfe,meshphysical_vert:zfe,meshphysical_frag:jfe,meshtoon_vert:Vfe,meshtoon_frag:Hfe,points_vert:Wfe,points_frag:Gfe,shadow_vert:$fe,shadow_frag:qfe,sprite_vert:Xfe,sprite_frag:Yfe},nt={common:{diffuse:{value:new ft(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new fn},alphaMap:{value:null},alphaMapTransform:{value:new fn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new fn}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new fn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new fn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new fn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new fn},normalScale:{value:new Ie(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new fn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new fn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new fn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new fn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new ft(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new ft(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new fn},alphaTest:{value:0},uvTransform:{value:new fn}},sprite:{diffuse:{value:new ft(16777215)},opacity:{value:1},center:{value:new Ie(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new fn},alphaMap:{value:null},alphaMapTransform:{value:new fn},alphaTest:{value:0}}},ms={basic:{uniforms:sa([nt.common,nt.specularmap,nt.envmap,nt.aomap,nt.lightmap,nt.fog]),vertexShader:sn.meshbasic_vert,fragmentShader:sn.meshbasic_frag},lambert:{uniforms:sa([nt.common,nt.specularmap,nt.envmap,nt.aomap,nt.lightmap,nt.emissivemap,nt.bumpmap,nt.normalmap,nt.displacementmap,nt.fog,nt.lights,{emissive:{value:new ft(0)}}]),vertexShader:sn.meshlambert_vert,fragmentShader:sn.meshlambert_frag},phong:{uniforms:sa([nt.common,nt.specularmap,nt.envmap,nt.aomap,nt.lightmap,nt.emissivemap,nt.bumpmap,nt.normalmap,nt.displacementmap,nt.fog,nt.lights,{emissive:{value:new ft(0)},specular:{value:new ft(1118481)},shininess:{value:30}}]),vertexShader:sn.meshphong_vert,fragmentShader:sn.meshphong_frag},standard:{uniforms:sa([nt.common,nt.envmap,nt.aomap,nt.lightmap,nt.emissivemap,nt.bumpmap,nt.normalmap,nt.displacementmap,nt.roughnessmap,nt.metalnessmap,nt.fog,nt.lights,{emissive:{value:new ft(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:sn.meshphysical_vert,fragmentShader:sn.meshphysical_frag},toon:{uniforms:sa([nt.common,nt.aomap,nt.lightmap,nt.emissivemap,nt.bumpmap,nt.normalmap,nt.displacementmap,nt.gradientmap,nt.fog,nt.lights,{emissive:{value:new ft(0)}}]),vertexShader:sn.meshtoon_vert,fragmentShader:sn.meshtoon_frag},matcap:{uniforms:sa([nt.common,nt.bumpmap,nt.normalmap,nt.displacementmap,nt.fog,{matcap:{value:null}}]),vertexShader:sn.meshmatcap_vert,fragmentShader:sn.meshmatcap_frag},points:{uniforms:sa([nt.points,nt.fog]),vertexShader:sn.points_vert,fragmentShader:sn.points_frag},dashed:{uniforms:sa([nt.common,nt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:sn.linedashed_vert,fragmentShader:sn.linedashed_frag},depth:{uniforms:sa([nt.common,nt.displacementmap]),vertexShader:sn.depth_vert,fragmentShader:sn.depth_frag},normal:{uniforms:sa([nt.common,nt.bumpmap,nt.normalmap,nt.displacementmap,{opacity:{value:1}}]),vertexShader:sn.meshnormal_vert,fragmentShader:sn.meshnormal_frag},sprite:{uniforms:sa([nt.sprite,nt.fog]),vertexShader:sn.sprite_vert,fragmentShader:sn.sprite_frag},background:{uniforms:{uvTransform:{value:new fn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:sn.background_vert,fragmentShader:sn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:sn.backgroundCube_vert,fragmentShader:sn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:sn.cube_vert,fragmentShader:sn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:sn.equirect_vert,fragmentShader:sn.equirect_frag},distanceRGBA:{uniforms:sa([nt.common,nt.displacementmap,{referencePosition:{value:new Q},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:sn.distanceRGBA_vert,fragmentShader:sn.distanceRGBA_frag},shadow:{uniforms:sa([nt.lights,nt.fog,{color:{value:new ft(0)},opacity:{value:1}}]),vertexShader:sn.shadow_vert,fragmentShader:sn.shadow_frag}};ms.physical={uniforms:sa([ms.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new fn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new fn},clearcoatNormalScale:{value:new Ie(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new fn},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new fn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new fn},sheen:{value:0},sheenColor:{value:new ft(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new fn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new fn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new fn},transmissionSamplerSize:{value:new Ie},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new fn},attenuationDistance:{value:0},attenuationColor:{value:new ft(0)},specularColor:{value:new ft(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new fn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new fn},anisotropyVector:{value:new Ie},anisotropyMap:{value:null},anisotropyMapTransform:{value:new fn}}]),vertexShader:sn.meshphysical_vert,fragmentShader:sn.meshphysical_frag};const Fx={r:0,b:0,g:0};function Kfe(n,e,t,r,i,a,o){const s=new ft(0);let l=a===!0?0:1,c,f,d=null,m=0,v=null;function x(_,b){let M=!1,T=b.isScene===!0?b.background:null;T&&T.isTexture&&(T=(b.backgroundBlurriness>0?t:e).get(T)),T===null?S(s,l):T&&T.isColor&&(S(T,1),M=!0);const E=n.xr.getEnvironmentBlendMode();E==="additive"?r.buffers.color.setClear(0,0,0,1,o):E==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,o),(n.autoClear||M)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),T&&(T.isCubeTexture||T.mapping===vm)?(f===void 0&&(f=new ei(new Ch(1,1,1),new ws({name:"BackgroundCubeMaterial",uniforms:nm(ms.backgroundCube.uniforms),vertexShader:ms.backgroundCube.vertexShader,fragmentShader:ms.backgroundCube.fragmentShader,side:$i,depthTest:!1,depthWrite:!1,fog:!1})),f.geometry.deleteAttribute("normal"),f.geometry.deleteAttribute("uv"),f.onBeforeRender=function(P,R,I){this.matrixWorld.copyPosition(I.matrixWorld)},Object.defineProperty(f.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(f)),f.material.uniforms.envMap.value=T,f.material.uniforms.flipEnvMap.value=T.isCubeTexture&&T.isRenderTargetTexture===!1?-1:1,f.material.uniforms.backgroundBlurriness.value=b.backgroundBlurriness,f.material.uniforms.backgroundIntensity.value=b.backgroundIntensity,f.material.toneMapped=In.getTransfer(T.colorSpace)!==qn,(d!==T||m!==T.version||v!==n.toneMapping)&&(f.material.needsUpdate=!0,d=T,m=T.version,v=n.toneMapping),f.layers.enableAll(),_.unshift(f,f.geometry,f.material,0,0,null)):T&&T.isTexture&&(c===void 0&&(c=new ei(new e0(2,2),new ws({name:"BackgroundMaterial",uniforms:nm(ms.background.uniforms),vertexShader:ms.background.vertexShader,fragmentShader:ms.background.fragmentShader,side:ru,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=T,c.material.uniforms.backgroundIntensity.value=b.backgroundIntensity,c.material.toneMapped=In.getTransfer(T.colorSpace)!==qn,T.matrixAutoUpdate===!0&&T.updateMatrix(),c.material.uniforms.uvTransform.value.copy(T.matrix),(d!==T||m!==T.version||v!==n.toneMapping)&&(c.material.needsUpdate=!0,d=T,m=T.version,v=n.toneMapping),c.layers.enableAll(),_.unshift(c,c.geometry,c.material,0,0,null))}function S(_,b){_.getRGB(Fx,i8(n)),r.buffers.color.setClear(Fx.r,Fx.g,Fx.b,b,o)}return{getClearColor:function(){return s},setClearColor:function(_,b=1){s.set(_),l=b,S(s,l)},getClearAlpha:function(){return l},setClearAlpha:function(_){l=_,S(s,l)},render:x}}function Zfe(n,e,t,r){const i=n.getParameter(n.MAX_VERTEX_ATTRIBS),a=r.isWebGL2?null:e.get("OES_vertex_array_object"),o=r.isWebGL2||a!==null,s={},l=_(null);let c=l,f=!1;function d(H,te,J,ie,B){let X=!1;if(o){const $=S(ie,J,te);c!==$&&(c=$,v(c.object)),X=b(H,ie,J,B),X&&M(H,ie,J,B)}else{const $=te.wireframe===!0;(c.geometry!==ie.id||c.program!==J.id||c.wireframe!==$)&&(c.geometry=ie.id,c.program=J.id,c.wireframe=$,X=!0)}B!==null&&t.update(B,n.ELEMENT_ARRAY_BUFFER),(X||f)&&(f=!1,U(H,te,J,ie),B!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t.get(B).buffer))}function m(){return r.isWebGL2?n.createVertexArray():a.createVertexArrayOES()}function v(H){return r.isWebGL2?n.bindVertexArray(H):a.bindVertexArrayOES(H)}function x(H){return r.isWebGL2?n.deleteVertexArray(H):a.deleteVertexArrayOES(H)}function S(H,te,J){const ie=J.wireframe===!0;let B=s[H.id];B===void 0&&(B={},s[H.id]=B);let X=B[te.id];X===void 0&&(X={},B[te.id]=X);let $=X[ie];return $===void 0&&($=_(m()),X[ie]=$),$}function _(H){const te=[],J=[],ie=[];for(let B=0;B<i;B++)te[B]=0,J[B]=0,ie[B]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:te,enabledAttributes:J,attributeDivisors:ie,object:H,attributes:{},index:null}}function b(H,te,J,ie){const B=c.attributes,X=te.attributes;let $=0;const V=J.getAttributes();for(const ee in V)if(V[ee].location>=0){const me=B[ee];let Ce=X[ee];if(Ce===void 0&&(ee==="instanceMatrix"&&H.instanceMatrix&&(Ce=H.instanceMatrix),ee==="instanceColor"&&H.instanceColor&&(Ce=H.instanceColor)),me===void 0||me.attribute!==Ce||Ce&&me.data!==Ce.data)return!0;$++}return c.attributesNum!==$||c.index!==ie}function M(H,te,J,ie){const B={},X=te.attributes;let $=0;const V=J.getAttributes();for(const ee in V)if(V[ee].location>=0){let me=X[ee];me===void 0&&(ee==="instanceMatrix"&&H.instanceMatrix&&(me=H.instanceMatrix),ee==="instanceColor"&&H.instanceColor&&(me=H.instanceColor));const Ce={};Ce.attribute=me,me&&me.data&&(Ce.data=me.data),B[ee]=Ce,$++}c.attributes=B,c.attributesNum=$,c.index=ie}function T(){const H=c.newAttributes;for(let te=0,J=H.length;te<J;te++)H[te]=0}function E(H){P(H,0)}function P(H,te){const J=c.newAttributes,ie=c.enabledAttributes,B=c.attributeDivisors;J[H]=1,ie[H]===0&&(n.enableVertexAttribArray(H),ie[H]=1),B[H]!==te&&((r.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](H,te),B[H]=te)}function R(){const H=c.newAttributes,te=c.enabledAttributes;for(let J=0,ie=te.length;J<ie;J++)te[J]!==H[J]&&(n.disableVertexAttribArray(J),te[J]=0)}function I(H,te,J,ie,B,X,$){$===!0?n.vertexAttribIPointer(H,te,J,B,X):n.vertexAttribPointer(H,te,J,ie,B,X)}function U(H,te,J,ie){if(r.isWebGL2===!1&&(H.isInstancedMesh||ie.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;T();const B=ie.attributes,X=J.getAttributes(),$=te.defaultAttributeValues;for(const V in X){const ee=X[V];if(ee.location>=0){let se=B[V];if(se===void 0&&(V==="instanceMatrix"&&H.instanceMatrix&&(se=H.instanceMatrix),V==="instanceColor"&&H.instanceColor&&(se=H.instanceColor)),se!==void 0){const me=se.normalized,Ce=se.itemSize,Ne=t.get(se);if(Ne===void 0)continue;const De=Ne.buffer,Ke=Ne.type,Te=Ne.bytesPerElement,Le=r.isWebGL2===!0&&(Ke===n.INT||Ke===n.UNSIGNED_INT||se.gpuType===NO);if(se.isInterleavedBufferAttribute){const Ge=se.data,q=Ge.stride,Re=se.offset;if(Ge.isInstancedInterleavedBuffer){for(let _e=0;_e<ee.locationSize;_e++)P(ee.location+_e,Ge.meshPerAttribute);H.isInstancedMesh!==!0&&ie._maxInstanceCount===void 0&&(ie._maxInstanceCount=Ge.meshPerAttribute*Ge.count)}else for(let _e=0;_e<ee.locationSize;_e++)E(ee.location+_e);n.bindBuffer(n.ARRAY_BUFFER,De);for(let _e=0;_e<ee.locationSize;_e++)I(ee.location+_e,Ce/ee.locationSize,Ke,me,q*Te,(Re+Ce/ee.locationSize*_e)*Te,Le)}else{if(se.isInstancedBufferAttribute){for(let Ge=0;Ge<ee.locationSize;Ge++)P(ee.location+Ge,se.meshPerAttribute);H.isInstancedMesh!==!0&&ie._maxInstanceCount===void 0&&(ie._maxInstanceCount=se.meshPerAttribute*se.count)}else for(let Ge=0;Ge<ee.locationSize;Ge++)E(ee.location+Ge);n.bindBuffer(n.ARRAY_BUFFER,De);for(let Ge=0;Ge<ee.locationSize;Ge++)I(ee.location+Ge,Ce/ee.locationSize,Ke,me,Ce*Te,Ce/ee.locationSize*Ge*Te,Le)}}else if($!==void 0){const me=$[V];if(me!==void 0)switch(me.length){case 2:n.vertexAttrib2fv(ee.location,me);break;case 3:n.vertexAttrib3fv(ee.location,me);break;case 4:n.vertexAttrib4fv(ee.location,me);break;default:n.vertexAttrib1fv(ee.location,me)}}}}R()}function N(){G();for(const H in s){const te=s[H];for(const J in te){const ie=te[J];for(const B in ie)x(ie[B].object),delete ie[B];delete te[J]}delete s[H]}}function k(H){if(s[H.id]===void 0)return;const te=s[H.id];for(const J in te){const ie=te[J];for(const B in ie)x(ie[B].object),delete ie[B];delete te[J]}delete s[H.id]}function z(H){for(const te in s){const J=s[te];if(J[H.id]===void 0)continue;const ie=J[H.id];for(const B in ie)x(ie[B].object),delete ie[B];delete J[H.id]}}function G(){K(),f=!0,c!==l&&(c=l,v(c.object))}function K(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:d,reset:G,resetDefaultState:K,dispose:N,releaseStatesOfGeometry:k,releaseStatesOfProgram:z,initAttributes:T,enableAttribute:E,disableUnusedAttributes:R}}function Jfe(n,e,t,r){const i=r.isWebGL2;let a;function o(f){a=f}function s(f,d){n.drawArrays(a,f,d),t.update(d,a,1)}function l(f,d,m){if(m===0)return;let v,x;if(i)v=n,x="drawArraysInstanced";else if(v=e.get("ANGLE_instanced_arrays"),x="drawArraysInstancedANGLE",v===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}v[x](a,f,d,m),t.update(d,a,m)}function c(f,d,m){if(m===0)return;const v=e.get("WEBGL_multi_draw");if(v===null)for(let x=0;x<m;x++)this.render(f[x],d[x]);else{v.multiDrawArraysWEBGL(a,f,0,d,0,m);let x=0;for(let S=0;S<m;S++)x+=d[S];t.update(x,a,1)}}this.setMode=o,this.render=s,this.renderInstances=l,this.renderMultiDraw=c}function Qfe(n,e,t){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const I=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(I.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function a(I){if(I==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";I="mediump"}return I==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&n.constructor.name==="WebGL2RenderingContext";let s=t.precision!==void 0?t.precision:"highp";const l=a(s);l!==s&&(console.warn("THREE.WebGLRenderer:",s,"not supported, using",l,"instead."),s=l);const c=o||e.has("WEBGL_draw_buffers"),f=t.logarithmicDepthBuffer===!0,d=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),m=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),v=n.getParameter(n.MAX_TEXTURE_SIZE),x=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),S=n.getParameter(n.MAX_VERTEX_ATTRIBS),_=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),b=n.getParameter(n.MAX_VARYING_VECTORS),M=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),T=m>0,E=o||e.has("OES_texture_float"),P=T&&E,R=o?n.getParameter(n.MAX_SAMPLES):0;return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:i,getMaxPrecision:a,precision:s,logarithmicDepthBuffer:f,maxTextures:d,maxVertexTextures:m,maxTextureSize:v,maxCubemapSize:x,maxAttributes:S,maxVertexUniforms:_,maxVaryings:b,maxFragmentUniforms:M,vertexTextures:T,floatFragmentTextures:E,floatVertexTextures:P,maxSamples:R}}function ehe(n){const e=this;let t=null,r=0,i=!1,a=!1;const o=new Hl,s=new fn,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,m){const v=d.length!==0||m||r!==0||i;return i=m,r=d.length,v},this.beginShadows=function(){a=!0,f(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(d,m){t=f(d,m,0)},this.setState=function(d,m,v){const x=d.clippingPlanes,S=d.clipIntersection,_=d.clipShadows,b=n.get(d);if(!i||x===null||x.length===0||a&&!_)a?f(null):c();else{const M=a?0:r,T=M*4;let E=b.clippingState||null;l.value=E,E=f(x,m,T,v);for(let P=0;P!==T;++P)E[P]=t[P];b.clippingState=E,this.numIntersection=S?this.numPlanes:0,this.numPlanes+=M}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function f(d,m,v,x){const S=d!==null?d.length:0;let _=null;if(S!==0){if(_=l.value,x!==!0||_===null){const b=v+S*4,M=m.matrixWorldInverse;s.getNormalMatrix(M),(_===null||_.length<b)&&(_=new Float32Array(b));for(let T=0,E=v;T!==S;++T,E+=4)o.copy(d[T]).applyMatrix4(M,s),o.normal.toArray(_,E),_[E+3]=o.constant}l.value=_,l.needsUpdate=!0}return e.numPlanes=S,e.numIntersection=0,_}}function the(n){let e=new WeakMap;function t(o,s){return s===fy?o.mapping=iu:s===hy&&(o.mapping=Sc),o}function r(o){if(o&&o.isTexture){const s=o.mapping;if(s===fy||s===hy)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new s8(l.height/2);return c.fromEquirectangularTexture(n,o),e.set(o,c),o.addEventListener("dispose",i),t(c.texture,o.mapping)}else return null}}return o}function i(o){const s=o.target;s.removeEventListener("dispose",i);const l=e.get(s);l!==void 0&&(e.delete(s),l.dispose())}function a(){e=new WeakMap}return{get:r,dispose:a}}class xc extends Zy{constructor(e=-1,t=1,r=1,i=-1,a=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=a,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,a,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=a,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let a=r-e,o=r+e,s=i+t,l=i-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,f=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a+=c*this.view.offsetX,o=a+c*this.view.width,s-=f*this.view.offsetY,l=s-f*this.view.height}this.projectionMatrix.makeOrthographic(a,o,s,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const mp=4,sB=[.125,.215,.35,.446,.526,.582],Yf=20,ZT=new xc,lB=new ft;let JT=null,QT=0,eE=0;const $f=(1+Math.sqrt(5))/2,Kd=1/$f,uB=[new Q(1,1,1),new Q(-1,1,1),new Q(1,1,-1),new Q(-1,1,-1),new Q(0,$f,Kd),new Q(0,$f,-Kd),new Q(Kd,0,$f),new Q(-Kd,0,$f),new Q($f,Kd,0),new Q(-$f,Kd,0)];class KC{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,i=100){JT=this._renderer.getRenderTarget(),QT=this._renderer.getActiveCubeFace(),eE=this._renderer.getActiveMipmapLevel(),this._setSize(256);const a=this._allocateTargets();return a.depthBuffer=!0,this._sceneToCubeUV(e,r,i,a),t>0&&this._blur(a,0,0,t),this._applyPMREM(a),this._cleanup(a),a}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=hB(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=fB(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(JT,QT,eE),e.scissorTest=!1,Bx(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===iu||e.mapping===Sc?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),JT=this._renderer.getRenderTarget(),QT=this._renderer.getActiveCubeFace(),eE=this._renderer.getActiveMipmapLevel();const r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,r={magFilter:Cr,minFilter:Cr,generateMipmaps:!1,type:Qp,format:la,colorSpace:Qs,depthBuffer:!1},i=cB(e,t,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=cB(e,t,r);const{_lodMax:a}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=nhe(a)),this._blurMaterial=rhe(a,e,t)}return i}_compileMaterial(e){const t=new ei(this._lodPlanes[0],e);this._renderer.compile(t,ZT)}_sceneToCubeUV(e,t,r,i){const s=new Or(90,1,t,r),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],f=this._renderer,d=f.autoClear,m=f.toneMapping;f.getClearColor(lB),f.toneMapping=qs,f.autoClear=!1;const v=new Lc({name:"PMREM.Background",side:$i,depthWrite:!1,depthTest:!1}),x=new ei(new Ch,v);let S=!1;const _=e.background;_?_.isColor&&(v.color.copy(_),e.background=null,S=!0):(v.color.copy(lB),S=!0);for(let b=0;b<6;b++){const M=b%3;M===0?(s.up.set(0,l[b],0),s.lookAt(c[b],0,0)):M===1?(s.up.set(0,0,l[b]),s.lookAt(0,c[b],0)):(s.up.set(0,l[b],0),s.lookAt(0,0,c[b]));const T=this._cubeSize;Bx(i,M*T,b>2?T:0,T,T),f.setRenderTarget(i),S&&f.render(x,s),f.render(e,s)}x.geometry.dispose(),x.material.dispose(),f.toneMapping=m,f.autoClear=d,e.background=_}_textureToCubeUV(e,t){const r=this._renderer,i=e.mapping===iu||e.mapping===Sc;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=hB()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=fB());const a=i?this._cubemapMaterial:this._equirectMaterial,o=new ei(this._lodPlanes[0],a),s=a.uniforms;s.envMap.value=e;const l=this._cubeSize;Bx(t,0,0,3*l,2*l),r.setRenderTarget(t),r.render(o,ZT)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const a=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),o=uB[(i-1)%uB.length];this._blur(e,i-1,i,a,o)}t.autoClear=r}_blur(e,t,r,i,a){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,r,i,"latitudinal",a),this._halfBlur(o,e,r,r,i,"longitudinal",a)}_halfBlur(e,t,r,i,a,o,s){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const f=3,d=new ei(this._lodPlanes[i],c),m=c.uniforms,v=this._sizeLods[r]-1,x=isFinite(a)?Math.PI/(2*v):2*Math.PI/(2*Yf-1),S=a/x,_=isFinite(a)?1+Math.floor(f*S):Yf;_>Yf&&console.warn(`sigmaRadians, ${a}, is too large and will clip, as it requested ${_} samples when the maximum is set to ${Yf}`);const b=[];let M=0;for(let I=0;I<Yf;++I){const U=I/S,N=Math.exp(-U*U/2);b.push(N),I===0?M+=N:I<_&&(M+=2*N)}for(let I=0;I<b.length;I++)b[I]=b[I]/M;m.envMap.value=e.texture,m.samples.value=_,m.weights.value=b,m.latitudinal.value=o==="latitudinal",s&&(m.poleAxis.value=s);const{_lodMax:T}=this;m.dTheta.value=x,m.mipInt.value=T-r;const E=this._sizeLods[i],P=3*E*(i>T-mp?i-T+mp:0),R=4*(this._cubeSize-E);Bx(t,P,R,3*E,2*E),l.setRenderTarget(t),l.render(d,ZT)}}function nhe(n){const e=[],t=[],r=[];let i=n;const a=n-mp+1+sB.length;for(let o=0;o<a;o++){const s=Math.pow(2,i);t.push(s);let l=1/s;o>n-mp?l=sB[o-n+mp-1]:o===0&&(l=0),r.push(l);const c=1/(s-2),f=-c,d=1+c,m=[f,f,d,f,d,d,f,f,d,d,f,d],v=6,x=6,S=3,_=2,b=1,M=new Float32Array(S*x*v),T=new Float32Array(_*x*v),E=new Float32Array(b*x*v);for(let R=0;R<v;R++){const I=R%3*2/3-1,U=R>2?0:-1,N=[I,U,0,I+2/3,U,0,I+2/3,U+1,0,I,U,0,I+2/3,U+1,0,I,U+1,0];M.set(N,S*x*R),T.set(m,_*x*R);const k=[R,R,R,R,R,R];E.set(k,b*x*R)}const P=new cn;P.setAttribute("position",new Dn(M,S)),P.setAttribute("uv",new Dn(T,_)),P.setAttribute("faceIndex",new Dn(E,b)),e.push(P),i>mp&&i--}return{lodPlanes:e,sizeLods:t,sigmas:r}}function cB(n,e,t){const r=new Ss(n,e,t);return r.texture.mapping=vm,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Bx(n,e,t,r,i){n.viewport.set(e,t,r,i),n.scissor.set(e,t,r,i)}function rhe(n,e,t){const r=new Float32Array(Yf),i=new Q(0,1,0);return new ws({name:"SphericalGaussianBlur",defines:{n:Yf,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:KO(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Ql,depthTest:!1,depthWrite:!1})}function fB(){return new ws({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:KO(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Ql,depthTest:!1,depthWrite:!1})}function hB(){return new ws({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:KO(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Ql,depthTest:!1,depthWrite:!1})}function KO(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function ihe(n){let e=new WeakMap,t=null;function r(s){if(s&&s.isTexture){const l=s.mapping,c=l===fy||l===hy,f=l===iu||l===Sc;if(c||f)if(s.isRenderTargetTexture&&s.needsPMREMUpdate===!0){s.needsPMREMUpdate=!1;let d=e.get(s);return t===null&&(t=new KC(n)),d=c?t.fromEquirectangular(s,d):t.fromCubemap(s,d),e.set(s,d),d.texture}else{if(e.has(s))return e.get(s).texture;{const d=s.image;if(c&&d&&d.height>0||f&&d&&i(d)){t===null&&(t=new KC(n));const m=c?t.fromEquirectangular(s):t.fromCubemap(s);return e.set(s,m),s.addEventListener("dispose",a),m.texture}else return null}}}return s}function i(s){let l=0;const c=6;for(let f=0;f<c;f++)s[f]!==void 0&&l++;return l===c}function a(s){const l=s.target;l.removeEventListener("dispose",a);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:r,dispose:o}}function ahe(n){const e={};function t(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=n.getExtension(r)}return e[r]=i,i}return{has:function(r){return t(r)!==null},init:function(r){r.isWebGL2?(t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance")):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(r){const i=t(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function ohe(n,e,t,r){const i={},a=new WeakMap;function o(d){const m=d.target;m.index!==null&&e.remove(m.index);for(const x in m.attributes)e.remove(m.attributes[x]);for(const x in m.morphAttributes){const S=m.morphAttributes[x];for(let _=0,b=S.length;_<b;_++)e.remove(S[_])}m.removeEventListener("dispose",o),delete i[m.id];const v=a.get(m);v&&(e.remove(v),a.delete(m)),r.releaseStatesOfGeometry(m),m.isInstancedBufferGeometry===!0&&delete m._maxInstanceCount,t.memory.geometries--}function s(d,m){return i[m.id]===!0||(m.addEventListener("dispose",o),i[m.id]=!0,t.memory.geometries++),m}function l(d){const m=d.attributes;for(const x in m)e.update(m[x],n.ARRAY_BUFFER);const v=d.morphAttributes;for(const x in v){const S=v[x];for(let _=0,b=S.length;_<b;_++)e.update(S[_],n.ARRAY_BUFFER)}}function c(d){const m=[],v=d.index,x=d.attributes.position;let S=0;if(v!==null){const M=v.array;S=v.version;for(let T=0,E=M.length;T<E;T+=3){const P=M[T+0],R=M[T+1],I=M[T+2];m.push(P,R,R,I,I,P)}}else if(x!==void 0){const M=x.array;S=x.version;for(let T=0,E=M.length/3-1;T<E;T+=3){const P=T+0,R=T+1,I=T+2;m.push(P,R,R,I,I,P)}}else return;const _=new(e8(m)?YO:XO)(m,1);_.version=S;const b=a.get(d);b&&e.remove(b),a.set(d,_)}function f(d){const m=a.get(d);if(m){const v=d.index;v!==null&&m.version<v.version&&c(d)}else c(d);return a.get(d)}return{get:s,update:l,getWireframeAttribute:f}}function she(n,e,t,r){const i=r.isWebGL2;let a;function o(v){a=v}let s,l;function c(v){s=v.type,l=v.bytesPerElement}function f(v,x){n.drawElements(a,x,s,v*l),t.update(x,a,1)}function d(v,x,S){if(S===0)return;let _,b;if(i)_=n,b="drawElementsInstanced";else if(_=e.get("ANGLE_instanced_arrays"),b="drawElementsInstancedANGLE",_===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}_[b](a,x,s,v*l,S),t.update(x,a,S)}function m(v,x,S){if(S===0)return;const _=e.get("WEBGL_multi_draw");if(_===null)for(let b=0;b<S;b++)this.render(v[b]/l,x[b]);else{_.multiDrawElementsWEBGL(a,x,0,s,v,0,S);let b=0;for(let M=0;M<S;M++)b+=x[M];t.update(b,a,1)}}this.setMode=o,this.setIndex=c,this.render=f,this.renderInstances=d,this.renderMultiDraw=m}function lhe(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function r(a,o,s){switch(t.calls++,o){case n.TRIANGLES:t.triangles+=s*(a/3);break;case n.LINES:t.lines+=s*(a/2);break;case n.LINE_STRIP:t.lines+=s*(a-1);break;case n.LINE_LOOP:t.lines+=s*a;break;case n.POINTS:t.points+=s*a;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:r}}function uhe(n,e){return n[0]-e[0]}function che(n,e){return Math.abs(e[1])-Math.abs(n[1])}function fhe(n,e,t){const r={},i=new Float32Array(8),a=new WeakMap,o=new Sn,s=[];for(let c=0;c<8;c++)s[c]=[c,0];function l(c,f,d){const m=c.morphTargetInfluences;if(e.isWebGL2===!0){const x=f.morphAttributes.position||f.morphAttributes.normal||f.morphAttributes.color,S=x!==void 0?x.length:0;let _=a.get(f);if(_===void 0||_.count!==S){let te=function(){K.dispose(),a.delete(f),f.removeEventListener("dispose",te)};var v=te;_!==void 0&&_.texture.dispose();const T=f.morphAttributes.position!==void 0,E=f.morphAttributes.normal!==void 0,P=f.morphAttributes.color!==void 0,R=f.morphAttributes.position||[],I=f.morphAttributes.normal||[],U=f.morphAttributes.color||[];let N=0;T===!0&&(N=1),E===!0&&(N=2),P===!0&&(N=3);let k=f.attributes.position.count*N,z=1;k>e.maxTextureSize&&(z=Math.ceil(k/e.maxTextureSize),k=e.maxTextureSize);const G=new Float32Array(k*z*4*S),K=new AS(G,k,z,S);K.type=ys,K.needsUpdate=!0;const H=N*4;for(let J=0;J<S;J++){const ie=R[J],B=I[J],X=U[J],$=k*z*4*J;for(let V=0;V<ie.count;V++){const ee=V*H;T===!0&&(o.fromBufferAttribute(ie,V),G[$+ee+0]=o.x,G[$+ee+1]=o.y,G[$+ee+2]=o.z,G[$+ee+3]=0),E===!0&&(o.fromBufferAttribute(B,V),G[$+ee+4]=o.x,G[$+ee+5]=o.y,G[$+ee+6]=o.z,G[$+ee+7]=0),P===!0&&(o.fromBufferAttribute(X,V),G[$+ee+8]=o.x,G[$+ee+9]=o.y,G[$+ee+10]=o.z,G[$+ee+11]=X.itemSize===4?o.w:1)}}_={count:S,texture:K,size:new Ie(k,z)},a.set(f,_),f.addEventListener("dispose",te)}let b=0;for(let T=0;T<m.length;T++)b+=m[T];const M=f.morphTargetsRelative?1:1-b;d.getUniforms().setValue(n,"morphTargetBaseInfluence",M),d.getUniforms().setValue(n,"morphTargetInfluences",m),d.getUniforms().setValue(n,"morphTargetsTexture",_.texture,t),d.getUniforms().setValue(n,"morphTargetsTextureSize",_.size)}else{const x=m===void 0?0:m.length;let S=r[f.id];if(S===void 0||S.length!==x){S=[];for(let E=0;E<x;E++)S[E]=[E,0];r[f.id]=S}for(let E=0;E<x;E++){const P=S[E];P[0]=E,P[1]=m[E]}S.sort(che);for(let E=0;E<8;E++)E<x&&S[E][1]?(s[E][0]=S[E][0],s[E][1]=S[E][1]):(s[E][0]=Number.MAX_SAFE_INTEGER,s[E][1]=0);s.sort(uhe);const _=f.morphAttributes.position,b=f.morphAttributes.normal;let M=0;for(let E=0;E<8;E++){const P=s[E],R=P[0],I=P[1];R!==Number.MAX_SAFE_INTEGER&&I?(_&&f.getAttribute("morphTarget"+E)!==_[R]&&f.setAttribute("morphTarget"+E,_[R]),b&&f.getAttribute("morphNormal"+E)!==b[R]&&f.setAttribute("morphNormal"+E,b[R]),i[E]=I,M+=I):(_&&f.hasAttribute("morphTarget"+E)===!0&&f.deleteAttribute("morphTarget"+E),b&&f.hasAttribute("morphNormal"+E)===!0&&f.deleteAttribute("morphNormal"+E),i[E]=0)}const T=f.morphTargetsRelative?1:1-M;d.getUniforms().setValue(n,"morphTargetBaseInfluence",T),d.getUniforms().setValue(n,"morphTargetInfluences",i)}}return{update:l}}function hhe(n,e,t,r){let i=new WeakMap;function a(l){const c=r.render.frame,f=l.geometry,d=e.get(l,f);if(i.get(d)!==c&&(e.update(d),i.set(d,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",s)===!1&&l.addEventListener("dispose",s),i.get(l)!==c&&(t.update(l.instanceMatrix,n.ARRAY_BUFFER),l.instanceColor!==null&&t.update(l.instanceColor,n.ARRAY_BUFFER),i.set(l,c))),l.isSkinnedMesh){const m=l.skeleton;i.get(m)!==c&&(m.update(),i.set(m,c))}return d}function o(){i=new WeakMap}function s(l){const c=l.target;c.removeEventListener("dispose",s),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:a,dispose:o}}class ZO extends Sr{constructor(e,t,r,i,a,o,s,l,c,f){if(f=f!==void 0?f:vc,f!==vc&&f!==bh)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&f===vc&&(r=Yl),r===void 0&&f===bh&&(r=gc),super(null,i,a,o,s,l,f,r,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=s!==void 0?s:Pr,this.minFilter=l!==void 0?l:Pr,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}const u8=new Sr,c8=new ZO(1,1);c8.compareFunction=WO;const f8=new AS,h8=new qO,d8=new Jy,dB=[],pB=[],mB=new Float32Array(16),gB=new Float32Array(9),vB=new Float32Array(4);function xm(n,e,t){const r=n[0];if(r<=0||r>0)return n;const i=e*t;let a=dB[i];if(a===void 0&&(a=new Float32Array(i),dB[i]=a),e!==0){r.toArray(a,0);for(let o=1,s=0;o!==e;++o)s+=t,n[o].toArray(a,s)}return a}function ni(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function ri(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function TS(n,e){let t=pB[e];t===void 0&&(t=new Int32Array(e),pB[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function dhe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function phe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(ni(t,e))return;n.uniform2fv(this.addr,e),ri(t,e)}}function mhe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(ni(t,e))return;n.uniform3fv(this.addr,e),ri(t,e)}}function ghe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(ni(t,e))return;n.uniform4fv(this.addr,e),ri(t,e)}}function vhe(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(ni(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),ri(t,e)}else{if(ni(t,r))return;vB.set(r),n.uniformMatrix2fv(this.addr,!1,vB),ri(t,r)}}function yhe(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(ni(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),ri(t,e)}else{if(ni(t,r))return;gB.set(r),n.uniformMatrix3fv(this.addr,!1,gB),ri(t,r)}}function xhe(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(ni(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),ri(t,e)}else{if(ni(t,r))return;mB.set(r),n.uniformMatrix4fv(this.addr,!1,mB),ri(t,r)}}function _he(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function bhe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(ni(t,e))return;n.uniform2iv(this.addr,e),ri(t,e)}}function She(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(ni(t,e))return;n.uniform3iv(this.addr,e),ri(t,e)}}function whe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(ni(t,e))return;n.uniform4iv(this.addr,e),ri(t,e)}}function Mhe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function Ahe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(ni(t,e))return;n.uniform2uiv(this.addr,e),ri(t,e)}}function The(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(ni(t,e))return;n.uniform3uiv(this.addr,e),ri(t,e)}}function Ehe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(ni(t,e))return;n.uniform4uiv(this.addr,e),ri(t,e)}}function Phe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i);const a=this.type===n.SAMPLER_2D_SHADOW?c8:u8;t.setTexture2D(e||a,i)}function Che(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture3D(e||h8,i)}function Ohe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTextureCube(e||d8,i)}function Rhe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2DArray(e||f8,i)}function Ihe(n){switch(n){case 5126:return dhe;case 35664:return phe;case 35665:return mhe;case 35666:return ghe;case 35674:return vhe;case 35675:return yhe;case 35676:return xhe;case 5124:case 35670:return _he;case 35667:case 35671:return bhe;case 35668:case 35672:return She;case 35669:case 35673:return whe;case 5125:return Mhe;case 36294:return Ahe;case 36295:return The;case 36296:return Ehe;case 35678:case 36198:case 36298:case 36306:case 35682:return Phe;case 35679:case 36299:case 36307:return Che;case 35680:case 36300:case 36308:case 36293:return Ohe;case 36289:case 36303:case 36311:case 36292:return Rhe}}function Dhe(n,e){n.uniform1fv(this.addr,e)}function Lhe(n,e){const t=xm(e,this.size,2);n.uniform2fv(this.addr,t)}function Nhe(n,e){const t=xm(e,this.size,3);n.uniform3fv(this.addr,t)}function khe(n,e){const t=xm(e,this.size,4);n.uniform4fv(this.addr,t)}function Uhe(n,e){const t=xm(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function Fhe(n,e){const t=xm(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function Bhe(n,e){const t=xm(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function zhe(n,e){n.uniform1iv(this.addr,e)}function jhe(n,e){n.uniform2iv(this.addr,e)}function Vhe(n,e){n.uniform3iv(this.addr,e)}function Hhe(n,e){n.uniform4iv(this.addr,e)}function Whe(n,e){n.uniform1uiv(this.addr,e)}function Ghe(n,e){n.uniform2uiv(this.addr,e)}function $he(n,e){n.uniform3uiv(this.addr,e)}function qhe(n,e){n.uniform4uiv(this.addr,e)}function Xhe(n,e,t){const r=this.cache,i=e.length,a=TS(t,i);ni(r,a)||(n.uniform1iv(this.addr,a),ri(r,a));for(let o=0;o!==i;++o)t.setTexture2D(e[o]||u8,a[o])}function Yhe(n,e,t){const r=this.cache,i=e.length,a=TS(t,i);ni(r,a)||(n.uniform1iv(this.addr,a),ri(r,a));for(let o=0;o!==i;++o)t.setTexture3D(e[o]||h8,a[o])}function Khe(n,e,t){const r=this.cache,i=e.length,a=TS(t,i);ni(r,a)||(n.uniform1iv(this.addr,a),ri(r,a));for(let o=0;o!==i;++o)t.setTextureCube(e[o]||d8,a[o])}function Zhe(n,e,t){const r=this.cache,i=e.length,a=TS(t,i);ni(r,a)||(n.uniform1iv(this.addr,a),ri(r,a));for(let o=0;o!==i;++o)t.setTexture2DArray(e[o]||f8,a[o])}function Jhe(n){switch(n){case 5126:return Dhe;case 35664:return Lhe;case 35665:return Nhe;case 35666:return khe;case 35674:return Uhe;case 35675:return Fhe;case 35676:return Bhe;case 5124:case 35670:return zhe;case 35667:case 35671:return jhe;case 35668:case 35672:return Vhe;case 35669:case 35673:return Hhe;case 5125:return Whe;case 36294:return Ghe;case 36295:return $he;case 36296:return qhe;case 35678:case 36198:case 36298:case 36306:case 35682:return Xhe;case 35679:case 36299:case 36307:return Yhe;case 35680:case 36300:case 36308:case 36293:return Khe;case 36289:case 36303:case 36311:case 36292:return Zhe}}class Qhe{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.type=t.type,this.setValue=Ihe(t.type)}}class ede{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=Jhe(t.type)}}class tde{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,r){const i=this.seq;for(let a=0,o=i.length;a!==o;++a){const s=i[a];s.setValue(e,t[s.id],r)}}}const tE=/(\w+)(\])?(\[|\.)?/g;function yB(n,e){n.seq.push(e),n.map[e.id]=e}function nde(n,e,t){const r=n.name,i=r.length;for(tE.lastIndex=0;;){const a=tE.exec(r),o=tE.lastIndex;let s=a[1];const l=a[2]==="]",c=a[3];if(l&&(s=s|0),c===void 0||c==="["&&o+2===i){yB(t,c===void 0?new Qhe(s,n,e):new ede(s,n,e));break}else{let d=t.map[s];d===void 0&&(d=new tde(s),yB(t,d)),t=d}}}class M_{constructor(e,t){this.seq=[],this.map={};const r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const a=e.getActiveUniform(t,i),o=e.getUniformLocation(t,a.name);nde(a,o,this)}}setValue(e,t,r,i){const a=this.map[t];a!==void 0&&a.setValue(e,r,i)}setOptional(e,t,r){const i=t[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,t,r,i){for(let a=0,o=t.length;a!==o;++a){const s=t[a],l=r[s.id];l.needsUpdate!==!1&&s.setValue(e,l.value,i)}}static seqWithValue(e,t){const r=[];for(let i=0,a=e.length;i!==a;++i){const o=e[i];o.id in t&&r.push(o)}return r}}function xB(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}const rde=37297;let ide=0;function ade(n,e){const t=n.split(`
`),r=[],i=Math.max(e-6,0),a=Math.min(e+6,t.length);for(let o=i;o<a;o++){const s=o+1;r.push(`${s===e?">":" "} ${s}: ${t[o]}`)}return r.join(`
`)}function ode(n){const e=In.getPrimaries(In.workingColorSpace),t=In.getPrimaries(n);let r;switch(e===t?r="":e===_y&&t===xy?r="LinearDisplayP3ToLinearSRGB":e===xy&&t===_y&&(r="LinearSRGBToLinearDisplayP3"),n){case Qs:case Ky:return[r,"LinearTransferOETF"];case Jr:case MS:return[r,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",n),[r,"LinearTransferOETF"]}}function _B(n,e,t){const r=n.getShaderParameter(e,n.COMPILE_STATUS),i=n.getShaderInfoLog(e).trim();if(r&&i==="")return"";const a=/ERROR: 0:(\d+)/.exec(i);if(a){const o=parseInt(a[1]);return t.toUpperCase()+`

`+i+`

`+ade(n.getShaderSource(e),o)}else return i}function sde(n,e){const t=ode(e);return`vec4 ${n}( vec4 value ) { return ${t[0]}( ${t[1]}( value ) ); }`}function lde(n,e){let t;switch(e){case EW:t="Linear";break;case PW:t="Reinhard";break;case CW:t="OptimizedCineon";break;case DO:t="ACESFilmic";break;case RW:t="AgX";break;case OW:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function ude(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.normalMapTangentSpace||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(gp).join(`
`)}function cde(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":""].filter(gp).join(`
`)}function fde(n){const e=[];for(const t in n){const r=n[t];r!==!1&&e.push("#define "+t+" "+r)}return e.join(`
`)}function hde(n,e){const t={},r=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const a=n.getActiveAttrib(e,i),o=a.name;let s=1;a.type===n.FLOAT_MAT2&&(s=2),a.type===n.FLOAT_MAT3&&(s=3),a.type===n.FLOAT_MAT4&&(s=4),t[o]={type:a.type,location:n.getAttribLocation(e,o),locationSize:s}}return t}function gp(n){return n!==""}function bB(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function SB(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const dde=/^[ \t]*#include +<([\w\d./]+)>/gm;function ZC(n){return n.replace(dde,mde)}const pde=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function mde(n,e){let t=sn[e];if(t===void 0){const r=pde.get(e);if(r!==void 0)t=sn[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return ZC(t)}const gde=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function wB(n){return n.replace(gde,vde)}function vde(n,e,t,r){let i="";for(let a=parseInt(e);a<parseInt(t);a++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return i}function MB(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function yde(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===_S?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===pv?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===fs&&(e="SHADOWMAP_TYPE_VSM"),e}function xde(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case iu:case Sc:e="ENVMAP_TYPE_CUBE";break;case vm:e="ENVMAP_TYPE_CUBE_UV";break}return e}function _de(n){let e="ENVMAP_MODE_REFLECTION";return n.envMap&&n.envMapMode===Sc&&(e="ENVMAP_MODE_REFRACTION"),e}function bde(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case Yy:e="ENVMAP_BLENDING_MULTIPLY";break;case AW:e="ENVMAP_BLENDING_MIX";break;case TW:e="ENVMAP_BLENDING_ADD";break}return e}function Sde(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:r,maxMip:t}}function wde(n,e,t,r){const i=n.getContext(),a=t.defines;let o=t.vertexShader,s=t.fragmentShader;const l=yde(t),c=xde(t),f=_de(t),d=bde(t),m=Sde(t),v=t.isWebGL2?"":ude(t),x=cde(t),S=fde(a),_=i.createProgram();let b,M,T=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(b=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,S].filter(gp).join(`
`),b.length>0&&(b+=`
`),M=[v,"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,S].filter(gp).join(`
`),M.length>0&&(M+=`
`)):(b=[MB(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,S,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+f:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(gp).join(`
`),M=[v,MB(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,S,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+f:"",t.envMap?"#define "+d:"",m?"#define CUBEUV_TEXEL_WIDTH "+m.texelWidth:"",m?"#define CUBEUV_TEXEL_HEIGHT "+m.texelHeight:"",m?"#define CUBEUV_MAX_MIP "+m.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==qs?"#define TONE_MAPPING":"",t.toneMapping!==qs?sn.tonemapping_pars_fragment:"",t.toneMapping!==qs?lde("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",sn.colorspace_pars_fragment,sde("linearToOutputTexel",t.outputColorSpace),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(gp).join(`
`)),o=ZC(o),o=bB(o,t),o=SB(o,t),s=ZC(s),s=bB(s,t),s=SB(s,t),o=wB(o),s=wB(s),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(T=`#version 300 es
`,b=[x,"precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+b,M=["precision mediump sampler2DArray;","#define varying in",t.glslVersion===XC?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===XC?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+M);const E=T+b+o,P=T+M+s,R=xB(i,i.VERTEX_SHADER,E),I=xB(i,i.FRAGMENT_SHADER,P);i.attachShader(_,R),i.attachShader(_,I),t.index0AttributeName!==void 0?i.bindAttribLocation(_,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(_,0,"position"),i.linkProgram(_);function U(G){if(n.debug.checkShaderErrors){const K=i.getProgramInfoLog(_).trim(),H=i.getShaderInfoLog(R).trim(),te=i.getShaderInfoLog(I).trim();let J=!0,ie=!0;if(i.getProgramParameter(_,i.LINK_STATUS)===!1)if(J=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(i,_,R,I);else{const B=_B(i,R,"vertex"),X=_B(i,I,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(_,i.VALIDATE_STATUS)+`

Program Info Log: `+K+`
`+B+`
`+X)}else K!==""?console.warn("THREE.WebGLProgram: Program Info Log:",K):(H===""||te==="")&&(ie=!1);ie&&(G.diagnostics={runnable:J,programLog:K,vertexShader:{log:H,prefix:b},fragmentShader:{log:te,prefix:M}})}i.deleteShader(R),i.deleteShader(I),N=new M_(i,_),k=hde(i,_)}let N;this.getUniforms=function(){return N===void 0&&U(this),N};let k;this.getAttributes=function(){return k===void 0&&U(this),k};let z=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return z===!1&&(z=i.getProgramParameter(_,rde)),z},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(_),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=ide++,this.cacheKey=e,this.usedTimes=1,this.program=_,this.vertexShader=R,this.fragmentShader=I,this}let Mde=0;class Ade{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(t),a=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(a)===!1&&(o.add(a),a.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const r of t)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let r=t.get(e);return r===void 0&&(r=new Set,t.set(e,r)),r}_getShaderStage(e){const t=this.shaderCache;let r=t.get(e);return r===void 0&&(r=new Tde(e),t.set(e,r)),r}}class Tde{constructor(e){this.id=Mde++,this.code=e,this.usedTimes=0}}function Ede(n,e,t,r,i,a,o){const s=new hh,l=new Ade,c=[],f=i.isWebGL2,d=i.logarithmicDepthBuffer,m=i.vertexTextures;let v=i.precision;const x={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function S(N){return N===0?"uv":`uv${N}`}function _(N,k,z,G,K){const H=G.fog,te=K.geometry,J=N.isMeshStandardMaterial?G.environment:null,ie=(N.isMeshStandardMaterial?t:e).get(N.envMap||J),B=ie&&ie.mapping===vm?ie.image.height:null,X=x[N.type];N.precision!==null&&(v=i.getMaxPrecision(N.precision),v!==N.precision&&console.warn("THREE.WebGLProgram.getParameters:",N.precision,"not supported, using",v,"instead."));const $=te.morphAttributes.position||te.morphAttributes.normal||te.morphAttributes.color,V=$!==void 0?$.length:0;let ee=0;te.morphAttributes.position!==void 0&&(ee=1),te.morphAttributes.normal!==void 0&&(ee=2),te.morphAttributes.color!==void 0&&(ee=3);let se,me,Ce,Ne;if(X){const zn=ms[X];se=zn.vertexShader,me=zn.fragmentShader}else se=N.vertexShader,me=N.fragmentShader,l.update(N),Ce=l.getVertexShaderID(N),Ne=l.getFragmentShaderID(N);const De=n.getRenderTarget(),Ke=K.isInstancedMesh===!0,Te=K.isBatchedMesh===!0,Le=!!N.map,Ge=!!N.matcap,q=!!ie,Re=!!N.aoMap,_e=!!N.lightMap,Fe=!!N.bumpMap,Ae=!!N.normalMap,it=!!N.displacementMap,Qe=!!N.emissiveMap,Y=!!N.metalnessMap,W=!!N.roughnessMap,ge=N.anisotropy>0,ze=N.clearcoat>0,je=N.iridescence>0,ke=N.sheen>0,xt=N.transmission>0,tt=ge&&!!N.anisotropyMap,lt=ze&&!!N.clearcoatMap,Tt=ze&&!!N.clearcoatNormalMap,Vt=ze&&!!N.clearcoatRoughnessMap,Ve=je&&!!N.iridescenceMap,en=je&&!!N.iridescenceThicknessMap,Zt=ke&&!!N.sheenColorMap,Ft=ke&&!!N.sheenRoughnessMap,Ct=!!N.specularMap,pt=!!N.specularColorMap,ue=!!N.specularIntensityMap,Ue=xt&&!!N.transmissionMap,st=xt&&!!N.thicknessMap,at=!!N.gradientMap,He=!!N.alphaMap,le=N.alphaTest>0,Xe=!!N.alphaHash,rt=!!N.extensions,Rt=!!te.attributes.uv1,_t=!!te.attributes.uv2,rn=!!te.attributes.uv3;let dn=qs;return N.toneMapped&&(De===null||De.isXRRenderTarget===!0)&&(dn=n.toneMapping),{isWebGL2:f,shaderID:X,shaderType:N.type,shaderName:N.name,vertexShader:se,fragmentShader:me,defines:N.defines,customVertexShaderID:Ce,customFragmentShaderID:Ne,isRawShaderMaterial:N.isRawShaderMaterial===!0,glslVersion:N.glslVersion,precision:v,batching:Te,instancing:Ke,instancingColor:Ke&&K.instanceColor!==null,supportsVertexTextures:m,outputColorSpace:De===null?n.outputColorSpace:De.isXRRenderTarget===!0?De.texture.colorSpace:Qs,map:Le,matcap:Ge,envMap:q,envMapMode:q&&ie.mapping,envMapCubeUVHeight:B,aoMap:Re,lightMap:_e,bumpMap:Fe,normalMap:Ae,displacementMap:m&&it,emissiveMap:Qe,normalMapObjectSpace:Ae&&N.normalMapType===$W,normalMapTangentSpace:Ae&&N.normalMapType===Dc,metalnessMap:Y,roughnessMap:W,anisotropy:ge,anisotropyMap:tt,clearcoat:ze,clearcoatMap:lt,clearcoatNormalMap:Tt,clearcoatRoughnessMap:Vt,iridescence:je,iridescenceMap:Ve,iridescenceThicknessMap:en,sheen:ke,sheenColorMap:Zt,sheenRoughnessMap:Ft,specularMap:Ct,specularColorMap:pt,specularIntensityMap:ue,transmission:xt,transmissionMap:Ue,thicknessMap:st,gradientMap:at,opaque:N.transparent===!1&&N.blending===ch,alphaMap:He,alphaTest:le,alphaHash:Xe,combine:N.combine,mapUv:Le&&S(N.map.channel),aoMapUv:Re&&S(N.aoMap.channel),lightMapUv:_e&&S(N.lightMap.channel),bumpMapUv:Fe&&S(N.bumpMap.channel),normalMapUv:Ae&&S(N.normalMap.channel),displacementMapUv:it&&S(N.displacementMap.channel),emissiveMapUv:Qe&&S(N.emissiveMap.channel),metalnessMapUv:Y&&S(N.metalnessMap.channel),roughnessMapUv:W&&S(N.roughnessMap.channel),anisotropyMapUv:tt&&S(N.anisotropyMap.channel),clearcoatMapUv:lt&&S(N.clearcoatMap.channel),clearcoatNormalMapUv:Tt&&S(N.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Vt&&S(N.clearcoatRoughnessMap.channel),iridescenceMapUv:Ve&&S(N.iridescenceMap.channel),iridescenceThicknessMapUv:en&&S(N.iridescenceThicknessMap.channel),sheenColorMapUv:Zt&&S(N.sheenColorMap.channel),sheenRoughnessMapUv:Ft&&S(N.sheenRoughnessMap.channel),specularMapUv:Ct&&S(N.specularMap.channel),specularColorMapUv:pt&&S(N.specularColorMap.channel),specularIntensityMapUv:ue&&S(N.specularIntensityMap.channel),transmissionMapUv:Ue&&S(N.transmissionMap.channel),thicknessMapUv:st&&S(N.thicknessMap.channel),alphaMapUv:He&&S(N.alphaMap.channel),vertexTangents:!!te.attributes.tangent&&(Ae||ge),vertexColors:N.vertexColors,vertexAlphas:N.vertexColors===!0&&!!te.attributes.color&&te.attributes.color.itemSize===4,vertexUv1s:Rt,vertexUv2s:_t,vertexUv3s:rn,pointsUvs:K.isPoints===!0&&!!te.attributes.uv&&(Le||He),fog:!!H,useFog:N.fog===!0,fogExp2:H&&H.isFogExp2,flatShading:N.flatShading===!0,sizeAttenuation:N.sizeAttenuation===!0,logarithmicDepthBuffer:d,skinning:K.isSkinnedMesh===!0,morphTargets:te.morphAttributes.position!==void 0,morphNormals:te.morphAttributes.normal!==void 0,morphColors:te.morphAttributes.color!==void 0,morphTargetsCount:V,morphTextureStride:ee,numDirLights:k.directional.length,numPointLights:k.point.length,numSpotLights:k.spot.length,numSpotLightMaps:k.spotLightMap.length,numRectAreaLights:k.rectArea.length,numHemiLights:k.hemi.length,numDirLightShadows:k.directionalShadowMap.length,numPointLightShadows:k.pointShadowMap.length,numSpotLightShadows:k.spotShadowMap.length,numSpotLightShadowsWithMaps:k.numSpotLightShadowsWithMaps,numLightProbes:k.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:N.dithering,shadowMapEnabled:n.shadowMap.enabled&&z.length>0,shadowMapType:n.shadowMap.type,toneMapping:dn,useLegacyLights:n._useLegacyLights,decodeVideoTexture:Le&&N.map.isVideoTexture===!0&&In.getTransfer(N.map.colorSpace)===qn,premultipliedAlpha:N.premultipliedAlpha,doubleSided:N.side===vs,flipSided:N.side===$i,useDepthPacking:N.depthPacking>=0,depthPacking:N.depthPacking||0,index0AttributeName:N.index0AttributeName,extensionDerivatives:rt&&N.extensions.derivatives===!0,extensionFragDepth:rt&&N.extensions.fragDepth===!0,extensionDrawBuffers:rt&&N.extensions.drawBuffers===!0,extensionShaderTextureLOD:rt&&N.extensions.shaderTextureLOD===!0,extensionClipCullDistance:rt&&N.extensions.clipCullDistance&&r.has("WEBGL_clip_cull_distance"),rendererExtensionFragDepth:f||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:f||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:f||r.has("EXT_shader_texture_lod"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:N.customProgramCacheKey()}}function b(N){const k=[];if(N.shaderID?k.push(N.shaderID):(k.push(N.customVertexShaderID),k.push(N.customFragmentShaderID)),N.defines!==void 0)for(const z in N.defines)k.push(z),k.push(N.defines[z]);return N.isRawShaderMaterial===!1&&(M(k,N),T(k,N),k.push(n.outputColorSpace)),k.push(N.customProgramCacheKey),k.join()}function M(N,k){N.push(k.precision),N.push(k.outputColorSpace),N.push(k.envMapMode),N.push(k.envMapCubeUVHeight),N.push(k.mapUv),N.push(k.alphaMapUv),N.push(k.lightMapUv),N.push(k.aoMapUv),N.push(k.bumpMapUv),N.push(k.normalMapUv),N.push(k.displacementMapUv),N.push(k.emissiveMapUv),N.push(k.metalnessMapUv),N.push(k.roughnessMapUv),N.push(k.anisotropyMapUv),N.push(k.clearcoatMapUv),N.push(k.clearcoatNormalMapUv),N.push(k.clearcoatRoughnessMapUv),N.push(k.iridescenceMapUv),N.push(k.iridescenceThicknessMapUv),N.push(k.sheenColorMapUv),N.push(k.sheenRoughnessMapUv),N.push(k.specularMapUv),N.push(k.specularColorMapUv),N.push(k.specularIntensityMapUv),N.push(k.transmissionMapUv),N.push(k.thicknessMapUv),N.push(k.combine),N.push(k.fogExp2),N.push(k.sizeAttenuation),N.push(k.morphTargetsCount),N.push(k.morphAttributeCount),N.push(k.numDirLights),N.push(k.numPointLights),N.push(k.numSpotLights),N.push(k.numSpotLightMaps),N.push(k.numHemiLights),N.push(k.numRectAreaLights),N.push(k.numDirLightShadows),N.push(k.numPointLightShadows),N.push(k.numSpotLightShadows),N.push(k.numSpotLightShadowsWithMaps),N.push(k.numLightProbes),N.push(k.shadowMapType),N.push(k.toneMapping),N.push(k.numClippingPlanes),N.push(k.numClipIntersection),N.push(k.depthPacking)}function T(N,k){s.disableAll(),k.isWebGL2&&s.enable(0),k.supportsVertexTextures&&s.enable(1),k.instancing&&s.enable(2),k.instancingColor&&s.enable(3),k.matcap&&s.enable(4),k.envMap&&s.enable(5),k.normalMapObjectSpace&&s.enable(6),k.normalMapTangentSpace&&s.enable(7),k.clearcoat&&s.enable(8),k.iridescence&&s.enable(9),k.alphaTest&&s.enable(10),k.vertexColors&&s.enable(11),k.vertexAlphas&&s.enable(12),k.vertexUv1s&&s.enable(13),k.vertexUv2s&&s.enable(14),k.vertexUv3s&&s.enable(15),k.vertexTangents&&s.enable(16),k.anisotropy&&s.enable(17),k.alphaHash&&s.enable(18),k.batching&&s.enable(19),N.push(s.mask),s.disableAll(),k.fog&&s.enable(0),k.useFog&&s.enable(1),k.flatShading&&s.enable(2),k.logarithmicDepthBuffer&&s.enable(3),k.skinning&&s.enable(4),k.morphTargets&&s.enable(5),k.morphNormals&&s.enable(6),k.morphColors&&s.enable(7),k.premultipliedAlpha&&s.enable(8),k.shadowMapEnabled&&s.enable(9),k.useLegacyLights&&s.enable(10),k.doubleSided&&s.enable(11),k.flipSided&&s.enable(12),k.useDepthPacking&&s.enable(13),k.dithering&&s.enable(14),k.transmission&&s.enable(15),k.sheen&&s.enable(16),k.opaque&&s.enable(17),k.pointsUvs&&s.enable(18),k.decodeVideoTexture&&s.enable(19),N.push(s.mask)}function E(N){const k=x[N.type];let z;if(k){const G=ms[k];z=a8.clone(G.uniforms)}else z=N.uniforms;return z}function P(N,k){let z;for(let G=0,K=c.length;G<K;G++){const H=c[G];if(H.cacheKey===k){z=H,++z.usedTimes;break}}return z===void 0&&(z=new wde(n,k,N,a),c.push(z)),z}function R(N){if(--N.usedTimes===0){const k=c.indexOf(N);c[k]=c[c.length-1],c.pop(),N.destroy()}}function I(N){l.remove(N)}function U(){l.dispose()}return{getParameters:_,getProgramCacheKey:b,getUniforms:E,acquireProgram:P,releaseProgram:R,releaseShaderCache:I,programs:c,dispose:U}}function Pde(){let n=new WeakMap;function e(a){let o=n.get(a);return o===void 0&&(o={},n.set(a,o)),o}function t(a){n.delete(a)}function r(a,o,s){n.get(a)[o]=s}function i(){n=new WeakMap}return{get:e,remove:t,update:r,dispose:i}}function Cde(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function AB(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function TB(){const n=[];let e=0;const t=[],r=[],i=[];function a(){e=0,t.length=0,r.length=0,i.length=0}function o(d,m,v,x,S,_){let b=n[e];return b===void 0?(b={id:d.id,object:d,geometry:m,material:v,groupOrder:x,renderOrder:d.renderOrder,z:S,group:_},n[e]=b):(b.id=d.id,b.object=d,b.geometry=m,b.material=v,b.groupOrder=x,b.renderOrder=d.renderOrder,b.z=S,b.group=_),e++,b}function s(d,m,v,x,S,_){const b=o(d,m,v,x,S,_);v.transmission>0?r.push(b):v.transparent===!0?i.push(b):t.push(b)}function l(d,m,v,x,S,_){const b=o(d,m,v,x,S,_);v.transmission>0?r.unshift(b):v.transparent===!0?i.unshift(b):t.unshift(b)}function c(d,m){t.length>1&&t.sort(d||Cde),r.length>1&&r.sort(m||AB),i.length>1&&i.sort(m||AB)}function f(){for(let d=e,m=n.length;d<m;d++){const v=n[d];if(v.id===null)break;v.id=null,v.object=null,v.geometry=null,v.material=null,v.group=null}}return{opaque:t,transmissive:r,transparent:i,init:a,push:s,unshift:l,finish:f,sort:c}}function Ode(){let n=new WeakMap;function e(r,i){const a=n.get(r);let o;return a===void 0?(o=new TB,n.set(r,[o])):i>=a.length?(o=new TB,a.push(o)):o=a[i],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function Rde(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new Q,color:new ft};break;case"SpotLight":t={position:new Q,direction:new Q,color:new ft,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new Q,color:new ft,distance:0,decay:0};break;case"HemisphereLight":t={direction:new Q,skyColor:new ft,groundColor:new ft};break;case"RectAreaLight":t={color:new ft,position:new Q,halfWidth:new Q,halfHeight:new Q};break}return n[e.id]=t,t}}}function Ide(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ie};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ie};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ie,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let Dde=0;function Lde(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function Nde(n,e){const t=new Rde,r=Ide(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let f=0;f<9;f++)i.probe.push(new Q);const a=new Q,o=new jt,s=new jt;function l(f,d){let m=0,v=0,x=0;for(let G=0;G<9;G++)i.probe[G].set(0,0,0);let S=0,_=0,b=0,M=0,T=0,E=0,P=0,R=0,I=0,U=0,N=0;f.sort(Lde);const k=d===!0?Math.PI:1;for(let G=0,K=f.length;G<K;G++){const H=f[G],te=H.color,J=H.intensity,ie=H.distance,B=H.shadow&&H.shadow.map?H.shadow.map.texture:null;if(H.isAmbientLight)m+=te.r*J*k,v+=te.g*J*k,x+=te.b*J*k;else if(H.isLightProbe){for(let X=0;X<9;X++)i.probe[X].addScaledVector(H.sh.coefficients[X],J);N++}else if(H.isDirectionalLight){const X=t.get(H);if(X.color.copy(H.color).multiplyScalar(H.intensity*k),H.castShadow){const $=H.shadow,V=r.get(H);V.shadowBias=$.bias,V.shadowNormalBias=$.normalBias,V.shadowRadius=$.radius,V.shadowMapSize=$.mapSize,i.directionalShadow[S]=V,i.directionalShadowMap[S]=B,i.directionalShadowMatrix[S]=H.shadow.matrix,E++}i.directional[S]=X,S++}else if(H.isSpotLight){const X=t.get(H);X.position.setFromMatrixPosition(H.matrixWorld),X.color.copy(te).multiplyScalar(J*k),X.distance=ie,X.coneCos=Math.cos(H.angle),X.penumbraCos=Math.cos(H.angle*(1-H.penumbra)),X.decay=H.decay,i.spot[b]=X;const $=H.shadow;if(H.map&&(i.spotLightMap[I]=H.map,I++,$.updateMatrices(H),H.castShadow&&U++),i.spotLightMatrix[b]=$.matrix,H.castShadow){const V=r.get(H);V.shadowBias=$.bias,V.shadowNormalBias=$.normalBias,V.shadowRadius=$.radius,V.shadowMapSize=$.mapSize,i.spotShadow[b]=V,i.spotShadowMap[b]=B,R++}b++}else if(H.isRectAreaLight){const X=t.get(H);X.color.copy(te).multiplyScalar(J),X.halfWidth.set(H.width*.5,0,0),X.halfHeight.set(0,H.height*.5,0),i.rectArea[M]=X,M++}else if(H.isPointLight){const X=t.get(H);if(X.color.copy(H.color).multiplyScalar(H.intensity*k),X.distance=H.distance,X.decay=H.decay,H.castShadow){const $=H.shadow,V=r.get(H);V.shadowBias=$.bias,V.shadowNormalBias=$.normalBias,V.shadowRadius=$.radius,V.shadowMapSize=$.mapSize,V.shadowCameraNear=$.camera.near,V.shadowCameraFar=$.camera.far,i.pointShadow[_]=V,i.pointShadowMap[_]=B,i.pointShadowMatrix[_]=H.shadow.matrix,P++}i.point[_]=X,_++}else if(H.isHemisphereLight){const X=t.get(H);X.skyColor.copy(H.color).multiplyScalar(J*k),X.groundColor.copy(H.groundColor).multiplyScalar(J*k),i.hemi[T]=X,T++}}M>0&&(e.isWebGL2?n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=nt.LTC_FLOAT_1,i.rectAreaLTC2=nt.LTC_FLOAT_2):(i.rectAreaLTC1=nt.LTC_HALF_1,i.rectAreaLTC2=nt.LTC_HALF_2):n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=nt.LTC_FLOAT_1,i.rectAreaLTC2=nt.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=nt.LTC_HALF_1,i.rectAreaLTC2=nt.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=m,i.ambient[1]=v,i.ambient[2]=x;const z=i.hash;(z.directionalLength!==S||z.pointLength!==_||z.spotLength!==b||z.rectAreaLength!==M||z.hemiLength!==T||z.numDirectionalShadows!==E||z.numPointShadows!==P||z.numSpotShadows!==R||z.numSpotMaps!==I||z.numLightProbes!==N)&&(i.directional.length=S,i.spot.length=b,i.rectArea.length=M,i.point.length=_,i.hemi.length=T,i.directionalShadow.length=E,i.directionalShadowMap.length=E,i.pointShadow.length=P,i.pointShadowMap.length=P,i.spotShadow.length=R,i.spotShadowMap.length=R,i.directionalShadowMatrix.length=E,i.pointShadowMatrix.length=P,i.spotLightMatrix.length=R+I-U,i.spotLightMap.length=I,i.numSpotLightShadowsWithMaps=U,i.numLightProbes=N,z.directionalLength=S,z.pointLength=_,z.spotLength=b,z.rectAreaLength=M,z.hemiLength=T,z.numDirectionalShadows=E,z.numPointShadows=P,z.numSpotShadows=R,z.numSpotMaps=I,z.numLightProbes=N,i.version=Dde++)}function c(f,d){let m=0,v=0,x=0,S=0,_=0;const b=d.matrixWorldInverse;for(let M=0,T=f.length;M<T;M++){const E=f[M];if(E.isDirectionalLight){const P=i.directional[m];P.direction.setFromMatrixPosition(E.matrixWorld),a.setFromMatrixPosition(E.target.matrixWorld),P.direction.sub(a),P.direction.transformDirection(b),m++}else if(E.isSpotLight){const P=i.spot[x];P.position.setFromMatrixPosition(E.matrixWorld),P.position.applyMatrix4(b),P.direction.setFromMatrixPosition(E.matrixWorld),a.setFromMatrixPosition(E.target.matrixWorld),P.direction.sub(a),P.direction.transformDirection(b),x++}else if(E.isRectAreaLight){const P=i.rectArea[S];P.position.setFromMatrixPosition(E.matrixWorld),P.position.applyMatrix4(b),s.identity(),o.copy(E.matrixWorld),o.premultiply(b),s.extractRotation(o),P.halfWidth.set(E.width*.5,0,0),P.halfHeight.set(0,E.height*.5,0),P.halfWidth.applyMatrix4(s),P.halfHeight.applyMatrix4(s),S++}else if(E.isPointLight){const P=i.point[v];P.position.setFromMatrixPosition(E.matrixWorld),P.position.applyMatrix4(b),v++}else if(E.isHemisphereLight){const P=i.hemi[_];P.direction.setFromMatrixPosition(E.matrixWorld),P.direction.transformDirection(b),_++}}}return{setup:l,setupView:c,state:i}}function EB(n,e){const t=new Nde(n,e),r=[],i=[];function a(){r.length=0,i.length=0}function o(d){r.push(d)}function s(d){i.push(d)}function l(d){t.setup(r,d)}function c(d){t.setupView(r,d)}return{init:a,state:{lightsArray:r,shadowsArray:i,lights:t},setupLights:l,setupLightsView:c,pushLight:o,pushShadow:s}}function kde(n,e){let t=new WeakMap;function r(a,o=0){const s=t.get(a);let l;return s===void 0?(l=new EB(n,e),t.set(a,[l])):o>=s.length?(l=new EB(n,e),s.push(l)):l=s[o],l}function i(){t=new WeakMap}return{get:r,dispose:i}}class JO extends Ci{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=WW,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class QO extends Ci{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const Ude=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,Fde=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function Bde(n,e,t){let r=new Qy;const i=new Ie,a=new Ie,o=new Sn,s=new JO({depthPacking:GW}),l=new QO,c={},f=t.maxTextureSize,d={[ru]:$i,[$i]:ru,[vs]:vs},m=new ws({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ie},radius:{value:4}},vertexShader:Ude,fragmentShader:Fde}),v=m.clone();v.defines.HORIZONTAL_PASS=1;const x=new cn;x.setAttribute("position",new Dn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const S=new ei(x,m),_=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=_S;let b=this.type;this.render=function(R,I,U){if(_.enabled===!1||_.autoUpdate===!1&&_.needsUpdate===!1||R.length===0)return;const N=n.getRenderTarget(),k=n.getActiveCubeFace(),z=n.getActiveMipmapLevel(),G=n.state;G.setBlending(Ql),G.buffers.color.setClear(1,1,1,1),G.buffers.depth.setTest(!0),G.setScissorTest(!1);const K=b!==fs&&this.type===fs,H=b===fs&&this.type!==fs;for(let te=0,J=R.length;te<J;te++){const ie=R[te],B=ie.shadow;if(B===void 0){console.warn("THREE.WebGLShadowMap:",ie,"has no shadow.");continue}if(B.autoUpdate===!1&&B.needsUpdate===!1)continue;i.copy(B.mapSize);const X=B.getFrameExtents();if(i.multiply(X),a.copy(B.mapSize),(i.x>f||i.y>f)&&(i.x>f&&(a.x=Math.floor(f/X.x),i.x=a.x*X.x,B.mapSize.x=a.x),i.y>f&&(a.y=Math.floor(f/X.y),i.y=a.y*X.y,B.mapSize.y=a.y)),B.map===null||K===!0||H===!0){const V=this.type!==fs?{minFilter:Pr,magFilter:Pr}:{};B.map!==null&&B.map.dispose(),B.map=new Ss(i.x,i.y,V),B.map.texture.name=ie.name+".shadowMap",B.camera.updateProjectionMatrix()}n.setRenderTarget(B.map),n.clear();const $=B.getViewportCount();for(let V=0;V<$;V++){const ee=B.getViewport(V);o.set(a.x*ee.x,a.y*ee.y,a.x*ee.z,a.y*ee.w),G.viewport(o),B.updateMatrices(ie,V),r=B.getFrustum(),E(I,U,B.camera,ie,this.type)}B.isPointLightShadow!==!0&&this.type===fs&&M(B,U),B.needsUpdate=!1}b=this.type,_.needsUpdate=!1,n.setRenderTarget(N,k,z)};function M(R,I){const U=e.update(S);m.defines.VSM_SAMPLES!==R.blurSamples&&(m.defines.VSM_SAMPLES=R.blurSamples,v.defines.VSM_SAMPLES=R.blurSamples,m.needsUpdate=!0,v.needsUpdate=!0),R.mapPass===null&&(R.mapPass=new Ss(i.x,i.y)),m.uniforms.shadow_pass.value=R.map.texture,m.uniforms.resolution.value=R.mapSize,m.uniforms.radius.value=R.radius,n.setRenderTarget(R.mapPass),n.clear(),n.renderBufferDirect(I,null,U,m,S,null),v.uniforms.shadow_pass.value=R.mapPass.texture,v.uniforms.resolution.value=R.mapSize,v.uniforms.radius.value=R.radius,n.setRenderTarget(R.map),n.clear(),n.renderBufferDirect(I,null,U,v,S,null)}function T(R,I,U,N){let k=null;const z=U.isPointLight===!0?R.customDistanceMaterial:R.customDepthMaterial;if(z!==void 0)k=z;else if(k=U.isPointLight===!0?l:s,n.localClippingEnabled&&I.clipShadows===!0&&Array.isArray(I.clippingPlanes)&&I.clippingPlanes.length!==0||I.displacementMap&&I.displacementScale!==0||I.alphaMap&&I.alphaTest>0||I.map&&I.alphaTest>0){const G=k.uuid,K=I.uuid;let H=c[G];H===void 0&&(H={},c[G]=H);let te=H[K];te===void 0&&(te=k.clone(),H[K]=te,I.addEventListener("dispose",P)),k=te}if(k.visible=I.visible,k.wireframe=I.wireframe,N===fs?k.side=I.shadowSide!==null?I.shadowSide:I.side:k.side=I.shadowSide!==null?I.shadowSide:d[I.side],k.alphaMap=I.alphaMap,k.alphaTest=I.alphaTest,k.map=I.map,k.clipShadows=I.clipShadows,k.clippingPlanes=I.clippingPlanes,k.clipIntersection=I.clipIntersection,k.displacementMap=I.displacementMap,k.displacementScale=I.displacementScale,k.displacementBias=I.displacementBias,k.wireframeLinewidth=I.wireframeLinewidth,k.linewidth=I.linewidth,U.isPointLight===!0&&k.isMeshDistanceMaterial===!0){const G=n.properties.get(k);G.light=U}return k}function E(R,I,U,N,k){if(R.visible===!1)return;if(R.layers.test(I.layers)&&(R.isMesh||R.isLine||R.isPoints)&&(R.castShadow||R.receiveShadow&&k===fs)&&(!R.frustumCulled||r.intersectsObject(R))){R.modelViewMatrix.multiplyMatrices(U.matrixWorldInverse,R.matrixWorld);const K=e.update(R),H=R.material;if(Array.isArray(H)){const te=K.groups;for(let J=0,ie=te.length;J<ie;J++){const B=te[J],X=H[B.materialIndex];if(X&&X.visible){const $=T(R,X,N,k);R.onBeforeShadow(n,R,I,U,K,$,B),n.renderBufferDirect(U,null,K,$,R,B),R.onAfterShadow(n,R,I,U,K,$,B)}}}else if(H.visible){const te=T(R,H,N,k);R.onBeforeShadow(n,R,I,U,K,te,null),n.renderBufferDirect(U,null,K,te,R,null),R.onAfterShadow(n,R,I,U,K,te,null)}}const G=R.children;for(let K=0,H=G.length;K<H;K++)E(G[K],I,U,N,k)}function P(R){R.target.removeEventListener("dispose",P);for(const U in c){const N=c[U],k=R.target.uuid;k in N&&(N[k].dispose(),delete N[k])}}}function zde(n,e,t){const r=t.isWebGL2;function i(){let le=!1;const Xe=new Sn;let rt=null;const Rt=new Sn(0,0,0,0);return{setMask:function(_t){rt!==_t&&!le&&(n.colorMask(_t,_t,_t,_t),rt=_t)},setLocked:function(_t){le=_t},setClear:function(_t,rn,dn,En,zn){zn===!0&&(_t*=En,rn*=En,dn*=En),Xe.set(_t,rn,dn,En),Rt.equals(Xe)===!1&&(n.clearColor(_t,rn,dn,En),Rt.copy(Xe))},reset:function(){le=!1,rt=null,Rt.set(-1,0,0,0)}}}function a(){let le=!1,Xe=null,rt=null,Rt=null;return{setTest:function(_t){_t?Te(n.DEPTH_TEST):Le(n.DEPTH_TEST)},setMask:function(_t){Xe!==_t&&!le&&(n.depthMask(_t),Xe=_t)},setFunc:function(_t){if(rt!==_t){switch(_t){case yW:n.depthFunc(n.NEVER);break;case xW:n.depthFunc(n.ALWAYS);break;case _W:n.depthFunc(n.LESS);break;case cy:n.depthFunc(n.LEQUAL);break;case bW:n.depthFunc(n.EQUAL);break;case SW:n.depthFunc(n.GEQUAL);break;case wW:n.depthFunc(n.GREATER);break;case MW:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}rt=_t}},setLocked:function(_t){le=_t},setClear:function(_t){Rt!==_t&&(n.clearDepth(_t),Rt=_t)},reset:function(){le=!1,Xe=null,rt=null,Rt=null}}}function o(){let le=!1,Xe=null,rt=null,Rt=null,_t=null,rn=null,dn=null,En=null,zn=null;return{setTest:function(hn){le||(hn?Te(n.STENCIL_TEST):Le(n.STENCIL_TEST))},setMask:function(hn){Xe!==hn&&!le&&(n.stencilMask(hn),Xe=hn)},setFunc:function(hn,wr,ai){(rt!==hn||Rt!==wr||_t!==ai)&&(n.stencilFunc(hn,wr,ai),rt=hn,Rt=wr,_t=ai)},setOp:function(hn,wr,ai){(rn!==hn||dn!==wr||En!==ai)&&(n.stencilOp(hn,wr,ai),rn=hn,dn=wr,En=ai)},setLocked:function(hn){le=hn},setClear:function(hn){zn!==hn&&(n.clearStencil(hn),zn=hn)},reset:function(){le=!1,Xe=null,rt=null,Rt=null,_t=null,rn=null,dn=null,En=null,zn=null}}}const s=new i,l=new a,c=new o,f=new WeakMap,d=new WeakMap;let m={},v={},x=new WeakMap,S=[],_=null,b=!1,M=null,T=null,E=null,P=null,R=null,I=null,U=null,N=new ft(0,0,0),k=0,z=!1,G=null,K=null,H=null,te=null,J=null;const ie=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let B=!1,X=0;const $=n.getParameter(n.VERSION);$.indexOf("WebGL")!==-1?(X=parseFloat(/^WebGL (\d)/.exec($)[1]),B=X>=1):$.indexOf("OpenGL ES")!==-1&&(X=parseFloat(/^OpenGL ES (\d)/.exec($)[1]),B=X>=2);let V=null,ee={};const se=n.getParameter(n.SCISSOR_BOX),me=n.getParameter(n.VIEWPORT),Ce=new Sn().fromArray(se),Ne=new Sn().fromArray(me);function De(le,Xe,rt,Rt){const _t=new Uint8Array(4),rn=n.createTexture();n.bindTexture(le,rn),n.texParameteri(le,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(le,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let dn=0;dn<rt;dn++)r&&(le===n.TEXTURE_3D||le===n.TEXTURE_2D_ARRAY)?n.texImage3D(Xe,0,n.RGBA,1,1,Rt,0,n.RGBA,n.UNSIGNED_BYTE,_t):n.texImage2D(Xe+dn,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,_t);return rn}const Ke={};Ke[n.TEXTURE_2D]=De(n.TEXTURE_2D,n.TEXTURE_2D,1),Ke[n.TEXTURE_CUBE_MAP]=De(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),r&&(Ke[n.TEXTURE_2D_ARRAY]=De(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),Ke[n.TEXTURE_3D]=De(n.TEXTURE_3D,n.TEXTURE_3D,1,1)),s.setClear(0,0,0,1),l.setClear(1),c.setClear(0),Te(n.DEPTH_TEST),l.setFunc(cy),Qe(!1),Y(gC),Te(n.CULL_FACE),Ae(Ql);function Te(le){m[le]!==!0&&(n.enable(le),m[le]=!0)}function Le(le){m[le]!==!1&&(n.disable(le),m[le]=!1)}function Ge(le,Xe){return v[le]!==Xe?(n.bindFramebuffer(le,Xe),v[le]=Xe,r&&(le===n.DRAW_FRAMEBUFFER&&(v[n.FRAMEBUFFER]=Xe),le===n.FRAMEBUFFER&&(v[n.DRAW_FRAMEBUFFER]=Xe)),!0):!1}function q(le,Xe){let rt=S,Rt=!1;if(le)if(rt=x.get(Xe),rt===void 0&&(rt=[],x.set(Xe,rt)),le.isWebGLMultipleRenderTargets){const _t=le.texture;if(rt.length!==_t.length||rt[0]!==n.COLOR_ATTACHMENT0){for(let rn=0,dn=_t.length;rn<dn;rn++)rt[rn]=n.COLOR_ATTACHMENT0+rn;rt.length=_t.length,Rt=!0}}else rt[0]!==n.COLOR_ATTACHMENT0&&(rt[0]=n.COLOR_ATTACHMENT0,Rt=!0);else rt[0]!==n.BACK&&(rt[0]=n.BACK,Rt=!0);Rt&&(t.isWebGL2?n.drawBuffers(rt):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(rt))}function Re(le){return _!==le?(n.useProgram(le),_=le,!0):!1}const _e={[cc]:n.FUNC_ADD,[rW]:n.FUNC_SUBTRACT,[iW]:n.FUNC_REVERSE_SUBTRACT};if(r)_e[xC]=n.MIN,_e[_C]=n.MAX;else{const le=e.get("EXT_blend_minmax");le!==null&&(_e[xC]=le.MIN_EXT,_e[_C]=le.MAX_EXT)}const Fe={[aW]:n.ZERO,[oW]:n.ONE,[sW]:n.SRC_COLOR,[Mb]:n.SRC_ALPHA,[dW]:n.SRC_ALPHA_SATURATE,[fW]:n.DST_COLOR,[uW]:n.DST_ALPHA,[lW]:n.ONE_MINUS_SRC_COLOR,[Ab]:n.ONE_MINUS_SRC_ALPHA,[hW]:n.ONE_MINUS_DST_COLOR,[cW]:n.ONE_MINUS_DST_ALPHA,[pW]:n.CONSTANT_COLOR,[mW]:n.ONE_MINUS_CONSTANT_COLOR,[gW]:n.CONSTANT_ALPHA,[vW]:n.ONE_MINUS_CONSTANT_ALPHA};function Ae(le,Xe,rt,Rt,_t,rn,dn,En,zn,hn){if(le===Ql){b===!0&&(Le(n.BLEND),b=!1);return}if(b===!1&&(Te(n.BLEND),b=!0),le!==nW){if(le!==M||hn!==z){if((T!==cc||R!==cc)&&(n.blendEquation(n.FUNC_ADD),T=cc,R=cc),hn)switch(le){case ch:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case uy:n.blendFunc(n.ONE,n.ONE);break;case vC:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case yC:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",le);break}else switch(le){case ch:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case uy:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case vC:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case yC:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",le);break}E=null,P=null,I=null,U=null,N.set(0,0,0),k=0,M=le,z=hn}return}_t=_t||Xe,rn=rn||rt,dn=dn||Rt,(Xe!==T||_t!==R)&&(n.blendEquationSeparate(_e[Xe],_e[_t]),T=Xe,R=_t),(rt!==E||Rt!==P||rn!==I||dn!==U)&&(n.blendFuncSeparate(Fe[rt],Fe[Rt],Fe[rn],Fe[dn]),E=rt,P=Rt,I=rn,U=dn),(En.equals(N)===!1||zn!==k)&&(n.blendColor(En.r,En.g,En.b,zn),N.copy(En),k=zn),M=le,z=!1}function it(le,Xe){le.side===vs?Le(n.CULL_FACE):Te(n.CULL_FACE);let rt=le.side===$i;Xe&&(rt=!rt),Qe(rt),le.blending===ch&&le.transparent===!1?Ae(Ql):Ae(le.blending,le.blendEquation,le.blendSrc,le.blendDst,le.blendEquationAlpha,le.blendSrcAlpha,le.blendDstAlpha,le.blendColor,le.blendAlpha,le.premultipliedAlpha),l.setFunc(le.depthFunc),l.setTest(le.depthTest),l.setMask(le.depthWrite),s.setMask(le.colorWrite);const Rt=le.stencilWrite;c.setTest(Rt),Rt&&(c.setMask(le.stencilWriteMask),c.setFunc(le.stencilFunc,le.stencilRef,le.stencilFuncMask),c.setOp(le.stencilFail,le.stencilZFail,le.stencilZPass)),ge(le.polygonOffset,le.polygonOffsetFactor,le.polygonOffsetUnits),le.alphaToCoverage===!0?Te(n.SAMPLE_ALPHA_TO_COVERAGE):Le(n.SAMPLE_ALPHA_TO_COVERAGE)}function Qe(le){G!==le&&(le?n.frontFace(n.CW):n.frontFace(n.CCW),G=le)}function Y(le){le!==QH?(Te(n.CULL_FACE),le!==K&&(le===gC?n.cullFace(n.BACK):le===eW?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):Le(n.CULL_FACE),K=le}function W(le){le!==H&&(B&&n.lineWidth(le),H=le)}function ge(le,Xe,rt){le?(Te(n.POLYGON_OFFSET_FILL),(te!==Xe||J!==rt)&&(n.polygonOffset(Xe,rt),te=Xe,J=rt)):Le(n.POLYGON_OFFSET_FILL)}function ze(le){le?Te(n.SCISSOR_TEST):Le(n.SCISSOR_TEST)}function je(le){le===void 0&&(le=n.TEXTURE0+ie-1),V!==le&&(n.activeTexture(le),V=le)}function ke(le,Xe,rt){rt===void 0&&(V===null?rt=n.TEXTURE0+ie-1:rt=V);let Rt=ee[rt];Rt===void 0&&(Rt={type:void 0,texture:void 0},ee[rt]=Rt),(Rt.type!==le||Rt.texture!==Xe)&&(V!==rt&&(n.activeTexture(rt),V=rt),n.bindTexture(le,Xe||Ke[le]),Rt.type=le,Rt.texture=Xe)}function xt(){const le=ee[V];le!==void 0&&le.type!==void 0&&(n.bindTexture(le.type,null),le.type=void 0,le.texture=void 0)}function tt(){try{n.compressedTexImage2D.apply(n,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function lt(){try{n.compressedTexImage3D.apply(n,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function Tt(){try{n.texSubImage2D.apply(n,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function Vt(){try{n.texSubImage3D.apply(n,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function Ve(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function en(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function Zt(){try{n.texStorage2D.apply(n,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function Ft(){try{n.texStorage3D.apply(n,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function Ct(){try{n.texImage2D.apply(n,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function pt(){try{n.texImage3D.apply(n,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function ue(le){Ce.equals(le)===!1&&(n.scissor(le.x,le.y,le.z,le.w),Ce.copy(le))}function Ue(le){Ne.equals(le)===!1&&(n.viewport(le.x,le.y,le.z,le.w),Ne.copy(le))}function st(le,Xe){let rt=d.get(Xe);rt===void 0&&(rt=new WeakMap,d.set(Xe,rt));let Rt=rt.get(le);Rt===void 0&&(Rt=n.getUniformBlockIndex(Xe,le.name),rt.set(le,Rt))}function at(le,Xe){const Rt=d.get(Xe).get(le);f.get(Xe)!==Rt&&(n.uniformBlockBinding(Xe,Rt,le.__bindingPointIndex),f.set(Xe,Rt))}function He(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),r===!0&&(n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),m={},V=null,ee={},v={},x=new WeakMap,S=[],_=null,b=!1,M=null,T=null,E=null,P=null,R=null,I=null,U=null,N=new ft(0,0,0),k=0,z=!1,G=null,K=null,H=null,te=null,J=null,Ce.set(0,0,n.canvas.width,n.canvas.height),Ne.set(0,0,n.canvas.width,n.canvas.height),s.reset(),l.reset(),c.reset()}return{buffers:{color:s,depth:l,stencil:c},enable:Te,disable:Le,bindFramebuffer:Ge,drawBuffers:q,useProgram:Re,setBlending:Ae,setMaterial:it,setFlipSided:Qe,setCullFace:Y,setLineWidth:W,setPolygonOffset:ge,setScissorTest:ze,activeTexture:je,bindTexture:ke,unbindTexture:xt,compressedTexImage2D:tt,compressedTexImage3D:lt,texImage2D:Ct,texImage3D:pt,updateUBOMapping:st,uniformBlockBinding:at,texStorage2D:Zt,texStorage3D:Ft,texSubImage2D:Tt,texSubImage3D:Vt,compressedTexSubImage2D:Ve,compressedTexSubImage3D:en,scissor:ue,viewport:Ue,reset:He}}function jde(n,e,t,r,i,a,o){const s=i.isWebGL2,l=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,c=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),f=new WeakMap;let d;const m=new WeakMap;let v=!1;try{v=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function x(Y,W){return v?new OffscreenCanvas(Y,W):Sy("canvas")}function S(Y,W,ge,ze){let je=1;if((Y.width>ze||Y.height>ze)&&(je=ze/Math.max(Y.width,Y.height)),je<1||W===!0)if(typeof HTMLImageElement<"u"&&Y instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&Y instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&Y instanceof ImageBitmap){const ke=W?Pb:Math.floor,xt=ke(je*Y.width),tt=ke(je*Y.height);d===void 0&&(d=x(xt,tt));const lt=ge?x(xt,tt):d;return lt.width=xt,lt.height=tt,lt.getContext("2d").drawImage(Y,0,0,xt,tt),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Y.width+"x"+Y.height+") to ("+xt+"x"+tt+")."),lt}else return"data"in Y&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Y.width+"x"+Y.height+")."),Y;return Y}function _(Y){return YC(Y.width)&&YC(Y.height)}function b(Y){return s?!1:Y.wrapS!==Hi||Y.wrapT!==Hi||Y.minFilter!==Pr&&Y.minFilter!==Cr}function M(Y,W){return Y.generateMipmaps&&W&&Y.minFilter!==Pr&&Y.minFilter!==Cr}function T(Y){n.generateMipmap(Y)}function E(Y,W,ge,ze,je=!1){if(s===!1)return W;if(Y!==null){if(n[Y]!==void 0)return n[Y];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Y+"'")}let ke=W;if(W===n.RED&&(ge===n.FLOAT&&(ke=n.R32F),ge===n.HALF_FLOAT&&(ke=n.R16F),ge===n.UNSIGNED_BYTE&&(ke=n.R8)),W===n.RED_INTEGER&&(ge===n.UNSIGNED_BYTE&&(ke=n.R8UI),ge===n.UNSIGNED_SHORT&&(ke=n.R16UI),ge===n.UNSIGNED_INT&&(ke=n.R32UI),ge===n.BYTE&&(ke=n.R8I),ge===n.SHORT&&(ke=n.R16I),ge===n.INT&&(ke=n.R32I)),W===n.RG&&(ge===n.FLOAT&&(ke=n.RG32F),ge===n.HALF_FLOAT&&(ke=n.RG16F),ge===n.UNSIGNED_BYTE&&(ke=n.RG8)),W===n.RGBA){const xt=je?yy:In.getTransfer(ze);ge===n.FLOAT&&(ke=n.RGBA32F),ge===n.HALF_FLOAT&&(ke=n.RGBA16F),ge===n.UNSIGNED_BYTE&&(ke=xt===qn?n.SRGB8_ALPHA8:n.RGBA8),ge===n.UNSIGNED_SHORT_4_4_4_4&&(ke=n.RGBA4),ge===n.UNSIGNED_SHORT_5_5_5_1&&(ke=n.RGB5_A1)}return(ke===n.R16F||ke===n.R32F||ke===n.RG16F||ke===n.RG32F||ke===n.RGBA16F||ke===n.RGBA32F)&&e.get("EXT_color_buffer_float"),ke}function P(Y,W,ge){return M(Y,ge)===!0||Y.isFramebufferTexture&&Y.minFilter!==Pr&&Y.minFilter!==Cr?Math.log2(Math.max(W.width,W.height))+1:Y.mipmaps!==void 0&&Y.mipmaps.length>0?Y.mipmaps.length:Y.isCompressedTexture&&Array.isArray(Y.image)?W.mipmaps.length:1}function R(Y){return Y===Pr||Y===Tb||Y===mv?n.NEAREST:n.LINEAR}function I(Y){const W=Y.target;W.removeEventListener("dispose",I),N(W),W.isVideoTexture&&f.delete(W)}function U(Y){const W=Y.target;W.removeEventListener("dispose",U),z(W)}function N(Y){const W=r.get(Y);if(W.__webglInit===void 0)return;const ge=Y.source,ze=m.get(ge);if(ze){const je=ze[W.__cacheKey];je.usedTimes--,je.usedTimes===0&&k(Y),Object.keys(ze).length===0&&m.delete(ge)}r.remove(Y)}function k(Y){const W=r.get(Y);n.deleteTexture(W.__webglTexture);const ge=Y.source,ze=m.get(ge);delete ze[W.__cacheKey],o.memory.textures--}function z(Y){const W=Y.texture,ge=r.get(Y),ze=r.get(W);if(ze.__webglTexture!==void 0&&(n.deleteTexture(ze.__webglTexture),o.memory.textures--),Y.depthTexture&&Y.depthTexture.dispose(),Y.isWebGLCubeRenderTarget)for(let je=0;je<6;je++){if(Array.isArray(ge.__webglFramebuffer[je]))for(let ke=0;ke<ge.__webglFramebuffer[je].length;ke++)n.deleteFramebuffer(ge.__webglFramebuffer[je][ke]);else n.deleteFramebuffer(ge.__webglFramebuffer[je]);ge.__webglDepthbuffer&&n.deleteRenderbuffer(ge.__webglDepthbuffer[je])}else{if(Array.isArray(ge.__webglFramebuffer))for(let je=0;je<ge.__webglFramebuffer.length;je++)n.deleteFramebuffer(ge.__webglFramebuffer[je]);else n.deleteFramebuffer(ge.__webglFramebuffer);if(ge.__webglDepthbuffer&&n.deleteRenderbuffer(ge.__webglDepthbuffer),ge.__webglMultisampledFramebuffer&&n.deleteFramebuffer(ge.__webglMultisampledFramebuffer),ge.__webglColorRenderbuffer)for(let je=0;je<ge.__webglColorRenderbuffer.length;je++)ge.__webglColorRenderbuffer[je]&&n.deleteRenderbuffer(ge.__webglColorRenderbuffer[je]);ge.__webglDepthRenderbuffer&&n.deleteRenderbuffer(ge.__webglDepthRenderbuffer)}if(Y.isWebGLMultipleRenderTargets)for(let je=0,ke=W.length;je<ke;je++){const xt=r.get(W[je]);xt.__webglTexture&&(n.deleteTexture(xt.__webglTexture),o.memory.textures--),r.remove(W[je])}r.remove(W),r.remove(Y)}let G=0;function K(){G=0}function H(){const Y=G;return Y>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+Y+" texture units while this GPU supports only "+i.maxTextures),G+=1,Y}function te(Y){const W=[];return W.push(Y.wrapS),W.push(Y.wrapT),W.push(Y.wrapR||0),W.push(Y.magFilter),W.push(Y.minFilter),W.push(Y.anisotropy),W.push(Y.internalFormat),W.push(Y.format),W.push(Y.type),W.push(Y.generateMipmaps),W.push(Y.premultiplyAlpha),W.push(Y.flipY),W.push(Y.unpackAlignment),W.push(Y.colorSpace),W.join()}function J(Y,W){const ge=r.get(Y);if(Y.isVideoTexture&&it(Y),Y.isRenderTargetTexture===!1&&Y.version>0&&ge.__version!==Y.version){const ze=Y.image;if(ze===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(ze.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Ce(ge,Y,W);return}}t.bindTexture(n.TEXTURE_2D,ge.__webglTexture,n.TEXTURE0+W)}function ie(Y,W){const ge=r.get(Y);if(Y.version>0&&ge.__version!==Y.version){Ce(ge,Y,W);return}t.bindTexture(n.TEXTURE_2D_ARRAY,ge.__webglTexture,n.TEXTURE0+W)}function B(Y,W){const ge=r.get(Y);if(Y.version>0&&ge.__version!==Y.version){Ce(ge,Y,W);return}t.bindTexture(n.TEXTURE_3D,ge.__webglTexture,n.TEXTURE0+W)}function X(Y,W){const ge=r.get(Y);if(Y.version>0&&ge.__version!==Y.version){Ne(ge,Y,W);return}t.bindTexture(n.TEXTURE_CUBE_MAP,ge.__webglTexture,n.TEXTURE0+W)}const $={[dy]:n.REPEAT,[Hi]:n.CLAMP_TO_EDGE,[py]:n.MIRRORED_REPEAT},V={[Pr]:n.NEAREST,[Tb]:n.NEAREST_MIPMAP_NEAREST,[mv]:n.NEAREST_MIPMAP_LINEAR,[Cr]:n.LINEAR,[LO]:n.LINEAR_MIPMAP_NEAREST,[wc]:n.LINEAR_MIPMAP_LINEAR},ee={[qW]:n.NEVER,[QW]:n.ALWAYS,[XW]:n.LESS,[WO]:n.LEQUAL,[YW]:n.EQUAL,[JW]:n.GEQUAL,[KW]:n.GREATER,[ZW]:n.NOTEQUAL};function se(Y,W,ge){if(ge?(n.texParameteri(Y,n.TEXTURE_WRAP_S,$[W.wrapS]),n.texParameteri(Y,n.TEXTURE_WRAP_T,$[W.wrapT]),(Y===n.TEXTURE_3D||Y===n.TEXTURE_2D_ARRAY)&&n.texParameteri(Y,n.TEXTURE_WRAP_R,$[W.wrapR]),n.texParameteri(Y,n.TEXTURE_MAG_FILTER,V[W.magFilter]),n.texParameteri(Y,n.TEXTURE_MIN_FILTER,V[W.minFilter])):(n.texParameteri(Y,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(Y,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),(Y===n.TEXTURE_3D||Y===n.TEXTURE_2D_ARRAY)&&n.texParameteri(Y,n.TEXTURE_WRAP_R,n.CLAMP_TO_EDGE),(W.wrapS!==Hi||W.wrapT!==Hi)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(Y,n.TEXTURE_MAG_FILTER,R(W.magFilter)),n.texParameteri(Y,n.TEXTURE_MIN_FILTER,R(W.minFilter)),W.minFilter!==Pr&&W.minFilter!==Cr&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),W.compareFunction&&(n.texParameteri(Y,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(Y,n.TEXTURE_COMPARE_FUNC,ee[W.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){const ze=e.get("EXT_texture_filter_anisotropic");if(W.magFilter===Pr||W.minFilter!==mv&&W.minFilter!==wc||W.type===ys&&e.has("OES_texture_float_linear")===!1||s===!1&&W.type===Qp&&e.has("OES_texture_half_float_linear")===!1)return;(W.anisotropy>1||r.get(W).__currentAnisotropy)&&(n.texParameterf(Y,ze.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(W.anisotropy,i.getMaxAnisotropy())),r.get(W).__currentAnisotropy=W.anisotropy)}}function me(Y,W){let ge=!1;Y.__webglInit===void 0&&(Y.__webglInit=!0,W.addEventListener("dispose",I));const ze=W.source;let je=m.get(ze);je===void 0&&(je={},m.set(ze,je));const ke=te(W);if(ke!==Y.__cacheKey){je[ke]===void 0&&(je[ke]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,ge=!0),je[ke].usedTimes++;const xt=je[Y.__cacheKey];xt!==void 0&&(je[Y.__cacheKey].usedTimes--,xt.usedTimes===0&&k(W)),Y.__cacheKey=ke,Y.__webglTexture=je[ke].texture}return ge}function Ce(Y,W,ge){let ze=n.TEXTURE_2D;(W.isDataArrayTexture||W.isCompressedArrayTexture)&&(ze=n.TEXTURE_2D_ARRAY),W.isData3DTexture&&(ze=n.TEXTURE_3D);const je=me(Y,W),ke=W.source;t.bindTexture(ze,Y.__webglTexture,n.TEXTURE0+ge);const xt=r.get(ke);if(ke.version!==xt.__version||je===!0){t.activeTexture(n.TEXTURE0+ge);const tt=In.getPrimaries(In.workingColorSpace),lt=W.colorSpace===Qa?null:In.getPrimaries(W.colorSpace),Tt=W.colorSpace===Qa||tt===lt?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,W.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,W.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,W.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Tt);const Vt=b(W)&&_(W.image)===!1;let Ve=S(W.image,Vt,!1,i.maxTextureSize);Ve=Qe(W,Ve);const en=_(Ve)||s,Zt=a.convert(W.format,W.colorSpace);let Ft=a.convert(W.type),Ct=E(W.internalFormat,Zt,Ft,W.colorSpace,W.isVideoTexture);se(ze,W,en);let pt;const ue=W.mipmaps,Ue=s&&W.isVideoTexture!==!0&&Ct!==jO,st=xt.__version===void 0||je===!0,at=P(W,Ve,en);if(W.isDepthTexture)Ct=n.DEPTH_COMPONENT,s?W.type===ys?Ct=n.DEPTH_COMPONENT32F:W.type===Yl?Ct=n.DEPTH_COMPONENT24:W.type===gc?Ct=n.DEPTH24_STENCIL8:Ct=n.DEPTH_COMPONENT16:W.type===ys&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),W.format===vc&&Ct===n.DEPTH_COMPONENT&&W.type!==SS&&W.type!==Yl&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),W.type=Yl,Ft=a.convert(W.type)),W.format===bh&&Ct===n.DEPTH_COMPONENT&&(Ct=n.DEPTH_STENCIL,W.type!==gc&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),W.type=gc,Ft=a.convert(W.type))),st&&(Ue?t.texStorage2D(n.TEXTURE_2D,1,Ct,Ve.width,Ve.height):t.texImage2D(n.TEXTURE_2D,0,Ct,Ve.width,Ve.height,0,Zt,Ft,null));else if(W.isDataTexture)if(ue.length>0&&en){Ue&&st&&t.texStorage2D(n.TEXTURE_2D,at,Ct,ue[0].width,ue[0].height);for(let He=0,le=ue.length;He<le;He++)pt=ue[He],Ue?t.texSubImage2D(n.TEXTURE_2D,He,0,0,pt.width,pt.height,Zt,Ft,pt.data):t.texImage2D(n.TEXTURE_2D,He,Ct,pt.width,pt.height,0,Zt,Ft,pt.data);W.generateMipmaps=!1}else Ue?(st&&t.texStorage2D(n.TEXTURE_2D,at,Ct,Ve.width,Ve.height),t.texSubImage2D(n.TEXTURE_2D,0,0,0,Ve.width,Ve.height,Zt,Ft,Ve.data)):t.texImage2D(n.TEXTURE_2D,0,Ct,Ve.width,Ve.height,0,Zt,Ft,Ve.data);else if(W.isCompressedTexture)if(W.isCompressedArrayTexture){Ue&&st&&t.texStorage3D(n.TEXTURE_2D_ARRAY,at,Ct,ue[0].width,ue[0].height,Ve.depth);for(let He=0,le=ue.length;He<le;He++)pt=ue[He],W.format!==la?Zt!==null?Ue?t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,He,0,0,0,pt.width,pt.height,Ve.depth,Zt,pt.data,0,0):t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,He,Ct,pt.width,pt.height,Ve.depth,0,pt.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ue?t.texSubImage3D(n.TEXTURE_2D_ARRAY,He,0,0,0,pt.width,pt.height,Ve.depth,Zt,Ft,pt.data):t.texImage3D(n.TEXTURE_2D_ARRAY,He,Ct,pt.width,pt.height,Ve.depth,0,Zt,Ft,pt.data)}else{Ue&&st&&t.texStorage2D(n.TEXTURE_2D,at,Ct,ue[0].width,ue[0].height);for(let He=0,le=ue.length;He<le;He++)pt=ue[He],W.format!==la?Zt!==null?Ue?t.compressedTexSubImage2D(n.TEXTURE_2D,He,0,0,pt.width,pt.height,Zt,pt.data):t.compressedTexImage2D(n.TEXTURE_2D,He,Ct,pt.width,pt.height,0,pt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ue?t.texSubImage2D(n.TEXTURE_2D,He,0,0,pt.width,pt.height,Zt,Ft,pt.data):t.texImage2D(n.TEXTURE_2D,He,Ct,pt.width,pt.height,0,Zt,Ft,pt.data)}else if(W.isDataArrayTexture)Ue?(st&&t.texStorage3D(n.TEXTURE_2D_ARRAY,at,Ct,Ve.width,Ve.height,Ve.depth),t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,Ve.width,Ve.height,Ve.depth,Zt,Ft,Ve.data)):t.texImage3D(n.TEXTURE_2D_ARRAY,0,Ct,Ve.width,Ve.height,Ve.depth,0,Zt,Ft,Ve.data);else if(W.isData3DTexture)Ue?(st&&t.texStorage3D(n.TEXTURE_3D,at,Ct,Ve.width,Ve.height,Ve.depth),t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,Ve.width,Ve.height,Ve.depth,Zt,Ft,Ve.data)):t.texImage3D(n.TEXTURE_3D,0,Ct,Ve.width,Ve.height,Ve.depth,0,Zt,Ft,Ve.data);else if(W.isFramebufferTexture){if(st)if(Ue)t.texStorage2D(n.TEXTURE_2D,at,Ct,Ve.width,Ve.height);else{let He=Ve.width,le=Ve.height;for(let Xe=0;Xe<at;Xe++)t.texImage2D(n.TEXTURE_2D,Xe,Ct,He,le,0,Zt,Ft,null),He>>=1,le>>=1}}else if(ue.length>0&&en){Ue&&st&&t.texStorage2D(n.TEXTURE_2D,at,Ct,ue[0].width,ue[0].height);for(let He=0,le=ue.length;He<le;He++)pt=ue[He],Ue?t.texSubImage2D(n.TEXTURE_2D,He,0,0,Zt,Ft,pt):t.texImage2D(n.TEXTURE_2D,He,Ct,Zt,Ft,pt);W.generateMipmaps=!1}else Ue?(st&&t.texStorage2D(n.TEXTURE_2D,at,Ct,Ve.width,Ve.height),t.texSubImage2D(n.TEXTURE_2D,0,0,0,Zt,Ft,Ve)):t.texImage2D(n.TEXTURE_2D,0,Ct,Zt,Ft,Ve);M(W,en)&&T(ze),xt.__version=ke.version,W.onUpdate&&W.onUpdate(W)}Y.__version=W.version}function Ne(Y,W,ge){if(W.image.length!==6)return;const ze=me(Y,W),je=W.source;t.bindTexture(n.TEXTURE_CUBE_MAP,Y.__webglTexture,n.TEXTURE0+ge);const ke=r.get(je);if(je.version!==ke.__version||ze===!0){t.activeTexture(n.TEXTURE0+ge);const xt=In.getPrimaries(In.workingColorSpace),tt=W.colorSpace===Qa?null:In.getPrimaries(W.colorSpace),lt=W.colorSpace===Qa||xt===tt?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,W.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,W.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,W.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,lt);const Tt=W.isCompressedTexture||W.image[0].isCompressedTexture,Vt=W.image[0]&&W.image[0].isDataTexture,Ve=[];for(let He=0;He<6;He++)!Tt&&!Vt?Ve[He]=S(W.image[He],!1,!0,i.maxCubemapSize):Ve[He]=Vt?W.image[He].image:W.image[He],Ve[He]=Qe(W,Ve[He]);const en=Ve[0],Zt=_(en)||s,Ft=a.convert(W.format,W.colorSpace),Ct=a.convert(W.type),pt=E(W.internalFormat,Ft,Ct,W.colorSpace),ue=s&&W.isVideoTexture!==!0,Ue=ke.__version===void 0||ze===!0;let st=P(W,en,Zt);se(n.TEXTURE_CUBE_MAP,W,Zt);let at;if(Tt){ue&&Ue&&t.texStorage2D(n.TEXTURE_CUBE_MAP,st,pt,en.width,en.height);for(let He=0;He<6;He++){at=Ve[He].mipmaps;for(let le=0;le<at.length;le++){const Xe=at[le];W.format!==la?Ft!==null?ue?t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+He,le,0,0,Xe.width,Xe.height,Ft,Xe.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+He,le,pt,Xe.width,Xe.height,0,Xe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):ue?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+He,le,0,0,Xe.width,Xe.height,Ft,Ct,Xe.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+He,le,pt,Xe.width,Xe.height,0,Ft,Ct,Xe.data)}}}else{at=W.mipmaps,ue&&Ue&&(at.length>0&&st++,t.texStorage2D(n.TEXTURE_CUBE_MAP,st,pt,Ve[0].width,Ve[0].height));for(let He=0;He<6;He++)if(Vt){ue?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+He,0,0,0,Ve[He].width,Ve[He].height,Ft,Ct,Ve[He].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+He,0,pt,Ve[He].width,Ve[He].height,0,Ft,Ct,Ve[He].data);for(let le=0;le<at.length;le++){const rt=at[le].image[He].image;ue?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+He,le+1,0,0,rt.width,rt.height,Ft,Ct,rt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+He,le+1,pt,rt.width,rt.height,0,Ft,Ct,rt.data)}}else{ue?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+He,0,0,0,Ft,Ct,Ve[He]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+He,0,pt,Ft,Ct,Ve[He]);for(let le=0;le<at.length;le++){const Xe=at[le];ue?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+He,le+1,0,0,Ft,Ct,Xe.image[He]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+He,le+1,pt,Ft,Ct,Xe.image[He])}}}M(W,Zt)&&T(n.TEXTURE_CUBE_MAP),ke.__version=je.version,W.onUpdate&&W.onUpdate(W)}Y.__version=W.version}function De(Y,W,ge,ze,je,ke){const xt=a.convert(ge.format,ge.colorSpace),tt=a.convert(ge.type),lt=E(ge.internalFormat,xt,tt,ge.colorSpace);if(!r.get(W).__hasExternalTextures){const Vt=Math.max(1,W.width>>ke),Ve=Math.max(1,W.height>>ke);je===n.TEXTURE_3D||je===n.TEXTURE_2D_ARRAY?t.texImage3D(je,ke,lt,Vt,Ve,W.depth,0,xt,tt,null):t.texImage2D(je,ke,lt,Vt,Ve,0,xt,tt,null)}t.bindFramebuffer(n.FRAMEBUFFER,Y),Ae(W)?l.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,ze,je,r.get(ge).__webglTexture,0,Fe(W)):(je===n.TEXTURE_2D||je>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&je<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,ze,je,r.get(ge).__webglTexture,ke),t.bindFramebuffer(n.FRAMEBUFFER,null)}function Ke(Y,W,ge){if(n.bindRenderbuffer(n.RENDERBUFFER,Y),W.depthBuffer&&!W.stencilBuffer){let ze=s===!0?n.DEPTH_COMPONENT24:n.DEPTH_COMPONENT16;if(ge||Ae(W)){const je=W.depthTexture;je&&je.isDepthTexture&&(je.type===ys?ze=n.DEPTH_COMPONENT32F:je.type===Yl&&(ze=n.DEPTH_COMPONENT24));const ke=Fe(W);Ae(W)?l.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,ke,ze,W.width,W.height):n.renderbufferStorageMultisample(n.RENDERBUFFER,ke,ze,W.width,W.height)}else n.renderbufferStorage(n.RENDERBUFFER,ze,W.width,W.height);n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.RENDERBUFFER,Y)}else if(W.depthBuffer&&W.stencilBuffer){const ze=Fe(W);ge&&Ae(W)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,ze,n.DEPTH24_STENCIL8,W.width,W.height):Ae(W)?l.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,ze,n.DEPTH24_STENCIL8,W.width,W.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,W.width,W.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,Y)}else{const ze=W.isWebGLMultipleRenderTargets===!0?W.texture:[W.texture];for(let je=0;je<ze.length;je++){const ke=ze[je],xt=a.convert(ke.format,ke.colorSpace),tt=a.convert(ke.type),lt=E(ke.internalFormat,xt,tt,ke.colorSpace),Tt=Fe(W);ge&&Ae(W)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,Tt,lt,W.width,W.height):Ae(W)?l.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Tt,lt,W.width,W.height):n.renderbufferStorage(n.RENDERBUFFER,lt,W.width,W.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function Te(Y,W){if(W&&W.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,Y),!(W.depthTexture&&W.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(W.depthTexture).__webglTexture||W.depthTexture.image.width!==W.width||W.depthTexture.image.height!==W.height)&&(W.depthTexture.image.width=W.width,W.depthTexture.image.height=W.height,W.depthTexture.needsUpdate=!0),J(W.depthTexture,0);const ze=r.get(W.depthTexture).__webglTexture,je=Fe(W);if(W.depthTexture.format===vc)Ae(W)?l.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,ze,0,je):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,ze,0);else if(W.depthTexture.format===bh)Ae(W)?l.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,ze,0,je):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,ze,0);else throw new Error("Unknown depthTexture format")}function Le(Y){const W=r.get(Y),ge=Y.isWebGLCubeRenderTarget===!0;if(Y.depthTexture&&!W.__autoAllocateDepthBuffer){if(ge)throw new Error("target.depthTexture not supported in Cube render targets");Te(W.__webglFramebuffer,Y)}else if(ge){W.__webglDepthbuffer=[];for(let ze=0;ze<6;ze++)t.bindFramebuffer(n.FRAMEBUFFER,W.__webglFramebuffer[ze]),W.__webglDepthbuffer[ze]=n.createRenderbuffer(),Ke(W.__webglDepthbuffer[ze],Y,!1)}else t.bindFramebuffer(n.FRAMEBUFFER,W.__webglFramebuffer),W.__webglDepthbuffer=n.createRenderbuffer(),Ke(W.__webglDepthbuffer,Y,!1);t.bindFramebuffer(n.FRAMEBUFFER,null)}function Ge(Y,W,ge){const ze=r.get(Y);W!==void 0&&De(ze.__webglFramebuffer,Y,Y.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),ge!==void 0&&Le(Y)}function q(Y){const W=Y.texture,ge=r.get(Y),ze=r.get(W);Y.addEventListener("dispose",U),Y.isWebGLMultipleRenderTargets!==!0&&(ze.__webglTexture===void 0&&(ze.__webglTexture=n.createTexture()),ze.__version=W.version,o.memory.textures++);const je=Y.isWebGLCubeRenderTarget===!0,ke=Y.isWebGLMultipleRenderTargets===!0,xt=_(Y)||s;if(je){ge.__webglFramebuffer=[];for(let tt=0;tt<6;tt++)if(s&&W.mipmaps&&W.mipmaps.length>0){ge.__webglFramebuffer[tt]=[];for(let lt=0;lt<W.mipmaps.length;lt++)ge.__webglFramebuffer[tt][lt]=n.createFramebuffer()}else ge.__webglFramebuffer[tt]=n.createFramebuffer()}else{if(s&&W.mipmaps&&W.mipmaps.length>0){ge.__webglFramebuffer=[];for(let tt=0;tt<W.mipmaps.length;tt++)ge.__webglFramebuffer[tt]=n.createFramebuffer()}else ge.__webglFramebuffer=n.createFramebuffer();if(ke)if(i.drawBuffers){const tt=Y.texture;for(let lt=0,Tt=tt.length;lt<Tt;lt++){const Vt=r.get(tt[lt]);Vt.__webglTexture===void 0&&(Vt.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(s&&Y.samples>0&&Ae(Y)===!1){const tt=ke?W:[W];ge.__webglMultisampledFramebuffer=n.createFramebuffer(),ge.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,ge.__webglMultisampledFramebuffer);for(let lt=0;lt<tt.length;lt++){const Tt=tt[lt];ge.__webglColorRenderbuffer[lt]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,ge.__webglColorRenderbuffer[lt]);const Vt=a.convert(Tt.format,Tt.colorSpace),Ve=a.convert(Tt.type),en=E(Tt.internalFormat,Vt,Ve,Tt.colorSpace,Y.isXRRenderTarget===!0),Zt=Fe(Y);n.renderbufferStorageMultisample(n.RENDERBUFFER,Zt,en,Y.width,Y.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+lt,n.RENDERBUFFER,ge.__webglColorRenderbuffer[lt])}n.bindRenderbuffer(n.RENDERBUFFER,null),Y.depthBuffer&&(ge.__webglDepthRenderbuffer=n.createRenderbuffer(),Ke(ge.__webglDepthRenderbuffer,Y,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(je){t.bindTexture(n.TEXTURE_CUBE_MAP,ze.__webglTexture),se(n.TEXTURE_CUBE_MAP,W,xt);for(let tt=0;tt<6;tt++)if(s&&W.mipmaps&&W.mipmaps.length>0)for(let lt=0;lt<W.mipmaps.length;lt++)De(ge.__webglFramebuffer[tt][lt],Y,W,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+tt,lt);else De(ge.__webglFramebuffer[tt],Y,W,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+tt,0);M(W,xt)&&T(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(ke){const tt=Y.texture;for(let lt=0,Tt=tt.length;lt<Tt;lt++){const Vt=tt[lt],Ve=r.get(Vt);t.bindTexture(n.TEXTURE_2D,Ve.__webglTexture),se(n.TEXTURE_2D,Vt,xt),De(ge.__webglFramebuffer,Y,Vt,n.COLOR_ATTACHMENT0+lt,n.TEXTURE_2D,0),M(Vt,xt)&&T(n.TEXTURE_2D)}t.unbindTexture()}else{let tt=n.TEXTURE_2D;if((Y.isWebGL3DRenderTarget||Y.isWebGLArrayRenderTarget)&&(s?tt=Y.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(tt,ze.__webglTexture),se(tt,W,xt),s&&W.mipmaps&&W.mipmaps.length>0)for(let lt=0;lt<W.mipmaps.length;lt++)De(ge.__webglFramebuffer[lt],Y,W,n.COLOR_ATTACHMENT0,tt,lt);else De(ge.__webglFramebuffer,Y,W,n.COLOR_ATTACHMENT0,tt,0);M(W,xt)&&T(tt),t.unbindTexture()}Y.depthBuffer&&Le(Y)}function Re(Y){const W=_(Y)||s,ge=Y.isWebGLMultipleRenderTargets===!0?Y.texture:[Y.texture];for(let ze=0,je=ge.length;ze<je;ze++){const ke=ge[ze];if(M(ke,W)){const xt=Y.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:n.TEXTURE_2D,tt=r.get(ke).__webglTexture;t.bindTexture(xt,tt),T(xt),t.unbindTexture()}}}function _e(Y){if(s&&Y.samples>0&&Ae(Y)===!1){const W=Y.isWebGLMultipleRenderTargets?Y.texture:[Y.texture],ge=Y.width,ze=Y.height;let je=n.COLOR_BUFFER_BIT;const ke=[],xt=Y.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,tt=r.get(Y),lt=Y.isWebGLMultipleRenderTargets===!0;if(lt)for(let Tt=0;Tt<W.length;Tt++)t.bindFramebuffer(n.FRAMEBUFFER,tt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Tt,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,tt.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Tt,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,tt.__webglMultisampledFramebuffer),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,tt.__webglFramebuffer);for(let Tt=0;Tt<W.length;Tt++){ke.push(n.COLOR_ATTACHMENT0+Tt),Y.depthBuffer&&ke.push(xt);const Vt=tt.__ignoreDepthValues!==void 0?tt.__ignoreDepthValues:!1;if(Vt===!1&&(Y.depthBuffer&&(je|=n.DEPTH_BUFFER_BIT),Y.stencilBuffer&&(je|=n.STENCIL_BUFFER_BIT)),lt&&n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,tt.__webglColorRenderbuffer[Tt]),Vt===!0&&(n.invalidateFramebuffer(n.READ_FRAMEBUFFER,[xt]),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[xt])),lt){const Ve=r.get(W[Tt]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,Ve,0)}n.blitFramebuffer(0,0,ge,ze,0,0,ge,ze,je,n.NEAREST),c&&n.invalidateFramebuffer(n.READ_FRAMEBUFFER,ke)}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),lt)for(let Tt=0;Tt<W.length;Tt++){t.bindFramebuffer(n.FRAMEBUFFER,tt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Tt,n.RENDERBUFFER,tt.__webglColorRenderbuffer[Tt]);const Vt=r.get(W[Tt]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,tt.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Tt,n.TEXTURE_2D,Vt,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,tt.__webglMultisampledFramebuffer)}}function Fe(Y){return Math.min(i.maxSamples,Y.samples)}function Ae(Y){const W=r.get(Y);return s&&Y.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&W.__useRenderToTexture!==!1}function it(Y){const W=o.render.frame;f.get(Y)!==W&&(f.set(Y,W),Y.update())}function Qe(Y,W){const ge=Y.colorSpace,ze=Y.format,je=Y.type;return Y.isCompressedTexture===!0||Y.isVideoTexture===!0||Y.format===Eb||ge!==Qs&&ge!==Qa&&(In.getTransfer(ge)===qn?s===!1?e.has("EXT_sRGB")===!0&&ze===la?(Y.format=Eb,Y.minFilter=Cr,Y.generateMipmaps=!1):W=$O.sRGBToLinear(W):(ze!==la||je!==Xs)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",ge)),W}this.allocateTextureUnit=H,this.resetTextureUnits=K,this.setTexture2D=J,this.setTexture2DArray=ie,this.setTexture3D=B,this.setTextureCube=X,this.rebindTextures=Ge,this.setupRenderTarget=q,this.updateRenderTargetMipmap=Re,this.updateMultisampleRenderTarget=_e,this.setupDepthRenderbuffer=Le,this.setupFrameBufferTexture=De,this.useMultisampledRTT=Ae}function p8(n,e,t){const r=t.isWebGL2;function i(a,o=Qa){let s;const l=In.getTransfer(o);if(a===Xs)return n.UNSIGNED_BYTE;if(a===kO)return n.UNSIGNED_SHORT_4_4_4_4;if(a===UO)return n.UNSIGNED_SHORT_5_5_5_1;if(a===DW)return n.BYTE;if(a===LW)return n.SHORT;if(a===SS)return n.UNSIGNED_SHORT;if(a===NO)return n.INT;if(a===Yl)return n.UNSIGNED_INT;if(a===ys)return n.FLOAT;if(a===Qp)return r?n.HALF_FLOAT:(s=e.get("OES_texture_half_float"),s!==null?s.HALF_FLOAT_OES:null);if(a===NW)return n.ALPHA;if(a===la)return n.RGBA;if(a===kW)return n.LUMINANCE;if(a===UW)return n.LUMINANCE_ALPHA;if(a===vc)return n.DEPTH_COMPONENT;if(a===bh)return n.DEPTH_STENCIL;if(a===Eb)return s=e.get("EXT_sRGB"),s!==null?s.SRGB_ALPHA_EXT:null;if(a===FW)return n.RED;if(a===FO)return n.RED_INTEGER;if(a===BW)return n.RG;if(a===BO)return n.RG_INTEGER;if(a===zO)return n.RGBA_INTEGER;if(a===y_||a===x_||a===__||a===b_)if(l===qn)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(a===y_)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(a===x_)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(a===__)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(a===b_)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(a===y_)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(a===x_)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(a===__)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(a===b_)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(a===SC||a===wC||a===MC||a===AC)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(a===SC)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(a===wC)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(a===MC)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(a===AC)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(a===jO)return s=e.get("WEBGL_compressed_texture_etc1"),s!==null?s.COMPRESSED_RGB_ETC1_WEBGL:null;if(a===TC||a===EC)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(a===TC)return l===qn?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(a===EC)return l===qn?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(a===PC||a===CC||a===OC||a===RC||a===IC||a===DC||a===LC||a===NC||a===kC||a===UC||a===FC||a===BC||a===zC||a===jC)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(a===PC)return l===qn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(a===CC)return l===qn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(a===OC)return l===qn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(a===RC)return l===qn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(a===IC)return l===qn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(a===DC)return l===qn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(a===LC)return l===qn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(a===NC)return l===qn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(a===kC)return l===qn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(a===UC)return l===qn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(a===FC)return l===qn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(a===BC)return l===qn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(a===zC)return l===qn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(a===jC)return l===qn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(a===S_||a===VC||a===HC)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(a===S_)return l===qn?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(a===VC)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(a===HC)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(a===zW||a===WC||a===GC||a===$C)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(a===S_)return s.COMPRESSED_RED_RGTC1_EXT;if(a===WC)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(a===GC)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(a===$C)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return a===gc?r?n.UNSIGNED_INT_24_8:(s=e.get("WEBGL_depth_texture"),s!==null?s.UNSIGNED_INT_24_8_WEBGL:null):n[a]!==void 0?n[a]:null}return{convert:i}}class m8 extends Or{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class vp extends Mn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const Vde={type:"move"};class nE{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new vp,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new vp,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Q,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Q),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new vp,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Q,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Q),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const r of e.hand.values())this._getHandJoint(t,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,r){let i=null,a=null,o=null;const s=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const S of e.hand.values()){const _=t.getJointPose(S,r),b=this._getHandJoint(c,S);_!==null&&(b.matrix.fromArray(_.transform.matrix),b.matrix.decompose(b.position,b.rotation,b.scale),b.matrixWorldNeedsUpdate=!0,b.jointRadius=_.radius),b.visible=_!==null}const f=c.joints["index-finger-tip"],d=c.joints["thumb-tip"],m=f.position.distanceTo(d.position),v=.02,x=.005;c.inputState.pinching&&m>v+x?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&m<=v-x&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(a=t.getPose(e.gripSpace,r),a!==null&&(l.matrix.fromArray(a.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,a.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(a.linearVelocity)):l.hasLinearVelocity=!1,a.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(a.angularVelocity)):l.hasAngularVelocity=!1));s!==null&&(i=t.getPose(e.targetRaySpace,r),i===null&&a!==null&&(i=a),i!==null&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),s.matrixWorldNeedsUpdate=!0,i.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(i.linearVelocity)):s.hasLinearVelocity=!1,i.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(i.angularVelocity)):s.hasAngularVelocity=!1,this.dispatchEvent(Vde)))}return s!==null&&(s.visible=i!==null),l!==null&&(l.visible=a!==null),c!==null&&(c.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const r=new vp;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[t.jointName]=r,e.add(r)}return e.joints[t.jointName]}}class Hde extends pu{constructor(e,t){super();const r=this;let i=null,a=1,o=null,s="local-floor",l=1,c=null,f=null,d=null,m=null,v=null,x=null;const S=t.getContextAttributes();let _=null,b=null;const M=[],T=[],E=new Ie;let P=null;const R=new Or;R.layers.enable(1),R.viewport=new Sn;const I=new Or;I.layers.enable(2),I.viewport=new Sn;const U=[R,I],N=new m8;N.layers.enable(1),N.layers.enable(2);let k=null,z=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(se){let me=M[se];return me===void 0&&(me=new nE,M[se]=me),me.getTargetRaySpace()},this.getControllerGrip=function(se){let me=M[se];return me===void 0&&(me=new nE,M[se]=me),me.getGripSpace()},this.getHand=function(se){let me=M[se];return me===void 0&&(me=new nE,M[se]=me),me.getHandSpace()};function G(se){const me=T.indexOf(se.inputSource);if(me===-1)return;const Ce=M[me];Ce!==void 0&&(Ce.update(se.inputSource,se.frame,c||o),Ce.dispatchEvent({type:se.type,data:se.inputSource}))}function K(){i.removeEventListener("select",G),i.removeEventListener("selectstart",G),i.removeEventListener("selectend",G),i.removeEventListener("squeeze",G),i.removeEventListener("squeezestart",G),i.removeEventListener("squeezeend",G),i.removeEventListener("end",K),i.removeEventListener("inputsourceschange",H);for(let se=0;se<M.length;se++){const me=T[se];me!==null&&(T[se]=null,M[se].disconnect(me))}k=null,z=null,e.setRenderTarget(_),v=null,m=null,d=null,i=null,b=null,ee.stop(),r.isPresenting=!1,e.setPixelRatio(P),e.setSize(E.width,E.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(se){a=se,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(se){s=se,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(se){c=se},this.getBaseLayer=function(){return m!==null?m:v},this.getBinding=function(){return d},this.getFrame=function(){return x},this.getSession=function(){return i},this.setSession=async function(se){if(i=se,i!==null){if(_=e.getRenderTarget(),i.addEventListener("select",G),i.addEventListener("selectstart",G),i.addEventListener("selectend",G),i.addEventListener("squeeze",G),i.addEventListener("squeezestart",G),i.addEventListener("squeezeend",G),i.addEventListener("end",K),i.addEventListener("inputsourceschange",H),S.xrCompatible!==!0&&await t.makeXRCompatible(),P=e.getPixelRatio(),e.getSize(E),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const me={antialias:i.renderState.layers===void 0?S.antialias:!0,alpha:!0,depth:S.depth,stencil:S.stencil,framebufferScaleFactor:a};v=new XRWebGLLayer(i,t,me),i.updateRenderState({baseLayer:v}),e.setPixelRatio(1),e.setSize(v.framebufferWidth,v.framebufferHeight,!1),b=new Ss(v.framebufferWidth,v.framebufferHeight,{format:la,type:Xs,colorSpace:e.outputColorSpace,stencilBuffer:S.stencil})}else{let me=null,Ce=null,Ne=null;S.depth&&(Ne=S.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,me=S.stencil?bh:vc,Ce=S.stencil?gc:Yl);const De={colorFormat:t.RGBA8,depthFormat:Ne,scaleFactor:a};d=new XRWebGLBinding(i,t),m=d.createProjectionLayer(De),i.updateRenderState({layers:[m]}),e.setPixelRatio(1),e.setSize(m.textureWidth,m.textureHeight,!1),b=new Ss(m.textureWidth,m.textureHeight,{format:la,type:Xs,depthTexture:new ZO(m.textureWidth,m.textureHeight,Ce,void 0,void 0,void 0,void 0,void 0,void 0,me),stencilBuffer:S.stencil,colorSpace:e.outputColorSpace,samples:S.antialias?4:0});const Ke=e.properties.get(b);Ke.__ignoreDepthValues=m.ignoreDepthValues}b.isXRRenderTarget=!0,this.setFoveation(l),c=null,o=await i.requestReferenceSpace(s),ee.setContext(i),ee.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode};function H(se){for(let me=0;me<se.removed.length;me++){const Ce=se.removed[me],Ne=T.indexOf(Ce);Ne>=0&&(T[Ne]=null,M[Ne].disconnect(Ce))}for(let me=0;me<se.added.length;me++){const Ce=se.added[me];let Ne=T.indexOf(Ce);if(Ne===-1){for(let Ke=0;Ke<M.length;Ke++)if(Ke>=T.length){T.push(Ce),Ne=Ke;break}else if(T[Ke]===null){T[Ke]=Ce,Ne=Ke;break}if(Ne===-1)break}const De=M[Ne];De&&De.connect(Ce)}}const te=new Q,J=new Q;function ie(se,me,Ce){te.setFromMatrixPosition(me.matrixWorld),J.setFromMatrixPosition(Ce.matrixWorld);const Ne=te.distanceTo(J),De=me.projectionMatrix.elements,Ke=Ce.projectionMatrix.elements,Te=De[14]/(De[10]-1),Le=De[14]/(De[10]+1),Ge=(De[9]+1)/De[5],q=(De[9]-1)/De[5],Re=(De[8]-1)/De[0],_e=(Ke[8]+1)/Ke[0],Fe=Te*Re,Ae=Te*_e,it=Ne/(-Re+_e),Qe=it*-Re;me.matrixWorld.decompose(se.position,se.quaternion,se.scale),se.translateX(Qe),se.translateZ(it),se.matrixWorld.compose(se.position,se.quaternion,se.scale),se.matrixWorldInverse.copy(se.matrixWorld).invert();const Y=Te+it,W=Le+it,ge=Fe-Qe,ze=Ae+(Ne-Qe),je=Ge*Le/W*Y,ke=q*Le/W*Y;se.projectionMatrix.makePerspective(ge,ze,je,ke,Y,W),se.projectionMatrixInverse.copy(se.projectionMatrix).invert()}function B(se,me){me===null?se.matrixWorld.copy(se.matrix):se.matrixWorld.multiplyMatrices(me.matrixWorld,se.matrix),se.matrixWorldInverse.copy(se.matrixWorld).invert()}this.updateCamera=function(se){if(i===null)return;N.near=I.near=R.near=se.near,N.far=I.far=R.far=se.far,(k!==N.near||z!==N.far)&&(i.updateRenderState({depthNear:N.near,depthFar:N.far}),k=N.near,z=N.far);const me=se.parent,Ce=N.cameras;B(N,me);for(let Ne=0;Ne<Ce.length;Ne++)B(Ce[Ne],me);Ce.length===2?ie(N,R,I):N.projectionMatrix.copy(R.projectionMatrix),X(se,N,me)};function X(se,me,Ce){Ce===null?se.matrix.copy(me.matrixWorld):(se.matrix.copy(Ce.matrixWorld),se.matrix.invert(),se.matrix.multiply(me.matrixWorld)),se.matrix.decompose(se.position,se.quaternion,se.scale),se.updateMatrixWorld(!0),se.projectionMatrix.copy(me.projectionMatrix),se.projectionMatrixInverse.copy(me.projectionMatrixInverse),se.isPerspectiveCamera&&(se.fov=tm*2*Math.atan(1/se.projectionMatrix.elements[5]),se.zoom=1)}this.getCamera=function(){return N},this.getFoveation=function(){if(!(m===null&&v===null))return l},this.setFoveation=function(se){l=se,m!==null&&(m.fixedFoveation=se),v!==null&&v.fixedFoveation!==void 0&&(v.fixedFoveation=se)};let $=null;function V(se,me){if(f=me.getViewerPose(c||o),x=me,f!==null){const Ce=f.views;v!==null&&(e.setRenderTargetFramebuffer(b,v.framebuffer),e.setRenderTarget(b));let Ne=!1;Ce.length!==N.cameras.length&&(N.cameras.length=0,Ne=!0);for(let De=0;De<Ce.length;De++){const Ke=Ce[De];let Te=null;if(v!==null)Te=v.getViewport(Ke);else{const Ge=d.getViewSubImage(m,Ke);Te=Ge.viewport,De===0&&(e.setRenderTargetTextures(b,Ge.colorTexture,m.ignoreDepthValues?void 0:Ge.depthStencilTexture),e.setRenderTarget(b))}let Le=U[De];Le===void 0&&(Le=new Or,Le.layers.enable(De),Le.viewport=new Sn,U[De]=Le),Le.matrix.fromArray(Ke.transform.matrix),Le.matrix.decompose(Le.position,Le.quaternion,Le.scale),Le.projectionMatrix.fromArray(Ke.projectionMatrix),Le.projectionMatrixInverse.copy(Le.projectionMatrix).invert(),Le.viewport.set(Te.x,Te.y,Te.width,Te.height),De===0&&(N.matrix.copy(Le.matrix),N.matrix.decompose(N.position,N.quaternion,N.scale)),Ne===!0&&N.cameras.push(Le)}}for(let Ce=0;Ce<M.length;Ce++){const Ne=T[Ce],De=M[Ce];Ne!==null&&De!==void 0&&De.update(Ne,me,c||o)}$&&$(se,me),me.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:me}),x=null}const ee=new l8;ee.setAnimationLoop(V),this.setAnimationLoop=function(se){$=se},this.dispose=function(){}}}function Wde(n,e){function t(_,b){_.matrixAutoUpdate===!0&&_.updateMatrix(),b.value.copy(_.matrix)}function r(_,b){b.color.getRGB(_.fogColor.value,i8(n)),b.isFog?(_.fogNear.value=b.near,_.fogFar.value=b.far):b.isFogExp2&&(_.fogDensity.value=b.density)}function i(_,b,M,T,E){b.isMeshBasicMaterial||b.isMeshLambertMaterial?a(_,b):b.isMeshToonMaterial?(a(_,b),d(_,b)):b.isMeshPhongMaterial?(a(_,b),f(_,b)):b.isMeshStandardMaterial?(a(_,b),m(_,b),b.isMeshPhysicalMaterial&&v(_,b,E)):b.isMeshMatcapMaterial?(a(_,b),x(_,b)):b.isMeshDepthMaterial?a(_,b):b.isMeshDistanceMaterial?(a(_,b),S(_,b)):b.isMeshNormalMaterial?a(_,b):b.isLineBasicMaterial?(o(_,b),b.isLineDashedMaterial&&s(_,b)):b.isPointsMaterial?l(_,b,M,T):b.isSpriteMaterial?c(_,b):b.isShadowMaterial?(_.color.value.copy(b.color),_.opacity.value=b.opacity):b.isShaderMaterial&&(b.uniformsNeedUpdate=!1)}function a(_,b){_.opacity.value=b.opacity,b.color&&_.diffuse.value.copy(b.color),b.emissive&&_.emissive.value.copy(b.emissive).multiplyScalar(b.emissiveIntensity),b.map&&(_.map.value=b.map,t(b.map,_.mapTransform)),b.alphaMap&&(_.alphaMap.value=b.alphaMap,t(b.alphaMap,_.alphaMapTransform)),b.bumpMap&&(_.bumpMap.value=b.bumpMap,t(b.bumpMap,_.bumpMapTransform),_.bumpScale.value=b.bumpScale,b.side===$i&&(_.bumpScale.value*=-1)),b.normalMap&&(_.normalMap.value=b.normalMap,t(b.normalMap,_.normalMapTransform),_.normalScale.value.copy(b.normalScale),b.side===$i&&_.normalScale.value.negate()),b.displacementMap&&(_.displacementMap.value=b.displacementMap,t(b.displacementMap,_.displacementMapTransform),_.displacementScale.value=b.displacementScale,_.displacementBias.value=b.displacementBias),b.emissiveMap&&(_.emissiveMap.value=b.emissiveMap,t(b.emissiveMap,_.emissiveMapTransform)),b.specularMap&&(_.specularMap.value=b.specularMap,t(b.specularMap,_.specularMapTransform)),b.alphaTest>0&&(_.alphaTest.value=b.alphaTest);const M=e.get(b).envMap;if(M&&(_.envMap.value=M,_.flipEnvMap.value=M.isCubeTexture&&M.isRenderTargetTexture===!1?-1:1,_.reflectivity.value=b.reflectivity,_.ior.value=b.ior,_.refractionRatio.value=b.refractionRatio),b.lightMap){_.lightMap.value=b.lightMap;const T=n._useLegacyLights===!0?Math.PI:1;_.lightMapIntensity.value=b.lightMapIntensity*T,t(b.lightMap,_.lightMapTransform)}b.aoMap&&(_.aoMap.value=b.aoMap,_.aoMapIntensity.value=b.aoMapIntensity,t(b.aoMap,_.aoMapTransform))}function o(_,b){_.diffuse.value.copy(b.color),_.opacity.value=b.opacity,b.map&&(_.map.value=b.map,t(b.map,_.mapTransform))}function s(_,b){_.dashSize.value=b.dashSize,_.totalSize.value=b.dashSize+b.gapSize,_.scale.value=b.scale}function l(_,b,M,T){_.diffuse.value.copy(b.color),_.opacity.value=b.opacity,_.size.value=b.size*M,_.scale.value=T*.5,b.map&&(_.map.value=b.map,t(b.map,_.uvTransform)),b.alphaMap&&(_.alphaMap.value=b.alphaMap,t(b.alphaMap,_.alphaMapTransform)),b.alphaTest>0&&(_.alphaTest.value=b.alphaTest)}function c(_,b){_.diffuse.value.copy(b.color),_.opacity.value=b.opacity,_.rotation.value=b.rotation,b.map&&(_.map.value=b.map,t(b.map,_.mapTransform)),b.alphaMap&&(_.alphaMap.value=b.alphaMap,t(b.alphaMap,_.alphaMapTransform)),b.alphaTest>0&&(_.alphaTest.value=b.alphaTest)}function f(_,b){_.specular.value.copy(b.specular),_.shininess.value=Math.max(b.shininess,1e-4)}function d(_,b){b.gradientMap&&(_.gradientMap.value=b.gradientMap)}function m(_,b){_.metalness.value=b.metalness,b.metalnessMap&&(_.metalnessMap.value=b.metalnessMap,t(b.metalnessMap,_.metalnessMapTransform)),_.roughness.value=b.roughness,b.roughnessMap&&(_.roughnessMap.value=b.roughnessMap,t(b.roughnessMap,_.roughnessMapTransform)),e.get(b).envMap&&(_.envMapIntensity.value=b.envMapIntensity)}function v(_,b,M){_.ior.value=b.ior,b.sheen>0&&(_.sheenColor.value.copy(b.sheenColor).multiplyScalar(b.sheen),_.sheenRoughness.value=b.sheenRoughness,b.sheenColorMap&&(_.sheenColorMap.value=b.sheenColorMap,t(b.sheenColorMap,_.sheenColorMapTransform)),b.sheenRoughnessMap&&(_.sheenRoughnessMap.value=b.sheenRoughnessMap,t(b.sheenRoughnessMap,_.sheenRoughnessMapTransform))),b.clearcoat>0&&(_.clearcoat.value=b.clearcoat,_.clearcoatRoughness.value=b.clearcoatRoughness,b.clearcoatMap&&(_.clearcoatMap.value=b.clearcoatMap,t(b.clearcoatMap,_.clearcoatMapTransform)),b.clearcoatRoughnessMap&&(_.clearcoatRoughnessMap.value=b.clearcoatRoughnessMap,t(b.clearcoatRoughnessMap,_.clearcoatRoughnessMapTransform)),b.clearcoatNormalMap&&(_.clearcoatNormalMap.value=b.clearcoatNormalMap,t(b.clearcoatNormalMap,_.clearcoatNormalMapTransform),_.clearcoatNormalScale.value.copy(b.clearcoatNormalScale),b.side===$i&&_.clearcoatNormalScale.value.negate())),b.iridescence>0&&(_.iridescence.value=b.iridescence,_.iridescenceIOR.value=b.iridescenceIOR,_.iridescenceThicknessMinimum.value=b.iridescenceThicknessRange[0],_.iridescenceThicknessMaximum.value=b.iridescenceThicknessRange[1],b.iridescenceMap&&(_.iridescenceMap.value=b.iridescenceMap,t(b.iridescenceMap,_.iridescenceMapTransform)),b.iridescenceThicknessMap&&(_.iridescenceThicknessMap.value=b.iridescenceThicknessMap,t(b.iridescenceThicknessMap,_.iridescenceThicknessMapTransform))),b.transmission>0&&(_.transmission.value=b.transmission,_.transmissionSamplerMap.value=M.texture,_.transmissionSamplerSize.value.set(M.width,M.height),b.transmissionMap&&(_.transmissionMap.value=b.transmissionMap,t(b.transmissionMap,_.transmissionMapTransform)),_.thickness.value=b.thickness,b.thicknessMap&&(_.thicknessMap.value=b.thicknessMap,t(b.thicknessMap,_.thicknessMapTransform)),_.attenuationDistance.value=b.attenuationDistance,_.attenuationColor.value.copy(b.attenuationColor)),b.anisotropy>0&&(_.anisotropyVector.value.set(b.anisotropy*Math.cos(b.anisotropyRotation),b.anisotropy*Math.sin(b.anisotropyRotation)),b.anisotropyMap&&(_.anisotropyMap.value=b.anisotropyMap,t(b.anisotropyMap,_.anisotropyMapTransform))),_.specularIntensity.value=b.specularIntensity,_.specularColor.value.copy(b.specularColor),b.specularColorMap&&(_.specularColorMap.value=b.specularColorMap,t(b.specularColorMap,_.specularColorMapTransform)),b.specularIntensityMap&&(_.specularIntensityMap.value=b.specularIntensityMap,t(b.specularIntensityMap,_.specularIntensityMapTransform))}function x(_,b){b.matcap&&(_.matcap.value=b.matcap)}function S(_,b){const M=e.get(b).light;_.referencePosition.value.setFromMatrixPosition(M.matrixWorld),_.nearDistance.value=M.shadow.camera.near,_.farDistance.value=M.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function Gde(n,e,t,r){let i={},a={},o=[];const s=t.isWebGL2?n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS):0;function l(M,T){const E=T.program;r.uniformBlockBinding(M,E)}function c(M,T){let E=i[M.id];E===void 0&&(x(M),E=f(M),i[M.id]=E,M.addEventListener("dispose",_));const P=T.program;r.updateUBOMapping(M,P);const R=e.render.frame;a[M.id]!==R&&(m(M),a[M.id]=R)}function f(M){const T=d();M.__bindingPointIndex=T;const E=n.createBuffer(),P=M.__size,R=M.usage;return n.bindBuffer(n.UNIFORM_BUFFER,E),n.bufferData(n.UNIFORM_BUFFER,P,R),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,T,E),E}function d(){for(let M=0;M<s;M++)if(o.indexOf(M)===-1)return o.push(M),M;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function m(M){const T=i[M.id],E=M.uniforms,P=M.__cache;n.bindBuffer(n.UNIFORM_BUFFER,T);for(let R=0,I=E.length;R<I;R++){const U=Array.isArray(E[R])?E[R]:[E[R]];for(let N=0,k=U.length;N<k;N++){const z=U[N];if(v(z,R,N,P)===!0){const G=z.__offset,K=Array.isArray(z.value)?z.value:[z.value];let H=0;for(let te=0;te<K.length;te++){const J=K[te],ie=S(J);typeof J=="number"||typeof J=="boolean"?(z.__data[0]=J,n.bufferSubData(n.UNIFORM_BUFFER,G+H,z.__data)):J.isMatrix3?(z.__data[0]=J.elements[0],z.__data[1]=J.elements[1],z.__data[2]=J.elements[2],z.__data[3]=0,z.__data[4]=J.elements[3],z.__data[5]=J.elements[4],z.__data[6]=J.elements[5],z.__data[7]=0,z.__data[8]=J.elements[6],z.__data[9]=J.elements[7],z.__data[10]=J.elements[8],z.__data[11]=0):(J.toArray(z.__data,H),H+=ie.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,G,z.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function v(M,T,E,P){const R=M.value,I=T+"_"+E;if(P[I]===void 0)return typeof R=="number"||typeof R=="boolean"?P[I]=R:P[I]=R.clone(),!0;{const U=P[I];if(typeof R=="number"||typeof R=="boolean"){if(U!==R)return P[I]=R,!0}else if(U.equals(R)===!1)return U.copy(R),!0}return!1}function x(M){const T=M.uniforms;let E=0;const P=16;for(let I=0,U=T.length;I<U;I++){const N=Array.isArray(T[I])?T[I]:[T[I]];for(let k=0,z=N.length;k<z;k++){const G=N[k],K=Array.isArray(G.value)?G.value:[G.value];for(let H=0,te=K.length;H<te;H++){const J=K[H],ie=S(J),B=E%P;B!==0&&P-B<ie.boundary&&(E+=P-B),G.__data=new Float32Array(ie.storage/Float32Array.BYTES_PER_ELEMENT),G.__offset=E,E+=ie.storage}}}const R=E%P;return R>0&&(E+=P-R),M.__size=E,M.__cache={},this}function S(M){const T={boundary:0,storage:0};return typeof M=="number"||typeof M=="boolean"?(T.boundary=4,T.storage=4):M.isVector2?(T.boundary=8,T.storage=8):M.isVector3||M.isColor?(T.boundary=16,T.storage=12):M.isVector4?(T.boundary=16,T.storage=16):M.isMatrix3?(T.boundary=48,T.storage=48):M.isMatrix4?(T.boundary=64,T.storage=64):M.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",M),T}function _(M){const T=M.target;T.removeEventListener("dispose",_);const E=o.indexOf(T.__bindingPointIndex);o.splice(E,1),n.deleteBuffer(i[T.id]),delete i[T.id],delete a[T.id]}function b(){for(const M in i)n.deleteBuffer(i[M]);o=[],i={},a={}}return{bind:l,update:c,dispose:b}}class eR{constructor(e={}){const{canvas:t=t8(),context:r=null,depth:i=!0,stencil:a=!0,alpha:o=!1,antialias:s=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:f="default",failIfMajorPerformanceCaveat:d=!1}=e;this.isWebGLRenderer=!0;let m;r!==null?m=r.getContextAttributes().alpha:m=o;const v=new Uint32Array(4),x=new Int32Array(4);let S=null,_=null;const b=[],M=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=Jr,this._useLegacyLights=!1,this.toneMapping=qs,this.toneMappingExposure=1;const T=this;let E=!1,P=0,R=0,I=null,U=-1,N=null;const k=new Sn,z=new Sn;let G=null;const K=new ft(0);let H=0,te=t.width,J=t.height,ie=1,B=null,X=null;const $=new Sn(0,0,te,J),V=new Sn(0,0,te,J);let ee=!1;const se=new Qy;let me=!1,Ce=!1,Ne=null;const De=new jt,Ke=new Ie,Te=new Q,Le={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Ge(){return I===null?ie:1}let q=r;function Re(Z,ve){for(let Me=0;Me<Z.length;Me++){const Ee=Z[Me],Se=t.getContext(Ee,ve);if(Se!==null)return Se}return null}try{const Z={alpha:!0,depth:i,stencil:a,antialias:s,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:f,failIfMajorPerformanceCaveat:d};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${Xy}`),t.addEventListener("webglcontextlost",He,!1),t.addEventListener("webglcontextrestored",le,!1),t.addEventListener("webglcontextcreationerror",Xe,!1),q===null){const ve=["webgl2","webgl","experimental-webgl"];if(T.isWebGL1Renderer===!0&&ve.shift(),q=Re(ve,Z),q===null)throw Re(ve)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&q instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),q.getShaderPrecisionFormat===void 0&&(q.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Z){throw console.error("THREE.WebGLRenderer: "+Z.message),Z}let _e,Fe,Ae,it,Qe,Y,W,ge,ze,je,ke,xt,tt,lt,Tt,Vt,Ve,en,Zt,Ft,Ct,pt,ue,Ue;function st(){_e=new ahe(q),Fe=new Qfe(q,_e,e),_e.init(Fe),pt=new p8(q,_e,Fe),Ae=new zde(q,_e,Fe),it=new lhe(q),Qe=new Pde,Y=new jde(q,_e,Ae,Qe,Fe,pt,it),W=new the(T),ge=new ihe(T),ze=new gue(q,Fe),ue=new Zfe(q,_e,ze,Fe),je=new ohe(q,ze,it,ue),ke=new hhe(q,je,ze,it),Zt=new fhe(q,Fe,Y),Vt=new ehe(Qe),xt=new Ede(T,W,ge,_e,Fe,ue,Vt),tt=new Wde(T,Qe),lt=new Ode,Tt=new kde(_e,Fe),en=new Kfe(T,W,ge,Ae,ke,m,l),Ve=new Bde(T,ke,Fe),Ue=new Gde(q,it,Fe,Ae),Ft=new Jfe(q,_e,it,Fe),Ct=new she(q,_e,it,Fe),it.programs=xt.programs,T.capabilities=Fe,T.extensions=_e,T.properties=Qe,T.renderLists=lt,T.shadowMap=Ve,T.state=Ae,T.info=it}st();const at=new Hde(T,q);this.xr=at,this.getContext=function(){return q},this.getContextAttributes=function(){return q.getContextAttributes()},this.forceContextLoss=function(){const Z=_e.get("WEBGL_lose_context");Z&&Z.loseContext()},this.forceContextRestore=function(){const Z=_e.get("WEBGL_lose_context");Z&&Z.restoreContext()},this.getPixelRatio=function(){return ie},this.setPixelRatio=function(Z){Z!==void 0&&(ie=Z,this.setSize(te,J,!1))},this.getSize=function(Z){return Z.set(te,J)},this.setSize=function(Z,ve,Me=!0){if(at.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}te=Z,J=ve,t.width=Math.floor(Z*ie),t.height=Math.floor(ve*ie),Me===!0&&(t.style.width=Z+"px",t.style.height=ve+"px"),this.setViewport(0,0,Z,ve)},this.getDrawingBufferSize=function(Z){return Z.set(te*ie,J*ie).floor()},this.setDrawingBufferSize=function(Z,ve,Me){te=Z,J=ve,ie=Me,t.width=Math.floor(Z*Me),t.height=Math.floor(ve*Me),this.setViewport(0,0,Z,ve)},this.getCurrentViewport=function(Z){return Z.copy(k)},this.getViewport=function(Z){return Z.copy($)},this.setViewport=function(Z,ve,Me,Ee){Z.isVector4?$.set(Z.x,Z.y,Z.z,Z.w):$.set(Z,ve,Me,Ee),Ae.viewport(k.copy($).multiplyScalar(ie).floor())},this.getScissor=function(Z){return Z.copy(V)},this.setScissor=function(Z,ve,Me,Ee){Z.isVector4?V.set(Z.x,Z.y,Z.z,Z.w):V.set(Z,ve,Me,Ee),Ae.scissor(z.copy(V).multiplyScalar(ie).floor())},this.getScissorTest=function(){return ee},this.setScissorTest=function(Z){Ae.setScissorTest(ee=Z)},this.setOpaqueSort=function(Z){B=Z},this.setTransparentSort=function(Z){X=Z},this.getClearColor=function(Z){return Z.copy(en.getClearColor())},this.setClearColor=function(){en.setClearColor.apply(en,arguments)},this.getClearAlpha=function(){return en.getClearAlpha()},this.setClearAlpha=function(){en.setClearAlpha.apply(en,arguments)},this.clear=function(Z=!0,ve=!0,Me=!0){let Ee=0;if(Z){let Se=!1;if(I!==null){const ct=I.texture.format;Se=ct===zO||ct===BO||ct===FO}if(Se){const ct=I.texture.type,Ot=ct===Xs||ct===Yl||ct===SS||ct===gc||ct===kO||ct===UO,Dt=en.getClearColor(),ht=en.getClearAlpha(),$t=Dt.r,Bt=Dt.g,Ht=Dt.b;Ot?(v[0]=$t,v[1]=Bt,v[2]=Ht,v[3]=ht,q.clearBufferuiv(q.COLOR,0,v)):(x[0]=$t,x[1]=Bt,x[2]=Ht,x[3]=ht,q.clearBufferiv(q.COLOR,0,x))}else Ee|=q.COLOR_BUFFER_BIT}ve&&(Ee|=q.DEPTH_BUFFER_BIT),Me&&(Ee|=q.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),q.clear(Ee)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",He,!1),t.removeEventListener("webglcontextrestored",le,!1),t.removeEventListener("webglcontextcreationerror",Xe,!1),lt.dispose(),Tt.dispose(),Qe.dispose(),W.dispose(),ge.dispose(),ke.dispose(),ue.dispose(),Ue.dispose(),xt.dispose(),at.dispose(),at.removeEventListener("sessionstart",zn),at.removeEventListener("sessionend",hn),Ne&&(Ne.dispose(),Ne=null),wr.stop()};function He(Z){Z.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),E=!0}function le(){console.log("THREE.WebGLRenderer: Context Restored."),E=!1;const Z=it.autoReset,ve=Ve.enabled,Me=Ve.autoUpdate,Ee=Ve.needsUpdate,Se=Ve.type;st(),it.autoReset=Z,Ve.enabled=ve,Ve.autoUpdate=Me,Ve.needsUpdate=Ee,Ve.type=Se}function Xe(Z){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",Z.statusMessage)}function rt(Z){const ve=Z.target;ve.removeEventListener("dispose",rt),Rt(ve)}function Rt(Z){_t(Z),Qe.remove(Z)}function _t(Z){const ve=Qe.get(Z).programs;ve!==void 0&&(ve.forEach(function(Me){xt.releaseProgram(Me)}),Z.isShaderMaterial&&xt.releaseShaderCache(Z))}this.renderBufferDirect=function(Z,ve,Me,Ee,Se,ct){ve===null&&(ve=Le);const Ot=Se.isMesh&&Se.matrixWorld.determinant()<0,Dt=Am(Z,ve,Me,Ee,Se);Ae.setMaterial(Ee,Ot);let ht=Me.index,$t=1;if(Ee.wireframe===!0){if(ht=je.getWireframeAttribute(Me),ht===void 0)return;$t=2}const Bt=Me.drawRange,Ht=Me.attributes.position;let Ln=Bt.start*$t,jr=(Bt.start+Bt.count)*$t;ct!==null&&(Ln=Math.max(Ln,ct.start*$t),jr=Math.min(jr,(ct.start+ct.count)*$t)),ht!==null?(Ln=Math.max(Ln,0),jr=Math.min(jr,ht.count)):Ht!=null&&(Ln=Math.max(Ln,0),jr=Math.min(jr,Ht.count));const Nn=jr-Ln;if(Nn<0||Nn===1/0)return;ue.setup(Se,Ee,Dt,Me,ht);let ur,Et=Ft;if(ht!==null&&(ur=ze.get(ht),Et=Ct,Et.setIndex(ur)),Se.isMesh)Ee.wireframe===!0?(Ae.setLineWidth(Ee.wireframeLinewidth*Ge()),Et.setMode(q.LINES)):Et.setMode(q.TRIANGLES);else if(Se.isLine){let gt=Ee.linewidth;gt===void 0&&(gt=1),Ae.setLineWidth(gt*Ge()),Se.isLineSegments?Et.setMode(q.LINES):Se.isLineLoop?Et.setMode(q.LINE_LOOP):Et.setMode(q.LINE_STRIP)}else Se.isPoints?Et.setMode(q.POINTS):Se.isSprite&&Et.setMode(q.TRIANGLES);if(Se.isBatchedMesh)Et.renderMultiDraw(Se._multiDrawStarts,Se._multiDrawCounts,Se._multiDrawCount);else if(Se.isInstancedMesh)Et.renderInstances(Ln,Nn,Se.count);else if(Me.isInstancedBufferGeometry){const gt=Me._maxInstanceCount!==void 0?Me._maxInstanceCount:1/0,tr=Math.min(Me.instanceCount,gt);Et.renderInstances(Ln,Nn,tr)}else Et.render(Ln,Nn)};function rn(Z,ve,Me){Z.transparent===!0&&Z.side===vs&&Z.forceSinglePass===!1?(Z.side=$i,Z.needsUpdate=!0,Es(Z,ve,Me),Z.side=ru,Z.needsUpdate=!0,Es(Z,ve,Me),Z.side=vs):Es(Z,ve,Me)}this.compile=function(Z,ve,Me=null){Me===null&&(Me=Z),_=Tt.get(Me),_.init(),M.push(_),Me.traverseVisible(function(Se){Se.isLight&&Se.layers.test(ve.layers)&&(_.pushLight(Se),Se.castShadow&&_.pushShadow(Se))}),Z!==Me&&Z.traverseVisible(function(Se){Se.isLight&&Se.layers.test(ve.layers)&&(_.pushLight(Se),Se.castShadow&&_.pushShadow(Se))}),_.setupLights(T._useLegacyLights);const Ee=new Set;return Z.traverse(function(Se){const ct=Se.material;if(ct)if(Array.isArray(ct))for(let Ot=0;Ot<ct.length;Ot++){const Dt=ct[Ot];rn(Dt,Me,Se),Ee.add(Dt)}else rn(ct,Me,Se),Ee.add(ct)}),M.pop(),_=null,Ee},this.compileAsync=function(Z,ve,Me=null){const Ee=this.compile(Z,ve,Me);return new Promise(Se=>{function ct(){if(Ee.forEach(function(Ot){Qe.get(Ot).currentProgram.isReady()&&Ee.delete(Ot)}),Ee.size===0){Se(Z);return}setTimeout(ct,10)}_e.get("KHR_parallel_shader_compile")!==null?ct():setTimeout(ct,10)})};let dn=null;function En(Z){dn&&dn(Z)}function zn(){wr.stop()}function hn(){wr.start()}const wr=new l8;wr.setAnimationLoop(En),typeof self<"u"&&wr.setContext(self),this.setAnimationLoop=function(Z){dn=Z,at.setAnimationLoop(Z),Z===null?wr.stop():wr.start()},at.addEventListener("sessionstart",zn),at.addEventListener("sessionend",hn),this.render=function(Z,ve){if(ve!==void 0&&ve.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(E===!0)return;Z.matrixWorldAutoUpdate===!0&&Z.updateMatrixWorld(),ve.parent===null&&ve.matrixWorldAutoUpdate===!0&&ve.updateMatrixWorld(),at.enabled===!0&&at.isPresenting===!0&&(at.cameraAutoUpdate===!0&&at.updateCamera(ve),ve=at.getCamera()),Z.isScene===!0&&Z.onBeforeRender(T,Z,ve,I),_=Tt.get(Z,M.length),_.init(),M.push(_),De.multiplyMatrices(ve.projectionMatrix,ve.matrixWorldInverse),se.setFromProjectionMatrix(De),Ce=this.localClippingEnabled,me=Vt.init(this.clippingPlanes,Ce),S=lt.get(Z,b.length),S.init(),b.push(S),ai(Z,ve,0,T.sortObjects),S.finish(),T.sortObjects===!0&&S.sort(B,X),this.info.render.frame++,me===!0&&Vt.beginShadows();const Me=_.state.shadowsArray;if(Ve.render(Me,Z,ve),me===!0&&Vt.endShadows(),this.info.autoReset===!0&&this.info.reset(),en.render(S,Z),_.setupLights(T._useLegacyLights),ve.isArrayCamera){const Ee=ve.cameras;for(let Se=0,ct=Ee.length;Se<ct;Se++){const Ot=Ee[Se];Fc(S,Z,Ot,Ot.viewport)}}else Fc(S,Z,ve);I!==null&&(Y.updateMultisampleRenderTarget(I),Y.updateRenderTargetMipmap(I)),Z.isScene===!0&&Z.onAfterRender(T,Z,ve),ue.resetDefaultState(),U=-1,N=null,M.pop(),M.length>0?_=M[M.length-1]:_=null,b.pop(),b.length>0?S=b[b.length-1]:S=null};function ai(Z,ve,Me,Ee){if(Z.visible===!1)return;if(Z.layers.test(ve.layers)){if(Z.isGroup)Me=Z.renderOrder;else if(Z.isLOD)Z.autoUpdate===!0&&Z.update(ve);else if(Z.isLight)_.pushLight(Z),Z.castShadow&&_.pushShadow(Z);else if(Z.isSprite){if(!Z.frustumCulled||se.intersectsSprite(Z)){Ee&&Te.setFromMatrixPosition(Z.matrixWorld).applyMatrix4(De);const Ot=ke.update(Z),Dt=Z.material;Dt.visible&&S.push(Z,Ot,Dt,Me,Te.z,null)}}else if((Z.isMesh||Z.isLine||Z.isPoints)&&(!Z.frustumCulled||se.intersectsObject(Z))){const Ot=ke.update(Z),Dt=Z.material;if(Ee&&(Z.boundingSphere!==void 0?(Z.boundingSphere===null&&Z.computeBoundingSphere(),Te.copy(Z.boundingSphere.center)):(Ot.boundingSphere===null&&Ot.computeBoundingSphere(),Te.copy(Ot.boundingSphere.center)),Te.applyMatrix4(Z.matrixWorld).applyMatrix4(De)),Array.isArray(Dt)){const ht=Ot.groups;for(let $t=0,Bt=ht.length;$t<Bt;$t++){const Ht=ht[$t],Ln=Dt[Ht.materialIndex];Ln&&Ln.visible&&S.push(Z,Ot,Ln,Me,Te.z,Ht)}}else Dt.visible&&S.push(Z,Ot,Dt,Me,Te.z,null)}}const ct=Z.children;for(let Ot=0,Dt=ct.length;Ot<Dt;Ot++)ai(ct[Ot],ve,Me,Ee)}function Fc(Z,ve,Me,Ee){const Se=Z.opaque,ct=Z.transmissive,Ot=Z.transparent;_.setupLightsView(Me),me===!0&&Vt.setGlobalState(T.clippingPlanes,Me),ct.length>0&&Io(Se,ct,ve,Me),Ee&&Ae.viewport(k.copy(Ee)),Se.length>0&&Do(Se,ve,Me),ct.length>0&&Do(ct,ve,Me),Ot.length>0&&Do(Ot,ve,Me),Ae.buffers.depth.setTest(!0),Ae.buffers.depth.setMask(!0),Ae.buffers.color.setMask(!0),Ae.setPolygonOffset(!1)}function Io(Z,ve,Me,Ee){if((Me.isScene===!0?Me.overrideMaterial:null)!==null)return;const ct=Fe.isWebGL2;Ne===null&&(Ne=new Ss(1,1,{generateMipmaps:!0,type:_e.has("EXT_color_buffer_half_float")?Qp:Xs,minFilter:wc,samples:ct?4:0})),T.getDrawingBufferSize(Ke),ct?Ne.setSize(Ke.x,Ke.y):Ne.setSize(Pb(Ke.x),Pb(Ke.y));const Ot=T.getRenderTarget();T.setRenderTarget(Ne),T.getClearColor(K),H=T.getClearAlpha(),H<1&&T.setClearColor(16777215,.5),T.clear();const Dt=T.toneMapping;T.toneMapping=qs,Do(Z,Me,Ee),Y.updateMultisampleRenderTarget(Ne),Y.updateRenderTargetMipmap(Ne);let ht=!1;for(let $t=0,Bt=ve.length;$t<Bt;$t++){const Ht=ve[$t],Ln=Ht.object,jr=Ht.geometry,Nn=Ht.material,ur=Ht.group;if(Nn.side===vs&&Ln.layers.test(Ee.layers)){const Et=Nn.side;Nn.side=$i,Nn.needsUpdate=!0,ka(Ln,Me,Ee,jr,Nn,ur),Nn.side=Et,Nn.needsUpdate=!0,ht=!0}}ht===!0&&(Y.updateMultisampleRenderTarget(Ne),Y.updateRenderTargetMipmap(Ne)),T.setRenderTarget(Ot),T.setClearColor(K,H),T.toneMapping=Dt}function Do(Z,ve,Me){const Ee=ve.isScene===!0?ve.overrideMaterial:null;for(let Se=0,ct=Z.length;Se<ct;Se++){const Ot=Z[Se],Dt=Ot.object,ht=Ot.geometry,$t=Ee===null?Ot.material:Ee,Bt=Ot.group;Dt.layers.test(Me.layers)&&ka(Dt,ve,Me,ht,$t,Bt)}}function ka(Z,ve,Me,Ee,Se,ct){Z.onBeforeRender(T,ve,Me,Ee,Se,ct),Z.modelViewMatrix.multiplyMatrices(Me.matrixWorldInverse,Z.matrixWorld),Z.normalMatrix.getNormalMatrix(Z.modelViewMatrix),Se.onBeforeRender(T,ve,Me,Ee,Z,ct),Se.transparent===!0&&Se.side===vs&&Se.forceSinglePass===!1?(Se.side=$i,Se.needsUpdate=!0,T.renderBufferDirect(Me,ve,Ee,Se,Z,ct),Se.side=ru,Se.needsUpdate=!0,T.renderBufferDirect(Me,ve,Ee,Se,Z,ct),Se.side=vs):T.renderBufferDirect(Me,ve,Ee,Se,Z,ct),Z.onAfterRender(T,ve,Me,Ee,Se,ct)}function Es(Z,ve,Me){ve.isScene!==!0&&(ve=Le);const Ee=Qe.get(Z),Se=_.state.lights,ct=_.state.shadowsArray,Ot=Se.state.version,Dt=xt.getParameters(Z,Se.state,ct,ve,Me),ht=xt.getProgramCacheKey(Dt);let $t=Ee.programs;Ee.environment=Z.isMeshStandardMaterial?ve.environment:null,Ee.fog=ve.fog,Ee.envMap=(Z.isMeshStandardMaterial?ge:W).get(Z.envMap||Ee.environment),$t===void 0&&(Z.addEventListener("dispose",rt),$t=new Map,Ee.programs=$t);let Bt=$t.get(ht);if(Bt!==void 0){if(Ee.currentProgram===Bt&&Ee.lightsStateVersion===Ot)return Dh(Z,Dt),Bt}else Dt.uniforms=xt.getUniforms(Z),Z.onBuild(Me,Dt,T),Z.onBeforeCompile(Dt,T),Bt=xt.acquireProgram(Dt,ht),$t.set(ht,Bt),Ee.uniforms=Dt.uniforms;const Ht=Ee.uniforms;return(!Z.isShaderMaterial&&!Z.isRawShaderMaterial||Z.clipping===!0)&&(Ht.clippingPlanes=Vt.uniform),Dh(Z,Dt),Ee.needsLights=Lh(Z),Ee.lightsStateVersion=Ot,Ee.needsLights&&(Ht.ambientLightColor.value=Se.state.ambient,Ht.lightProbe.value=Se.state.probe,Ht.directionalLights.value=Se.state.directional,Ht.directionalLightShadows.value=Se.state.directionalShadow,Ht.spotLights.value=Se.state.spot,Ht.spotLightShadows.value=Se.state.spotShadow,Ht.rectAreaLights.value=Se.state.rectArea,Ht.ltc_1.value=Se.state.rectAreaLTC1,Ht.ltc_2.value=Se.state.rectAreaLTC2,Ht.pointLights.value=Se.state.point,Ht.pointLightShadows.value=Se.state.pointShadow,Ht.hemisphereLights.value=Se.state.hemi,Ht.directionalShadowMap.value=Se.state.directionalShadowMap,Ht.directionalShadowMatrix.value=Se.state.directionalShadowMatrix,Ht.spotShadowMap.value=Se.state.spotShadowMap,Ht.spotLightMatrix.value=Se.state.spotLightMatrix,Ht.spotLightMap.value=Se.state.spotLightMap,Ht.pointShadowMap.value=Se.state.pointShadowMap,Ht.pointShadowMatrix.value=Se.state.pointShadowMatrix),Ee.currentProgram=Bt,Ee.uniformsList=null,Bt}function Ih(Z){if(Z.uniformsList===null){const ve=Z.currentProgram.getUniforms();Z.uniformsList=M_.seqWithValue(ve.seq,Z.uniforms)}return Z.uniformsList}function Dh(Z,ve){const Me=Qe.get(Z);Me.outputColorSpace=ve.outputColorSpace,Me.batching=ve.batching,Me.instancing=ve.instancing,Me.instancingColor=ve.instancingColor,Me.skinning=ve.skinning,Me.morphTargets=ve.morphTargets,Me.morphNormals=ve.morphNormals,Me.morphColors=ve.morphColors,Me.morphTargetsCount=ve.morphTargetsCount,Me.numClippingPlanes=ve.numClippingPlanes,Me.numIntersection=ve.numClipIntersection,Me.vertexAlphas=ve.vertexAlphas,Me.vertexTangents=ve.vertexTangents,Me.toneMapping=ve.toneMapping}function Am(Z,ve,Me,Ee,Se){ve.isScene!==!0&&(ve=Le),Y.resetTextureUnits();const ct=ve.fog,Ot=Ee.isMeshStandardMaterial?ve.environment:null,Dt=I===null?T.outputColorSpace:I.isXRRenderTarget===!0?I.texture.colorSpace:Qs,ht=(Ee.isMeshStandardMaterial?ge:W).get(Ee.envMap||Ot),$t=Ee.vertexColors===!0&&!!Me.attributes.color&&Me.attributes.color.itemSize===4,Bt=!!Me.attributes.tangent&&(!!Ee.normalMap||Ee.anisotropy>0),Ht=!!Me.morphAttributes.position,Ln=!!Me.morphAttributes.normal,jr=!!Me.morphAttributes.color;let Nn=qs;Ee.toneMapped&&(I===null||I.isXRRenderTarget===!0)&&(Nn=T.toneMapping);const ur=Me.morphAttributes.position||Me.morphAttributes.normal||Me.morphAttributes.color,Et=ur!==void 0?ur.length:0,gt=Qe.get(Ee),tr=_.state.lights;if(me===!0&&(Ce===!0||Z!==N)){const Vr=Z===N&&Ee.id===U;Vt.setState(Ee,Z,Vr)}let an=!1;Ee.version===gt.__version?(gt.needsLights&&gt.lightsStateVersion!==tr.state.version||gt.outputColorSpace!==Dt||Se.isBatchedMesh&&gt.batching===!1||!Se.isBatchedMesh&&gt.batching===!0||Se.isInstancedMesh&&gt.instancing===!1||!Se.isInstancedMesh&&gt.instancing===!0||Se.isSkinnedMesh&&gt.skinning===!1||!Se.isSkinnedMesh&&gt.skinning===!0||Se.isInstancedMesh&&gt.instancingColor===!0&&Se.instanceColor===null||Se.isInstancedMesh&&gt.instancingColor===!1&&Se.instanceColor!==null||gt.envMap!==ht||Ee.fog===!0&&gt.fog!==ct||gt.numClippingPlanes!==void 0&&(gt.numClippingPlanes!==Vt.numPlanes||gt.numIntersection!==Vt.numIntersection)||gt.vertexAlphas!==$t||gt.vertexTangents!==Bt||gt.morphTargets!==Ht||gt.morphNormals!==Ln||gt.morphColors!==jr||gt.toneMapping!==Nn||Fe.isWebGL2===!0&&gt.morphTargetsCount!==Et)&&(an=!0):(an=!0,gt.__version=Ee.version);let nr=gt.currentProgram;an===!0&&(nr=Es(Ee,ve,Se));let io=!1,vi=!1,cr=!1;const jn=nr.getUniforms(),Xi=gt.uniforms;if(Ae.useProgram(nr.program)&&(io=!0,vi=!0,cr=!0),Ee.id!==U&&(U=Ee.id,vi=!0),io||N!==Z){jn.setValue(q,"projectionMatrix",Z.projectionMatrix),jn.setValue(q,"viewMatrix",Z.matrixWorldInverse);const Vr=jn.map.cameraPosition;Vr!==void 0&&Vr.setValue(q,Te.setFromMatrixPosition(Z.matrixWorld)),Fe.logarithmicDepthBuffer&&jn.setValue(q,"logDepthBufFC",2/(Math.log(Z.far+1)/Math.LN2)),(Ee.isMeshPhongMaterial||Ee.isMeshToonMaterial||Ee.isMeshLambertMaterial||Ee.isMeshBasicMaterial||Ee.isMeshStandardMaterial||Ee.isShaderMaterial)&&jn.setValue(q,"isOrthographic",Z.isOrthographicCamera===!0),N!==Z&&(N=Z,vi=!0,cr=!0)}if(Se.isSkinnedMesh){jn.setOptional(q,Se,"bindMatrix"),jn.setOptional(q,Se,"bindMatrixInverse");const Vr=Se.skeleton;Vr&&(Fe.floatVertexTextures?(Vr.boneTexture===null&&Vr.computeBoneTexture(),jn.setValue(q,"boneTexture",Vr.boneTexture,Y)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}Se.isBatchedMesh&&(jn.setOptional(q,Se,"batchingTexture"),jn.setValue(q,"batchingTexture",Se._matricesTexture,Y));const mu=Me.morphAttributes;if((mu.position!==void 0||mu.normal!==void 0||mu.color!==void 0&&Fe.isWebGL2===!0)&&Zt.update(Se,Me,nr),(vi||gt.receiveShadow!==Se.receiveShadow)&&(gt.receiveShadow=Se.receiveShadow,jn.setValue(q,"receiveShadow",Se.receiveShadow)),Ee.isMeshGouraudMaterial&&Ee.envMap!==null&&(Xi.envMap.value=ht,Xi.flipEnvMap.value=ht.isCubeTexture&&ht.isRenderTargetTexture===!1?-1:1),vi&&(jn.setValue(q,"toneMappingExposure",T.toneMappingExposure),gt.needsLights&&Lo(Xi,cr),ct&&Ee.fog===!0&&tt.refreshFogUniforms(Xi,ct),tt.refreshMaterialUniforms(Xi,Ee,ie,J,Ne),M_.upload(q,Ih(gt),Xi,Y)),Ee.isShaderMaterial&&Ee.uniformsNeedUpdate===!0&&(M_.upload(q,Ih(gt),Xi,Y),Ee.uniformsNeedUpdate=!1),Ee.isSpriteMaterial&&jn.setValue(q,"center",Se.center),jn.setValue(q,"modelViewMatrix",Se.modelViewMatrix),jn.setValue(q,"normalMatrix",Se.normalMatrix),jn.setValue(q,"modelMatrix",Se.matrixWorld),Ee.isShaderMaterial||Ee.isRawShaderMaterial){const Vr=Ee.uniformsGroups;for(let Ps=0,Oi=Vr.length;Ps<Oi;Ps++)if(Fe.isWebGL2){const gu=Vr[Ps];Ue.update(gu,nr),Ue.bind(gu,nr)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return nr}function Lo(Z,ve){Z.ambientLightColor.needsUpdate=ve,Z.lightProbe.needsUpdate=ve,Z.directionalLights.needsUpdate=ve,Z.directionalLightShadows.needsUpdate=ve,Z.pointLights.needsUpdate=ve,Z.pointLightShadows.needsUpdate=ve,Z.spotLights.needsUpdate=ve,Z.spotLightShadows.needsUpdate=ve,Z.rectAreaLights.needsUpdate=ve,Z.hemisphereLights.needsUpdate=ve}function Lh(Z){return Z.isMeshLambertMaterial||Z.isMeshToonMaterial||Z.isMeshPhongMaterial||Z.isMeshStandardMaterial||Z.isShadowMaterial||Z.isShaderMaterial&&Z.lights===!0}this.getActiveCubeFace=function(){return P},this.getActiveMipmapLevel=function(){return R},this.getRenderTarget=function(){return I},this.setRenderTargetTextures=function(Z,ve,Me){Qe.get(Z.texture).__webglTexture=ve,Qe.get(Z.depthTexture).__webglTexture=Me;const Ee=Qe.get(Z);Ee.__hasExternalTextures=!0,Ee.__hasExternalTextures&&(Ee.__autoAllocateDepthBuffer=Me===void 0,Ee.__autoAllocateDepthBuffer||_e.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Ee.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(Z,ve){const Me=Qe.get(Z);Me.__webglFramebuffer=ve,Me.__useDefaultFramebuffer=ve===void 0},this.setRenderTarget=function(Z,ve=0,Me=0){I=Z,P=ve,R=Me;let Ee=!0,Se=null,ct=!1,Ot=!1;if(Z){const ht=Qe.get(Z);ht.__useDefaultFramebuffer!==void 0?(Ae.bindFramebuffer(q.FRAMEBUFFER,null),Ee=!1):ht.__webglFramebuffer===void 0?Y.setupRenderTarget(Z):ht.__hasExternalTextures&&Y.rebindTextures(Z,Qe.get(Z.texture).__webglTexture,Qe.get(Z.depthTexture).__webglTexture);const $t=Z.texture;($t.isData3DTexture||$t.isDataArrayTexture||$t.isCompressedArrayTexture)&&(Ot=!0);const Bt=Qe.get(Z).__webglFramebuffer;Z.isWebGLCubeRenderTarget?(Array.isArray(Bt[ve])?Se=Bt[ve][Me]:Se=Bt[ve],ct=!0):Fe.isWebGL2&&Z.samples>0&&Y.useMultisampledRTT(Z)===!1?Se=Qe.get(Z).__webglMultisampledFramebuffer:Array.isArray(Bt)?Se=Bt[Me]:Se=Bt,k.copy(Z.viewport),z.copy(Z.scissor),G=Z.scissorTest}else k.copy($).multiplyScalar(ie).floor(),z.copy(V).multiplyScalar(ie).floor(),G=ee;if(Ae.bindFramebuffer(q.FRAMEBUFFER,Se)&&Fe.drawBuffers&&Ee&&Ae.drawBuffers(Z,Se),Ae.viewport(k),Ae.scissor(z),Ae.setScissorTest(G),ct){const ht=Qe.get(Z.texture);q.framebufferTexture2D(q.FRAMEBUFFER,q.COLOR_ATTACHMENT0,q.TEXTURE_CUBE_MAP_POSITIVE_X+ve,ht.__webglTexture,Me)}else if(Ot){const ht=Qe.get(Z.texture),$t=ve||0;q.framebufferTextureLayer(q.FRAMEBUFFER,q.COLOR_ATTACHMENT0,ht.__webglTexture,Me||0,$t)}U=-1},this.readRenderTargetPixels=function(Z,ve,Me,Ee,Se,ct,Ot){if(!(Z&&Z.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Dt=Qe.get(Z).__webglFramebuffer;if(Z.isWebGLCubeRenderTarget&&Ot!==void 0&&(Dt=Dt[Ot]),Dt){Ae.bindFramebuffer(q.FRAMEBUFFER,Dt);try{const ht=Z.texture,$t=ht.format,Bt=ht.type;if($t!==la&&pt.convert($t)!==q.getParameter(q.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Ht=Bt===Qp&&(_e.has("EXT_color_buffer_half_float")||Fe.isWebGL2&&_e.has("EXT_color_buffer_float"));if(Bt!==Xs&&pt.convert(Bt)!==q.getParameter(q.IMPLEMENTATION_COLOR_READ_TYPE)&&!(Bt===ys&&(Fe.isWebGL2||_e.has("OES_texture_float")||_e.has("WEBGL_color_buffer_float")))&&!Ht){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ve>=0&&ve<=Z.width-Ee&&Me>=0&&Me<=Z.height-Se&&q.readPixels(ve,Me,Ee,Se,pt.convert($t),pt.convert(Bt),ct)}finally{const ht=I!==null?Qe.get(I).__webglFramebuffer:null;Ae.bindFramebuffer(q.FRAMEBUFFER,ht)}}},this.copyFramebufferToTexture=function(Z,ve,Me=0){const Ee=Math.pow(2,-Me),Se=Math.floor(ve.image.width*Ee),ct=Math.floor(ve.image.height*Ee);Y.setTexture2D(ve,0),q.copyTexSubImage2D(q.TEXTURE_2D,Me,0,0,Z.x,Z.y,Se,ct),Ae.unbindTexture()},this.copyTextureToTexture=function(Z,ve,Me,Ee=0){const Se=ve.image.width,ct=ve.image.height,Ot=pt.convert(Me.format),Dt=pt.convert(Me.type);Y.setTexture2D(Me,0),q.pixelStorei(q.UNPACK_FLIP_Y_WEBGL,Me.flipY),q.pixelStorei(q.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Me.premultiplyAlpha),q.pixelStorei(q.UNPACK_ALIGNMENT,Me.unpackAlignment),ve.isDataTexture?q.texSubImage2D(q.TEXTURE_2D,Ee,Z.x,Z.y,Se,ct,Ot,Dt,ve.image.data):ve.isCompressedTexture?q.compressedTexSubImage2D(q.TEXTURE_2D,Ee,Z.x,Z.y,ve.mipmaps[0].width,ve.mipmaps[0].height,Ot,ve.mipmaps[0].data):q.texSubImage2D(q.TEXTURE_2D,Ee,Z.x,Z.y,Ot,Dt,ve.image),Ee===0&&Me.generateMipmaps&&q.generateMipmap(q.TEXTURE_2D),Ae.unbindTexture()},this.copyTextureToTexture3D=function(Z,ve,Me,Ee,Se=0){if(T.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const ct=Z.max.x-Z.min.x+1,Ot=Z.max.y-Z.min.y+1,Dt=Z.max.z-Z.min.z+1,ht=pt.convert(Ee.format),$t=pt.convert(Ee.type);let Bt;if(Ee.isData3DTexture)Y.setTexture3D(Ee,0),Bt=q.TEXTURE_3D;else if(Ee.isDataArrayTexture||Ee.isCompressedArrayTexture)Y.setTexture2DArray(Ee,0),Bt=q.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}q.pixelStorei(q.UNPACK_FLIP_Y_WEBGL,Ee.flipY),q.pixelStorei(q.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Ee.premultiplyAlpha),q.pixelStorei(q.UNPACK_ALIGNMENT,Ee.unpackAlignment);const Ht=q.getParameter(q.UNPACK_ROW_LENGTH),Ln=q.getParameter(q.UNPACK_IMAGE_HEIGHT),jr=q.getParameter(q.UNPACK_SKIP_PIXELS),Nn=q.getParameter(q.UNPACK_SKIP_ROWS),ur=q.getParameter(q.UNPACK_SKIP_IMAGES),Et=Me.isCompressedTexture?Me.mipmaps[Se]:Me.image;q.pixelStorei(q.UNPACK_ROW_LENGTH,Et.width),q.pixelStorei(q.UNPACK_IMAGE_HEIGHT,Et.height),q.pixelStorei(q.UNPACK_SKIP_PIXELS,Z.min.x),q.pixelStorei(q.UNPACK_SKIP_ROWS,Z.min.y),q.pixelStorei(q.UNPACK_SKIP_IMAGES,Z.min.z),Me.isDataTexture||Me.isData3DTexture?q.texSubImage3D(Bt,Se,ve.x,ve.y,ve.z,ct,Ot,Dt,ht,$t,Et.data):Me.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),q.compressedTexSubImage3D(Bt,Se,ve.x,ve.y,ve.z,ct,Ot,Dt,ht,Et.data)):q.texSubImage3D(Bt,Se,ve.x,ve.y,ve.z,ct,Ot,Dt,ht,$t,Et),q.pixelStorei(q.UNPACK_ROW_LENGTH,Ht),q.pixelStorei(q.UNPACK_IMAGE_HEIGHT,Ln),q.pixelStorei(q.UNPACK_SKIP_PIXELS,jr),q.pixelStorei(q.UNPACK_SKIP_ROWS,Nn),q.pixelStorei(q.UNPACK_SKIP_IMAGES,ur),Se===0&&Ee.generateMipmaps&&q.generateMipmap(Bt),Ae.unbindTexture()},this.initTexture=function(Z){Z.isCubeTexture?Y.setTextureCube(Z,0):Z.isData3DTexture?Y.setTexture3D(Z,0):Z.isDataArrayTexture||Z.isCompressedArrayTexture?Y.setTexture2DArray(Z,0):Y.setTexture2D(Z,0),Ae.unbindTexture()},this.resetState=function(){P=0,R=0,I=null,Ae.reset(),ue.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return xs}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=e===MS?"display-p3":"srgb",t.unpackColorSpace=In.workingColorSpace===Ky?"display-p3":"srgb"}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===Jr?yc:HO}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===yc?Jr:Qs}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}class g8 extends eR{}g8.prototype.isWebGL1Renderer=!0;class ES{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new ft(e),this.density=t}clone(){return new ES(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class PS{constructor(e,t=1,r=1e3){this.isFog=!0,this.name="",this.color=new ft(e),this.near=t,this.far=r}clone(){return new PS(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class Cb extends Mn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t}}class CS{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=by,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=ro()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return console.warn("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let i=0,a=this.stride;i<a;i++)this.array[e+i]=t.array[r+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ro()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ro()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const oa=new Q;class Sh{constructor(e,t,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)oa.fromBufferAttribute(this,t),oa.applyMatrix4(e),this.setXYZ(t,oa.x,oa.y,oa.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)oa.fromBufferAttribute(this,t),oa.applyNormalMatrix(e),this.setXYZ(t,oa.x,oa.y,oa.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)oa.fromBufferAttribute(this,t),oa.transformDirection(e),this.setXYZ(t,oa.x,oa.y,oa.z);return this}setX(e,t){return this.normalized&&(t=un(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=un(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=un(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=un(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Oa(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Oa(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Oa(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Oa(t,this.array)),t}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=un(t,this.array),r=un(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=un(t,this.array),r=un(r,this.array),i=un(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,t,r,i,a){return e=e*this.data.stride+this.offset,this.normalized&&(t=un(t,this.array),r=un(r,this.array),i=un(i,this.array),a=un(a,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=a,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[i+a])}return new Dn(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Sh(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[i+a])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class tR extends Ci{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new ft(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Zd;const Lg=new Q,Jd=new Q,Qd=new Q,ep=new Ie,Ng=new Ie,v8=new jt,zx=new Q,kg=new Q,jx=new Q,PB=new Ie,rE=new Ie,CB=new Ie;class y8 extends Mn{constructor(e=new tR){if(super(),this.isSprite=!0,this.type="Sprite",Zd===void 0){Zd=new cn;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new CS(t,5);Zd.setIndex([0,1,2,0,2,3]),Zd.setAttribute("position",new Sh(r,3,0,!1)),Zd.setAttribute("uv",new Sh(r,2,3,!1))}this.geometry=Zd,this.material=e,this.center=new Ie(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Jd.setFromMatrixScale(this.matrixWorld),v8.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Qd.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Jd.multiplyScalar(-Qd.z);const r=this.material.rotation;let i,a;r!==0&&(a=Math.cos(r),i=Math.sin(r));const o=this.center;Vx(zx.set(-.5,-.5,0),Qd,o,Jd,i,a),Vx(kg.set(.5,-.5,0),Qd,o,Jd,i,a),Vx(jx.set(.5,.5,0),Qd,o,Jd,i,a),PB.set(0,0),rE.set(1,0),CB.set(1,1);let s=e.ray.intersectTriangle(zx,kg,jx,!1,Lg);if(s===null&&(Vx(kg.set(-.5,.5,0),Qd,o,Jd,i,a),rE.set(0,1),s=e.ray.intersectTriangle(zx,jx,kg,!1,Lg),s===null))return;const l=e.ray.origin.distanceTo(Lg);l<e.near||l>e.far||t.push({distance:l,point:Lg.clone(),uv:Ca.getInterpolation(Lg,zx,kg,jx,PB,rE,CB,new Ie),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Vx(n,e,t,r,i,a){ep.subVectors(n,t).addScalar(.5).multiply(r),i!==void 0?(Ng.x=a*ep.x-i*ep.y,Ng.y=i*ep.x+a*ep.y):Ng.copy(ep),n.copy(e),n.x+=Ng.x,n.y+=Ng.y,n.applyMatrix4(v8)}const Hx=new Q,OB=new Q;class x8 extends Mn{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let r=0,i=t.length;r<i;r++){const a=t[r];this.addLevel(a.object.clone(),a.distance,a.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,r=0){t=Math.abs(t);const i=this.levels;let a;for(a=0;a<i.length&&!(t<i[a].distance);a++);return i.splice(a,0,{distance:t,hysteresis:r,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let r,i;for(r=1,i=t.length;r<i;r++){let a=t[r].distance;if(t[r].object.visible&&(a-=a*t[r].hysteresis),e<a)break}return t[r-1].object}return null}raycast(e,t){if(this.levels.length>0){Hx.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(Hx);this.getObjectForDistance(i).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){Hx.setFromMatrixPosition(e.matrixWorld),OB.setFromMatrixPosition(this.matrixWorld);const r=Hx.distanceTo(OB)/e.zoom;t[0].object.visible=!0;let i,a;for(i=1,a=t.length;i<a;i++){let o=t[i].distance;if(t[i].object.visible&&(o-=o*t[i].hysteresis),r>=o)t[i-1].object.visible=!1,t[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<a;i++)t[i].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const r=this.levels;for(let i=0,a=r.length;i<a;i++){const o=r[i];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const RB=new Q,IB=new Sn,DB=new Sn,$de=new Q,LB=new jt,Wx=new Q,iE=new qi,NB=new jt,aE=new Ph;class _8 extends ei{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=bC,this.bindMatrix=new jt,this.bindMatrixInverse=new jt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new pa),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let r=0;r<t.count;r++)this.getVertexPosition(r,Wx),this.boundingBox.expandByPoint(Wx)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new qi),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let r=0;r<t.count;r++)this.getVertexPosition(r,Wx),this.boundingSphere.expandByPoint(Wx)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),iE.copy(this.boundingSphere),iE.applyMatrix4(i),e.ray.intersectsSphere(iE)!==!1&&(NB.copy(i).invert(),aE.copy(e.ray).applyMatrix4(NB),!(this.boundingBox!==null&&aE.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,aE)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Sn,t=this.geometry.attributes.skinWeight;for(let r=0,i=t.count;r<i;r++){e.fromBufferAttribute(t,r);const a=1/e.manhattanLength();a!==1/0?e.multiplyScalar(a):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===bC?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===IW?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const r=this.skeleton,i=this.geometry;IB.fromBufferAttribute(i.attributes.skinIndex,e),DB.fromBufferAttribute(i.attributes.skinWeight,e),RB.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let a=0;a<4;a++){const o=DB.getComponent(a);if(o!==0){const s=IB.getComponent(a);LB.multiplyMatrices(r.bones[s].matrixWorld,r.boneInverses[s]),t.addScaledVector($de.copy(RB).applyMatrix4(LB),o)}}return t.applyMatrix4(this.bindMatrixInverse)}boneTransform(e,t){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,t)}}class nR extends Mn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class dh extends Sr{constructor(e=null,t=1,r=1,i,a,o,s,l,c=Pr,f=Pr,d,m){super(null,o,s,l,c,f,i,a,d,m),this.isDataTexture=!0,this.image={data:e,width:t,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const kB=new jt,qde=new jt;class OS{constructor(e=[],t=[]){this.uuid=ro(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new jt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const r=new jt;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,t=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let a=0,o=e.length;a<o;a++){const s=e[a]?e[a].matrixWorld:qde;kB.multiplyMatrices(s,t[a]),kB.toArray(r,a*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new OS(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const r=new dh(t,e,e,la,ys);return r.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=r,this}getBoneByName(e){for(let t=0,r=this.bones.length;t<r;t++){const i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const a=e.bones[r];let o=t[a];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",a),o=new nR),this.bones.push(o),this.boneInverses.push(new jt().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,r=this.boneInverses;for(let i=0,a=t.length;i<a;i++){const o=t[i];e.bones.push(o.uuid);const s=r[i];e.boneInverses.push(s.toArray())}return e}}class rm extends Dn{constructor(e,t,r,i=1){super(e,t,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const tp=new jt,UB=new jt,Gx=[],FB=new pa,Xde=new jt,Ug=new ei,Fg=new qi;class b8 extends ei{constructor(e,t,r){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new rm(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,Xde)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new pa),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<t;r++)this.getMatrixAt(r,tp),FB.copy(e.boundingBox).applyMatrix4(tp),this.boundingBox.union(FB)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new qi),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<t;r++)this.getMatrixAt(r,tp),Fg.copy(e.boundingSphere).applyMatrix4(tp),this.boundingSphere.union(Fg)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const r=this.matrixWorld,i=this.count;if(Ug.geometry=this.geometry,Ug.material=this.material,Ug.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Fg.copy(this.boundingSphere),Fg.applyMatrix4(r),e.ray.intersectsSphere(Fg)!==!1))for(let a=0;a<i;a++){this.getMatrixAt(a,tp),UB.multiplyMatrices(r,tp),Ug.matrixWorld=UB,Ug.raycast(e,Gx);for(let o=0,s=Gx.length;o<s;o++){const l=Gx[o];l.instanceId=a,l.object=this,t.push(l)}Gx.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new rm(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}function Yde(n,e){return n.z-e.z}function Kde(n,e){return e.z-n.z}class Zde{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t){const r=this.pool,i=this.list;this.index>=r.length&&r.push({start:-1,count:-1,z:-1});const a=r[this.index];i.push(a),this.index++,a.start=e.start,a.count=e.count,a.z=t}reset(){this.list.length=0,this.index=0}}const np="batchId",tc=new jt,BB=new jt,Jde=new jt,zB=new jt,oE=new Qy,$x=new pa,Df=new qi,Bg=new Q,sE=new Zde,zi=new ei,qx=[];function Qde(n,e,t=0){const r=e.itemSize;if(n.isInterleavedBufferAttribute||n.array.constructor!==e.array.constructor){const i=n.count;for(let a=0;a<i;a++)for(let o=0;o<r;o++)e.setComponent(a+t,o,n.getComponent(a,o))}else e.array.set(n.array,t*r);e.needsUpdate=!0}class S8 extends ei{get maxGeometryCount(){return this._maxGeometryCount}constructor(e,t,r=t*2,i){super(new cn,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._drawRanges=[],this._reservedRanges=[],this._visibility=[],this._active=[],this._bounds=[],this._maxGeometryCount=e,this._maxVertexCount=t,this._maxIndexCount=r,this._geometryInitialized=!1,this._geometryCount=0,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._visibilityChanged=!0,this._matricesTexture=null,this._initMatricesTexture()}_initMatricesTexture(){let e=Math.sqrt(this._maxGeometryCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),r=new dh(t,e,e,la,ys);this._matricesTexture=r}_initializeGeometry(e){const t=this.geometry,r=this._maxVertexCount,i=this._maxGeometryCount,a=this._maxIndexCount;if(this._geometryInitialized===!1){for(const s in e.attributes){const l=e.getAttribute(s),{array:c,itemSize:f,normalized:d}=l,m=new c.constructor(r*f),v=new l.constructor(m,f,d);v.setUsage(l.usage),t.setAttribute(s,v)}if(e.getIndex()!==null){const s=r>65536?new Uint32Array(a):new Uint16Array(a);t.setIndex(new Dn(s,1))}const o=i>65536?new Uint32Array(r):new Uint16Array(r);t.setAttribute(np,new Dn(o,1)),this._geometryInitialized=!0}}_validateGeometry(e){if(e.getAttribute(np))throw new Error(`BatchedMesh: Geometry cannot use attribute "${np}"`);const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('BatchedMesh: All geometries must consistently have "index".');for(const r in t.attributes){if(r===np)continue;if(!e.hasAttribute(r))throw new Error(`BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);const i=e.getAttribute(r),a=t.getAttribute(r);if(i.itemSize!==a.itemSize||i.normalized!==a.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new pa);const e=this._geometryCount,t=this.boundingBox,r=this._active;t.makeEmpty();for(let i=0;i<e;i++)r[i]!==!1&&(this.getMatrixAt(i,tc),this.getBoundingBoxAt(i,$x).applyMatrix4(tc),t.union($x))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new qi);const e=this._geometryCount,t=this.boundingSphere,r=this._active;t.makeEmpty();for(let i=0;i<e;i++)r[i]!==!1&&(this.getMatrixAt(i,tc),this.getBoundingSphereAt(i,Df).applyMatrix4(tc),t.union(Df))}addGeometry(e,t=-1,r=-1){if(this._initializeGeometry(e),this._validateGeometry(e),this._geometryCount>=this._maxGeometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");const i={vertexStart:-1,vertexCount:-1,indexStart:-1,indexCount:-1};let a=null;const o=this._reservedRanges,s=this._drawRanges,l=this._bounds;this._geometryCount!==0&&(a=o[o.length-1]),t===-1?i.vertexCount=e.getAttribute("position").count:i.vertexCount=t,a===null?i.vertexStart=0:i.vertexStart=a.vertexStart+a.vertexCount;const c=e.getIndex(),f=c!==null;if(f&&(r===-1?i.indexCount=c.count:i.indexCount=r,a===null?i.indexStart=0:i.indexStart=a.indexStart+a.indexCount),i.indexStart!==-1&&i.indexStart+i.indexCount>this._maxIndexCount||i.vertexStart+i.vertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");const d=this._visibility,m=this._active,v=this._matricesTexture,x=this._matricesTexture.image.data;d.push(!0),m.push(!0);const S=this._geometryCount;this._geometryCount++,Jde.toArray(x,S*16),v.needsUpdate=!0,o.push(i),s.push({start:f?i.indexStart:i.vertexStart,count:-1}),l.push({boxInitialized:!1,box:new pa,sphereInitialized:!1,sphere:new qi});const _=this.geometry.getAttribute(np);for(let b=0;b<i.vertexCount;b++)_.setX(i.vertexStart+b,S);return _.needsUpdate=!0,this.setGeometryAt(S,e),S}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const r=this.geometry,i=r.getIndex()!==null,a=r.getIndex(),o=t.getIndex(),s=this._reservedRanges[e];if(i&&o.count>s.indexCount||t.attributes.position.count>s.vertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");const l=s.vertexStart,c=s.vertexCount;for(const v in r.attributes){if(v===np)continue;const x=t.getAttribute(v),S=r.getAttribute(v);Qde(x,S,l);const _=x.itemSize;for(let b=x.count,M=c;b<M;b++){const T=l+b;for(let E=0;E<_;E++)S.setComponent(T,E,0)}S.needsUpdate=!0}if(i){const v=s.indexStart;for(let x=0;x<o.count;x++)a.setX(v+x,l+o.getX(x));for(let x=o.count,S=s.indexCount;x<S;x++)a.setX(v+x,l);a.needsUpdate=!0}const f=this._bounds[e];t.boundingBox!==null?(f.box.copy(t.boundingBox),f.boxInitialized=!0):f.boxInitialized=!1,t.boundingSphere!==null?(f.sphere.copy(t.boundingSphere),f.sphereInitialized=!0):f.sphereInitialized=!1;const d=this._drawRanges[e],m=t.getAttribute("position");return d.count=i?o.count:m.count,this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._active;return e>=t.length||t[e]===!1?this:(t[e]=!1,this._visibilityChanged=!0,this)}getBoundingBoxAt(e,t){if(this._active[e]===!1)return this;const i=this._bounds[e],a=i.box,o=this.geometry;if(i.boxInitialized===!1){a.makeEmpty();const s=o.index,l=o.attributes.position,c=this._drawRanges[e];for(let f=c.start,d=c.start+c.count;f<d;f++){let m=f;s&&(m=s.getX(m)),a.expandByPoint(Bg.fromBufferAttribute(l,m))}i.boxInitialized=!0}return t.copy(a),t}getBoundingSphereAt(e,t){if(this._active[e]===!1)return this;const i=this._bounds[e],a=i.sphere,o=this.geometry;if(i.sphereInitialized===!1){a.makeEmpty(),this.getBoundingBoxAt(e,$x),$x.getCenter(a.center);const s=o.index,l=o.attributes.position,c=this._drawRanges[e];let f=0;for(let d=c.start,m=c.start+c.count;d<m;d++){let v=d;s&&(v=s.getX(v)),Bg.fromBufferAttribute(l,v),f=Math.max(f,a.center.distanceToSquared(Bg))}a.radius=Math.sqrt(f),i.sphereInitialized=!0}return t.copy(a),t}setMatrixAt(e,t){const r=this._active,i=this._matricesTexture,a=this._matricesTexture.image.data,o=this._geometryCount;return e>=o||r[e]===!1?this:(t.toArray(a,e*16),i.needsUpdate=!0,this)}getMatrixAt(e,t){const r=this._active,i=this._matricesTexture.image.data,a=this._geometryCount;return e>=a||r[e]===!1?null:t.fromArray(i,e*16)}setVisibleAt(e,t){const r=this._visibility,i=this._active,a=this._geometryCount;return e>=a||i[e]===!1||r[e]===t?this:(r[e]=t,this._visibilityChanged=!0,this)}getVisibleAt(e){const t=this._visibility,r=this._active,i=this._geometryCount;return e>=i||r[e]===!1?!1:t[e]}raycast(e,t){const r=this._visibility,i=this._active,a=this._drawRanges,o=this._geometryCount,s=this.matrixWorld,l=this.geometry;zi.material=this.material,zi.geometry.index=l.index,zi.geometry.attributes=l.attributes,zi.geometry.boundingBox===null&&(zi.geometry.boundingBox=new pa),zi.geometry.boundingSphere===null&&(zi.geometry.boundingSphere=new qi);for(let c=0;c<o;c++){if(!r[c]||!i[c])continue;const f=a[c];zi.geometry.setDrawRange(f.start,f.count),this.getMatrixAt(c,zi.matrixWorld).premultiply(s),this.getBoundingBoxAt(c,zi.geometry.boundingBox),this.getBoundingSphereAt(c,zi.geometry.boundingSphere),zi.raycast(e,qx);for(let d=0,m=qx.length;d<m;d++){const v=qx[d];v.object=this,v.batchId=c,t.push(v)}qx.length=0}zi.material=null,zi.geometry.index=null,zi.geometry.attributes={},zi.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._drawRanges=e._drawRanges.map(t=>({...t})),this._reservedRanges=e._reservedRanges.map(t=>({...t})),this._visibility=e._visibility.slice(),this._active=e._active.slice(),this._bounds=e._bounds.map(t=>({boxInitialized:t.boxInitialized,box:t.box.clone(),sphereInitialized:t.sphereInitialized,sphere:t.sphere.clone()})),this._maxGeometryCount=e._maxGeometryCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.slice(),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this}onBeforeRender(e,t,r,i,a){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=i.getIndex(),s=o===null?1:o.array.BYTES_PER_ELEMENT,l=this._visibility,c=this._multiDrawStarts,f=this._multiDrawCounts,d=this._drawRanges,m=this.perObjectFrustumCulled;m&&(zB.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),oE.setFromProjectionMatrix(zB,e.isWebGPURenderer?em:xs));let v=0;if(this.sortObjects){BB.copy(this.matrixWorld).invert(),Bg.setFromMatrixPosition(r.matrixWorld).applyMatrix4(BB);for(let _=0,b=l.length;_<b;_++)if(l[_]){this.getMatrixAt(_,tc),this.getBoundingSphereAt(_,Df).applyMatrix4(tc);let M=!1;if(m&&(M=!oE.intersectsSphere(Df)),!M){const T=Bg.distanceTo(Df.center);sE.push(d[_],T)}}const x=sE.list,S=this.customSort;S===null?x.sort(a.transparent?Kde:Yde):S.call(this,x,r);for(let _=0,b=x.length;_<b;_++){const M=x[_];c[v]=M.start*s,f[v]=M.count,v++}sE.reset()}else for(let x=0,S=l.length;x<S;x++)if(l[x]){let _=!1;if(m&&(this.getMatrixAt(x,tc),this.getBoundingSphereAt(x,Df).applyMatrix4(tc),_=!oE.intersectsSphere(Df)),!_){const b=d[x];c[v]=b.start*s,f[v]=b.count,v++}}this._multiDrawCount=v,this._visibilityChanged=!1}onBeforeShadow(e,t,r,i,a,o){this.onBeforeRender(e,null,i,a,o)}}class ma extends Ci{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new ft(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const jB=new Q,VB=new Q,HB=new jt,lE=new Ph,Xx=new qi;class Mc extends Mn{constructor(e=new cn,t=new ma){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[0];for(let i=1,a=t.count;i<a;i++)jB.fromBufferAttribute(t,i-1),VB.fromBufferAttribute(t,i),r[i]=r[i-1],r[i]+=jB.distanceTo(VB);e.setAttribute("lineDistance",new At(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,a=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Xx.copy(r.boundingSphere),Xx.applyMatrix4(i),Xx.radius+=a,e.ray.intersectsSphere(Xx)===!1)return;HB.copy(i).invert(),lE.copy(e.ray).applyMatrix4(HB);const s=a/((this.scale.x+this.scale.y+this.scale.z)/3),l=s*s,c=new Q,f=new Q,d=new Q,m=new Q,v=this.isLineSegments?2:1,x=r.index,_=r.attributes.position;if(x!==null){const b=Math.max(0,o.start),M=Math.min(x.count,o.start+o.count);for(let T=b,E=M-1;T<E;T+=v){const P=x.getX(T),R=x.getX(T+1);if(c.fromBufferAttribute(_,P),f.fromBufferAttribute(_,R),lE.distanceSqToSegment(c,f,m,d)>l)continue;m.applyMatrix4(this.matrixWorld);const U=e.ray.origin.distanceTo(m);U<e.near||U>e.far||t.push({distance:U,point:d.clone().applyMatrix4(this.matrixWorld),index:T,face:null,faceIndex:null,object:this})}}else{const b=Math.max(0,o.start),M=Math.min(_.count,o.start+o.count);for(let T=b,E=M-1;T<E;T+=v){if(c.fromBufferAttribute(_,T),f.fromBufferAttribute(_,T+1),lE.distanceSqToSegment(c,f,m,d)>l)continue;m.applyMatrix4(this.matrixWorld);const R=e.ray.origin.distanceTo(m);R<e.near||R>e.far||t.push({distance:R,point:d.clone().applyMatrix4(this.matrixWorld),index:T,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=i.length;a<o;a++){const s=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=a}}}}}const WB=new Q,GB=new Q;class nl extends Mc{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[];for(let i=0,a=t.count;i<a;i+=2)WB.fromBufferAttribute(t,i),GB.fromBufferAttribute(t,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+WB.distanceTo(GB);e.setAttribute("lineDistance",new At(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class w8 extends Mc{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class rR extends Ci{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new ft(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const $B=new jt,JC=new Ph,Yx=new qi,Kx=new Q;class M8 extends Mn{constructor(e=new cn,t=new rR){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,a=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Yx.copy(r.boundingSphere),Yx.applyMatrix4(i),Yx.radius+=a,e.ray.intersectsSphere(Yx)===!1)return;$B.copy(i).invert(),JC.copy(e.ray).applyMatrix4($B);const s=a/((this.scale.x+this.scale.y+this.scale.z)/3),l=s*s,c=r.index,d=r.attributes.position;if(c!==null){const m=Math.max(0,o.start),v=Math.min(c.count,o.start+o.count);for(let x=m,S=v;x<S;x++){const _=c.getX(x);Kx.fromBufferAttribute(d,_),qB(Kx,_,l,i,e,t,this)}}else{const m=Math.max(0,o.start),v=Math.min(d.count,o.start+o.count);for(let x=m,S=v;x<S;x++)Kx.fromBufferAttribute(d,x),qB(Kx,x,l,i,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=i.length;a<o;a++){const s=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=a}}}}}function qB(n,e,t,r,i,a,o){const s=JC.distanceSqToPoint(n);if(s<t){const l=new Q;JC.closestPointToPoint(n,l),l.applyMatrix4(r);const c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;a.push({distance:c,distanceToRay:Math.sqrt(s),point:l,index:e,face:null,object:o})}}class epe extends Sr{constructor(e,t,r,i,a,o,s,l,c){super(e,t,r,i,a,o,s,l,c),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:Cr,this.magFilter=a!==void 0?a:Cr,this.generateMipmaps=!1;const f=this;function d(){f.needsUpdate=!0,e.requestVideoFrameCallback(d)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(d)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class tpe extends Sr{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=Pr,this.minFilter=Pr,this.generateMipmaps=!1,this.needsUpdate=!0}}class RS extends Sr{constructor(e,t,r,i,a,o,s,l,c,f,d,m){super(null,o,s,l,c,f,i,a,d,m),this.isCompressedTexture=!0,this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class npe extends RS{constructor(e,t,r,i,a,o){super(e,t,r,a,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=Hi}}class rpe extends RS{constructor(e,t,r){super(void 0,e[0].width,e[0].height,t,r,iu),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class ipe extends Sr{constructor(e,t,r,i,a,o,s,l,c){super(e,t,r,i,a,o,s,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class As{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const r=this.getUtoTmapping(e);return this.getPoint(r,t)}getPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return t}getSpacedPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let r,i=this.getPoint(0),a=0;t.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),a+=r.distanceTo(i),t.push(a),i=r;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const r=this.getLengths();let i=0;const a=r.length;let o;t?o=t:o=e*r[a-1];let s=0,l=a-1,c;for(;s<=l;)if(i=Math.floor(s+(l-s)/2),c=r[i]-o,c<0)s=i+1;else if(c>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(a-1);const f=r[i],m=r[i+1]-f,v=(o-f)/m;return(i+v)/(a-1)}getTangent(e,t){let i=e-1e-4,a=e+1e-4;i<0&&(i=0),a>1&&(a=1);const o=this.getPoint(i),s=this.getPoint(a),l=t||(o.isVector2?new Ie:new Q);return l.copy(s).sub(o).normalize(),l}getTangentAt(e,t){const r=this.getUtoTmapping(e);return this.getTangent(r,t)}computeFrenetFrames(e,t){const r=new Q,i=[],a=[],o=[],s=new Q,l=new jt;for(let v=0;v<=e;v++){const x=v/e;i[v]=this.getTangentAt(x,new Q)}a[0]=new Q,o[0]=new Q;let c=Number.MAX_VALUE;const f=Math.abs(i[0].x),d=Math.abs(i[0].y),m=Math.abs(i[0].z);f<=c&&(c=f,r.set(1,0,0)),d<=c&&(c=d,r.set(0,1,0)),m<=c&&r.set(0,0,1),s.crossVectors(i[0],r).normalize(),a[0].crossVectors(i[0],s),o[0].crossVectors(i[0],a[0]);for(let v=1;v<=e;v++){if(a[v]=a[v-1].clone(),o[v]=o[v-1].clone(),s.crossVectors(i[v-1],i[v]),s.length()>Number.EPSILON){s.normalize();const x=Math.acos(br(i[v-1].dot(i[v]),-1,1));a[v].applyMatrix4(l.makeRotationAxis(s,x))}o[v].crossVectors(i[v],a[v])}if(t===!0){let v=Math.acos(br(a[0].dot(a[e]),-1,1));v/=e,i[0].dot(s.crossVectors(a[0],a[e]))>0&&(v=-v);for(let x=1;x<=e;x++)a[x].applyMatrix4(l.makeRotationAxis(i[x],v*x)),o[x].crossVectors(i[x],a[x])}return{tangents:i,normals:a,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class IS extends As{constructor(e=0,t=0,r=1,i=1,a=0,o=Math.PI*2,s=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=i,this.aStartAngle=a,this.aEndAngle=o,this.aClockwise=s,this.aRotation=l}getPoint(e,t){const r=t||new Ie,i=Math.PI*2;let a=this.aEndAngle-this.aStartAngle;const o=Math.abs(a)<Number.EPSILON;for(;a<0;)a+=i;for(;a>i;)a-=i;a<Number.EPSILON&&(o?a=0:a=i),this.aClockwise===!0&&!o&&(a===i?a=-i:a=a-i);const s=this.aStartAngle+e*a;let l=this.aX+this.xRadius*Math.cos(s),c=this.aY+this.yRadius*Math.sin(s);if(this.aRotation!==0){const f=Math.cos(this.aRotation),d=Math.sin(this.aRotation),m=l-this.aX,v=c-this.aY;l=m*f-v*d+this.aX,c=m*d+v*f+this.aY}return r.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class A8 extends IS{constructor(e,t,r,i,a,o){super(e,t,r,r,i,a,o),this.isArcCurve=!0,this.type="ArcCurve"}}function iR(){let n=0,e=0,t=0,r=0;function i(a,o,s,l){n=a,e=s,t=-3*a+3*o-2*s-l,r=2*a-2*o+s+l}return{initCatmullRom:function(a,o,s,l,c){i(o,s,c*(s-a),c*(l-o))},initNonuniformCatmullRom:function(a,o,s,l,c,f,d){let m=(o-a)/c-(s-a)/(c+f)+(s-o)/f,v=(s-o)/f-(l-o)/(f+d)+(l-s)/d;m*=f,v*=f,i(o,s,m,v)},calc:function(a){const o=a*a,s=o*a;return n+e*a+t*o+r*s}}}const Zx=new Q,uE=new iR,cE=new iR,fE=new iR;class T8 extends As{constructor(e=[],t=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=r,this.tension=i}getPoint(e,t=new Q){const r=t,i=this.points,a=i.length,o=(a-(this.closed?0:1))*e;let s=Math.floor(o),l=o-s;this.closed?s+=s>0?0:(Math.floor(Math.abs(s)/a)+1)*a:l===0&&s===a-1&&(s=a-2,l=1);let c,f;this.closed||s>0?c=i[(s-1)%a]:(Zx.subVectors(i[0],i[1]).add(i[0]),c=Zx);const d=i[s%a],m=i[(s+1)%a];if(this.closed||s+2<a?f=i[(s+2)%a]:(Zx.subVectors(i[a-1],i[a-2]).add(i[a-1]),f=Zx),this.curveType==="centripetal"||this.curveType==="chordal"){const v=this.curveType==="chordal"?.5:.25;let x=Math.pow(c.distanceToSquared(d),v),S=Math.pow(d.distanceToSquared(m),v),_=Math.pow(m.distanceToSquared(f),v);S<1e-4&&(S=1),x<1e-4&&(x=S),_<1e-4&&(_=S),uE.initNonuniformCatmullRom(c.x,d.x,m.x,f.x,x,S,_),cE.initNonuniformCatmullRom(c.y,d.y,m.y,f.y,x,S,_),fE.initNonuniformCatmullRom(c.z,d.z,m.z,f.z,x,S,_)}else this.curveType==="catmullrom"&&(uE.initCatmullRom(c.x,d.x,m.x,f.x,this.tension),cE.initCatmullRom(c.y,d.y,m.y,f.y,this.tension),fE.initCatmullRom(c.z,d.z,m.z,f.z,this.tension));return r.set(uE.calc(l),cE.calc(l),fE.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new Q().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function XB(n,e,t,r,i){const a=(r-e)*.5,o=(i-t)*.5,s=n*n,l=n*s;return(2*t-2*r+a+o)*l+(-3*t+3*r-2*a-o)*s+a*n+t}function ape(n,e){const t=1-n;return t*t*e}function ope(n,e){return 2*(1-n)*n*e}function spe(n,e){return n*n*e}function yv(n,e,t,r){return ape(n,e)+ope(n,t)+spe(n,r)}function lpe(n,e){const t=1-n;return t*t*t*e}function upe(n,e){const t=1-n;return 3*t*t*n*e}function cpe(n,e){return 3*(1-n)*n*n*e}function fpe(n,e){return n*n*n*e}function xv(n,e,t,r,i){return lpe(n,e)+upe(n,t)+cpe(n,r)+fpe(n,i)}class aR extends As{constructor(e=new Ie,t=new Ie,r=new Ie,i=new Ie){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new Ie){const r=t,i=this.v0,a=this.v1,o=this.v2,s=this.v3;return r.set(xv(e,i.x,a.x,o.x,s.x),xv(e,i.y,a.y,o.y,s.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class E8 extends As{constructor(e=new Q,t=new Q,r=new Q,i=new Q){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new Q){const r=t,i=this.v0,a=this.v1,o=this.v2,s=this.v3;return r.set(xv(e,i.x,a.x,o.x,s.x),xv(e,i.y,a.y,o.y,s.y),xv(e,i.z,a.z,o.z,s.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class oR extends As{constructor(e=new Ie,t=new Ie){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Ie){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Ie){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class P8 extends As{constructor(e=new Q,t=new Q){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new Q){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Q){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class sR extends As{constructor(e=new Ie,t=new Ie,r=new Ie){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new Ie){const r=t,i=this.v0,a=this.v1,o=this.v2;return r.set(yv(e,i.x,a.x,o.x),yv(e,i.y,a.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class lR extends As{constructor(e=new Q,t=new Q,r=new Q){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new Q){const r=t,i=this.v0,a=this.v1,o=this.v2;return r.set(yv(e,i.x,a.x,o.x),yv(e,i.y,a.y,o.y),yv(e,i.z,a.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class uR extends As{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new Ie){const r=t,i=this.points,a=(i.length-1)*e,o=Math.floor(a),s=a-o,l=i[o===0?o:o-1],c=i[o],f=i[o>i.length-2?i.length-1:o+1],d=i[o>i.length-3?i.length-1:o+2];return r.set(XB(s,l.x,c.x,f.x,d.x),XB(s,l.y,c.y,f.y,d.y)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new Ie().fromArray(i))}return this}}var Ob=Object.freeze({__proto__:null,ArcCurve:A8,CatmullRomCurve3:T8,CubicBezierCurve:aR,CubicBezierCurve3:E8,EllipseCurve:IS,LineCurve:oR,LineCurve3:P8,QuadraticBezierCurve:sR,QuadraticBezierCurve3:lR,SplineCurve:uR});class C8 extends As{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new Ob[r](t,e))}return this}getPoint(e,t){const r=e*this.getLength(),i=this.getCurveLengths();let a=0;for(;a<i.length;){if(i[a]>=r){const o=i[a]-r,s=this.curves[a],l=s.getLength(),c=l===0?0:1-o/l;return s.getPointAt(c,t)}a++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let r=0,i=this.curves.length;r<i;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let r;for(let i=0,a=this.curves;i<a.length;i++){const o=a[i],s=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(s);for(let c=0;c<l.length;c++){const f=l[c];r&&r.equals(f)||(t.push(f),r=f)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,r=this.curves.length;t<r;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(new Ob[i.type]().fromJSON(i))}return this}}class wy extends C8{constructor(e){super(),this.type="Path",this.currentPoint=new Ie,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const r=new oR(this.currentPoint.clone(),new Ie(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,r,i){const a=new sR(this.currentPoint.clone(),new Ie(e,t),new Ie(r,i));return this.curves.push(a),this.currentPoint.set(r,i),this}bezierCurveTo(e,t,r,i,a,o){const s=new aR(this.currentPoint.clone(),new Ie(e,t),new Ie(r,i),new Ie(a,o));return this.curves.push(s),this.currentPoint.set(a,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),r=new uR(t);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,r,i,a,o){const s=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+s,t+l,r,i,a,o),this}absarc(e,t,r,i,a,o){return this.absellipse(e,t,r,r,i,a,o),this}ellipse(e,t,r,i,a,o,s,l){const c=this.currentPoint.x,f=this.currentPoint.y;return this.absellipse(e+c,t+f,r,i,a,o,s,l),this}absellipse(e,t,r,i,a,o,s,l){const c=new IS(e,t,r,i,a,o,s,l);if(this.curves.length>0){const d=c.getPoint(0);d.equals(this.currentPoint)||this.lineTo(d.x,d.y)}this.curves.push(c);const f=c.getPoint(1);return this.currentPoint.copy(f),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class t0 extends cn{constructor(e=[new Ie(0,-.5),new Ie(.5,0),new Ie(0,.5)],t=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:i},t=Math.floor(t),i=br(i,0,Math.PI*2);const a=[],o=[],s=[],l=[],c=[],f=1/t,d=new Q,m=new Ie,v=new Q,x=new Q,S=new Q;let _=0,b=0;for(let M=0;M<=e.length-1;M++)switch(M){case 0:_=e[M+1].x-e[M].x,b=e[M+1].y-e[M].y,v.x=b*1,v.y=-_,v.z=b*0,S.copy(v),v.normalize(),l.push(v.x,v.y,v.z);break;case e.length-1:l.push(S.x,S.y,S.z);break;default:_=e[M+1].x-e[M].x,b=e[M+1].y-e[M].y,v.x=b*1,v.y=-_,v.z=b*0,x.copy(v),v.x+=S.x,v.y+=S.y,v.z+=S.z,v.normalize(),l.push(v.x,v.y,v.z),S.copy(x)}for(let M=0;M<=t;M++){const T=r+M*f*i,E=Math.sin(T),P=Math.cos(T);for(let R=0;R<=e.length-1;R++){d.x=e[R].x*E,d.y=e[R].y,d.z=e[R].x*P,o.push(d.x,d.y,d.z),m.x=M/t,m.y=R/(e.length-1),s.push(m.x,m.y);const I=l[3*R+0]*E,U=l[3*R+1],N=l[3*R+0]*P;c.push(I,U,N)}}for(let M=0;M<t;M++)for(let T=0;T<e.length-1;T++){const E=T+M*e.length,P=E,R=E+e.length,I=E+e.length+1,U=E+1;a.push(P,R,U),a.push(I,U,R)}this.setIndex(a),this.setAttribute("position",new At(o,3)),this.setAttribute("uv",new At(s,2)),this.setAttribute("normal",new At(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new t0(e.points,e.segments,e.phiStart,e.phiLength)}}class DS extends t0{constructor(e=1,t=1,r=4,i=8){const a=new wy;a.absarc(0,-t/2,e,Math.PI*1.5,0),a.absarc(0,t/2,e,0,Math.PI*.5),super(a.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,length:t,capSegments:r,radialSegments:i}}static fromJSON(e){return new DS(e.radius,e.length,e.capSegments,e.radialSegments)}}class LS extends cn{constructor(e=1,t=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:i},t=Math.max(3,t);const a=[],o=[],s=[],l=[],c=new Q,f=new Ie;o.push(0,0,0),s.push(0,0,1),l.push(.5,.5);for(let d=0,m=3;d<=t;d++,m+=3){const v=r+d/t*i;c.x=e*Math.cos(v),c.y=e*Math.sin(v),o.push(c.x,c.y,c.z),s.push(0,0,1),f.x=(o[m]/e+1)/2,f.y=(o[m+1]/e+1)/2,l.push(f.x,f.y)}for(let d=1;d<=t;d++)a.push(d,d+1,0);this.setIndex(a),this.setAttribute("position",new At(o,3)),this.setAttribute("normal",new At(s,3)),this.setAttribute("uv",new At(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new LS(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class _m extends cn{constructor(e=1,t=1,r=1,i=32,a=1,o=!1,s=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:i,heightSegments:a,openEnded:o,thetaStart:s,thetaLength:l};const c=this;i=Math.floor(i),a=Math.floor(a);const f=[],d=[],m=[],v=[];let x=0;const S=[],_=r/2;let b=0;M(),o===!1&&(e>0&&T(!0),t>0&&T(!1)),this.setIndex(f),this.setAttribute("position",new At(d,3)),this.setAttribute("normal",new At(m,3)),this.setAttribute("uv",new At(v,2));function M(){const E=new Q,P=new Q;let R=0;const I=(t-e)/r;for(let U=0;U<=a;U++){const N=[],k=U/a,z=k*(t-e)+e;for(let G=0;G<=i;G++){const K=G/i,H=K*l+s,te=Math.sin(H),J=Math.cos(H);P.x=z*te,P.y=-k*r+_,P.z=z*J,d.push(P.x,P.y,P.z),E.set(te,I,J).normalize(),m.push(E.x,E.y,E.z),v.push(K,1-k),N.push(x++)}S.push(N)}for(let U=0;U<i;U++)for(let N=0;N<a;N++){const k=S[N][U],z=S[N+1][U],G=S[N+1][U+1],K=S[N][U+1];f.push(k,z,K),f.push(z,G,K),R+=6}c.addGroup(b,R,0),b+=R}function T(E){const P=x,R=new Ie,I=new Q;let U=0;const N=E===!0?e:t,k=E===!0?1:-1;for(let G=1;G<=i;G++)d.push(0,_*k,0),m.push(0,k,0),v.push(.5,.5),x++;const z=x;for(let G=0;G<=i;G++){const H=G/i*l+s,te=Math.cos(H),J=Math.sin(H);I.x=N*J,I.y=_*k,I.z=N*te,d.push(I.x,I.y,I.z),m.push(0,k,0),R.x=te*.5+.5,R.y=J*.5*k+.5,v.push(R.x,R.y),x++}for(let G=0;G<i;G++){const K=P+G,H=z+G;E===!0?f.push(H,H+1,K):f.push(H+1,H,K),U+=3}c.addGroup(b,U,E===!0?1:2),b+=U}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new _m(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class NS extends _m{constructor(e=1,t=1,r=32,i=1,a=!1,o=0,s=Math.PI*2){super(0,e,t,r,i,a,o,s),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:i,openEnded:a,thetaStart:o,thetaLength:s}}static fromJSON(e){return new NS(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Nc extends cn{constructor(e=[],t=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:i};const a=[],o=[];s(i),c(r),f(),this.setAttribute("position",new At(a,3)),this.setAttribute("normal",new At(a.slice(),3)),this.setAttribute("uv",new At(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function s(M){const T=new Q,E=new Q,P=new Q;for(let R=0;R<t.length;R+=3)v(t[R+0],T),v(t[R+1],E),v(t[R+2],P),l(T,E,P,M)}function l(M,T,E,P){const R=P+1,I=[];for(let U=0;U<=R;U++){I[U]=[];const N=M.clone().lerp(E,U/R),k=T.clone().lerp(E,U/R),z=R-U;for(let G=0;G<=z;G++)G===0&&U===R?I[U][G]=N:I[U][G]=N.clone().lerp(k,G/z)}for(let U=0;U<R;U++)for(let N=0;N<2*(R-U)-1;N++){const k=Math.floor(N/2);N%2===0?(m(I[U][k+1]),m(I[U+1][k]),m(I[U][k])):(m(I[U][k+1]),m(I[U+1][k+1]),m(I[U+1][k]))}}function c(M){const T=new Q;for(let E=0;E<a.length;E+=3)T.x=a[E+0],T.y=a[E+1],T.z=a[E+2],T.normalize().multiplyScalar(M),a[E+0]=T.x,a[E+1]=T.y,a[E+2]=T.z}function f(){const M=new Q;for(let T=0;T<a.length;T+=3){M.x=a[T+0],M.y=a[T+1],M.z=a[T+2];const E=_(M)/2/Math.PI+.5,P=b(M)/Math.PI+.5;o.push(E,1-P)}x(),d()}function d(){for(let M=0;M<o.length;M+=6){const T=o[M+0],E=o[M+2],P=o[M+4],R=Math.max(T,E,P),I=Math.min(T,E,P);R>.9&&I<.1&&(T<.2&&(o[M+0]+=1),E<.2&&(o[M+2]+=1),P<.2&&(o[M+4]+=1))}}function m(M){a.push(M.x,M.y,M.z)}function v(M,T){const E=M*3;T.x=e[E+0],T.y=e[E+1],T.z=e[E+2]}function x(){const M=new Q,T=new Q,E=new Q,P=new Q,R=new Ie,I=new Ie,U=new Ie;for(let N=0,k=0;N<a.length;N+=9,k+=6){M.set(a[N+0],a[N+1],a[N+2]),T.set(a[N+3],a[N+4],a[N+5]),E.set(a[N+6],a[N+7],a[N+8]),R.set(o[k+0],o[k+1]),I.set(o[k+2],o[k+3]),U.set(o[k+4],o[k+5]),P.copy(M).add(T).add(E).divideScalar(3);const z=_(P);S(R,k+0,M,z),S(I,k+2,T,z),S(U,k+4,E,z)}}function S(M,T,E,P){P<0&&M.x===1&&(o[T]=M.x-1),E.x===0&&E.z===0&&(o[T]=P/2/Math.PI+.5)}function _(M){return Math.atan2(M.z,-M.x)}function b(M){return Math.atan2(-M.y,Math.sqrt(M.x*M.x+M.z*M.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Nc(e.vertices,e.indices,e.radius,e.details)}}class kS extends Nc{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=1/r,a=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(a,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new kS(e.radius,e.detail)}}const Jx=new Q,Qx=new Q,hE=new Q,e_=new Ca;class O8 extends cn{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const i=Math.pow(10,4),a=Math.cos(fh*t),o=e.getIndex(),s=e.getAttribute("position"),l=o?o.count:s.count,c=[0,0,0],f=["a","b","c"],d=new Array(3),m={},v=[];for(let x=0;x<l;x+=3){o?(c[0]=o.getX(x),c[1]=o.getX(x+1),c[2]=o.getX(x+2)):(c[0]=x,c[1]=x+1,c[2]=x+2);const{a:S,b:_,c:b}=e_;if(S.fromBufferAttribute(s,c[0]),_.fromBufferAttribute(s,c[1]),b.fromBufferAttribute(s,c[2]),e_.getNormal(hE),d[0]=`${Math.round(S.x*i)},${Math.round(S.y*i)},${Math.round(S.z*i)}`,d[1]=`${Math.round(_.x*i)},${Math.round(_.y*i)},${Math.round(_.z*i)}`,d[2]=`${Math.round(b.x*i)},${Math.round(b.y*i)},${Math.round(b.z*i)}`,!(d[0]===d[1]||d[1]===d[2]||d[2]===d[0]))for(let M=0;M<3;M++){const T=(M+1)%3,E=d[M],P=d[T],R=e_[f[M]],I=e_[f[T]],U=`${E}_${P}`,N=`${P}_${E}`;N in m&&m[N]?(hE.dot(m[N].normal)<=a&&(v.push(R.x,R.y,R.z),v.push(I.x,I.y,I.z)),m[N]=null):U in m||(m[U]={index0:c[M],index1:c[T],normal:hE.clone()})}}for(const x in m)if(m[x]){const{index0:S,index1:_}=m[x];Jx.fromBufferAttribute(s,S),Qx.fromBufferAttribute(s,_),v.push(Jx.x,Jx.y,Jx.z),v.push(Qx.x,Qx.y,Qx.z)}this.setAttribute("position",new At(v,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class ph extends wy{constructor(e){super(e),this.uuid=ro(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let r=0,i=this.holes.length;r<i;r++)t[r]=this.holes[r].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,r=this.holes.length;t<r;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(new wy().fromJSON(i))}return this}}const hpe={triangulate:function(n,e,t=2){const r=e&&e.length,i=r?e[0]*t:n.length;let a=R8(n,0,i,t,!0);const o=[];if(!a||a.next===a.prev)return o;let s,l,c,f,d,m,v;if(r&&(a=vpe(n,e,a,t)),n.length>80*t){s=c=n[0],l=f=n[1];for(let x=t;x<i;x+=t)d=n[x],m=n[x+1],d<s&&(s=d),m<l&&(l=m),d>c&&(c=d),m>f&&(f=m);v=Math.max(c-s,f-l),v=v!==0?32767/v:0}return My(a,o,t,s,l,v,0),o}};function R8(n,e,t,r,i){let a,o;if(i===Ppe(n,e,t,r)>0)for(a=e;a<t;a+=r)o=YB(a,n[a],n[a+1],o);else for(a=t-r;a>=e;a-=r)o=YB(a,n[a],n[a+1],o);return o&&US(o,o.next)&&(Ty(o),o=o.next),o}function wh(n,e){if(!n)return n;e||(e=n);let t=n,r;do if(r=!1,!t.steiner&&(US(t,t.next)||pr(t.prev,t,t.next)===0)){if(Ty(t),t=e=t.prev,t===t.next)break;r=!0}else t=t.next;while(r||t!==e);return e}function My(n,e,t,r,i,a,o){if(!n)return;!o&&a&&Spe(n,r,i,a);let s=n,l,c;for(;n.prev!==n.next;){if(l=n.prev,c=n.next,a?ppe(n,r,i,a):dpe(n)){e.push(l.i/t|0),e.push(n.i/t|0),e.push(c.i/t|0),Ty(n),n=c.next,s=c.next;continue}if(n=c,n===s){o?o===1?(n=mpe(wh(n),e,t),My(n,e,t,r,i,a,2)):o===2&&gpe(n,e,t,r,i,a):My(wh(n),e,t,r,i,a,1);break}}}function dpe(n){const e=n.prev,t=n,r=n.next;if(pr(e,t,r)>=0)return!1;const i=e.x,a=t.x,o=r.x,s=e.y,l=t.y,c=r.y,f=i<a?i<o?i:o:a<o?a:o,d=s<l?s<c?s:c:l<c?l:c,m=i>a?i>o?i:o:a>o?a:o,v=s>l?s>c?s:c:l>c?l:c;let x=r.next;for(;x!==e;){if(x.x>=f&&x.x<=m&&x.y>=d&&x.y<=v&&yp(i,s,a,l,o,c,x.x,x.y)&&pr(x.prev,x,x.next)>=0)return!1;x=x.next}return!0}function ppe(n,e,t,r){const i=n.prev,a=n,o=n.next;if(pr(i,a,o)>=0)return!1;const s=i.x,l=a.x,c=o.x,f=i.y,d=a.y,m=o.y,v=s<l?s<c?s:c:l<c?l:c,x=f<d?f<m?f:m:d<m?d:m,S=s>l?s>c?s:c:l>c?l:c,_=f>d?f>m?f:m:d>m?d:m,b=QC(v,x,e,t,r),M=QC(S,_,e,t,r);let T=n.prevZ,E=n.nextZ;for(;T&&T.z>=b&&E&&E.z<=M;){if(T.x>=v&&T.x<=S&&T.y>=x&&T.y<=_&&T!==i&&T!==o&&yp(s,f,l,d,c,m,T.x,T.y)&&pr(T.prev,T,T.next)>=0||(T=T.prevZ,E.x>=v&&E.x<=S&&E.y>=x&&E.y<=_&&E!==i&&E!==o&&yp(s,f,l,d,c,m,E.x,E.y)&&pr(E.prev,E,E.next)>=0))return!1;E=E.nextZ}for(;T&&T.z>=b;){if(T.x>=v&&T.x<=S&&T.y>=x&&T.y<=_&&T!==i&&T!==o&&yp(s,f,l,d,c,m,T.x,T.y)&&pr(T.prev,T,T.next)>=0)return!1;T=T.prevZ}for(;E&&E.z<=M;){if(E.x>=v&&E.x<=S&&E.y>=x&&E.y<=_&&E!==i&&E!==o&&yp(s,f,l,d,c,m,E.x,E.y)&&pr(E.prev,E,E.next)>=0)return!1;E=E.nextZ}return!0}function mpe(n,e,t){let r=n;do{const i=r.prev,a=r.next.next;!US(i,a)&&I8(i,r,r.next,a)&&Ay(i,a)&&Ay(a,i)&&(e.push(i.i/t|0),e.push(r.i/t|0),e.push(a.i/t|0),Ty(r),Ty(r.next),r=n=a),r=r.next}while(r!==n);return wh(r)}function gpe(n,e,t,r,i,a){let o=n;do{let s=o.next.next;for(;s!==o.prev;){if(o.i!==s.i&&Ape(o,s)){let l=D8(o,s);o=wh(o,o.next),l=wh(l,l.next),My(o,e,t,r,i,a,0),My(l,e,t,r,i,a,0);return}s=s.next}o=o.next}while(o!==n)}function vpe(n,e,t,r){const i=[];let a,o,s,l,c;for(a=0,o=e.length;a<o;a++)s=e[a]*r,l=a<o-1?e[a+1]*r:n.length,c=R8(n,s,l,r,!1),c===c.next&&(c.steiner=!0),i.push(Mpe(c));for(i.sort(ype),a=0;a<i.length;a++)t=xpe(i[a],t);return t}function ype(n,e){return n.x-e.x}function xpe(n,e){const t=_pe(n,e);if(!t)return e;const r=D8(t,n);return wh(r,r.next),wh(t,t.next)}function _pe(n,e){let t=e,r=-1/0,i;const a=n.x,o=n.y;do{if(o<=t.y&&o>=t.next.y&&t.next.y!==t.y){const m=t.x+(o-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(m<=a&&m>r&&(r=m,i=t.x<t.next.x?t:t.next,m===a))return i}t=t.next}while(t!==e);if(!i)return null;const s=i,l=i.x,c=i.y;let f=1/0,d;t=i;do a>=t.x&&t.x>=l&&a!==t.x&&yp(o<c?a:r,o,l,c,o<c?r:a,o,t.x,t.y)&&(d=Math.abs(o-t.y)/(a-t.x),Ay(t,n)&&(d<f||d===f&&(t.x>i.x||t.x===i.x&&bpe(i,t)))&&(i=t,f=d)),t=t.next;while(t!==s);return i}function bpe(n,e){return pr(n.prev,n,e.prev)<0&&pr(e.next,n,n.next)<0}function Spe(n,e,t,r){let i=n;do i.z===0&&(i.z=QC(i.x,i.y,e,t,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==n);i.prevZ.nextZ=null,i.prevZ=null,wpe(i)}function wpe(n){let e,t,r,i,a,o,s,l,c=1;do{for(t=n,n=null,a=null,o=0;t;){for(o++,r=t,s=0,e=0;e<c&&(s++,r=r.nextZ,!!r);e++);for(l=c;s>0||l>0&&r;)s!==0&&(l===0||!r||t.z<=r.z)?(i=t,t=t.nextZ,s--):(i=r,r=r.nextZ,l--),a?a.nextZ=i:n=i,i.prevZ=a,a=i;t=r}a.nextZ=null,c*=2}while(o>1);return n}function QC(n,e,t,r,i){return n=(n-t)*i|0,e=(e-r)*i|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function Mpe(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function yp(n,e,t,r,i,a,o,s){return(i-o)*(e-s)>=(n-o)*(a-s)&&(n-o)*(r-s)>=(t-o)*(e-s)&&(t-o)*(a-s)>=(i-o)*(r-s)}function Ape(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!Tpe(n,e)&&(Ay(n,e)&&Ay(e,n)&&Epe(n,e)&&(pr(n.prev,n,e.prev)||pr(n,e.prev,e))||US(n,e)&&pr(n.prev,n,n.next)>0&&pr(e.prev,e,e.next)>0)}function pr(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function US(n,e){return n.x===e.x&&n.y===e.y}function I8(n,e,t,r){const i=n_(pr(n,e,t)),a=n_(pr(n,e,r)),o=n_(pr(t,r,n)),s=n_(pr(t,r,e));return!!(i!==a&&o!==s||i===0&&t_(n,t,e)||a===0&&t_(n,r,e)||o===0&&t_(t,n,r)||s===0&&t_(t,e,r))}function t_(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function n_(n){return n>0?1:n<0?-1:0}function Tpe(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&I8(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function Ay(n,e){return pr(n.prev,n,n.next)<0?pr(n,e,n.next)>=0&&pr(n,n.prev,e)>=0:pr(n,e,n.prev)<0||pr(n,n.next,e)<0}function Epe(n,e){let t=n,r=!1;const i=(n.x+e.x)/2,a=(n.y+e.y)/2;do t.y>a!=t.next.y>a&&t.next.y!==t.y&&i<(t.next.x-t.x)*(a-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next;while(t!==n);return r}function D8(n,e){const t=new e2(n.i,n.x,n.y),r=new e2(e.i,e.x,e.y),i=n.next,a=e.prev;return n.next=e,e.prev=n,t.next=i,i.prev=t,r.next=t,t.prev=r,a.next=r,r.prev=a,r}function YB(n,e,t,r){const i=new e2(n,e,t);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Ty(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function e2(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Ppe(n,e,t,r){let i=0;for(let a=e,o=t-r;a<t;a+=r)i+=(n[o]-n[a])*(n[a+1]+n[o+1]),o=a;return i}class Ys{static area(e){const t=e.length;let r=0;for(let i=t-1,a=0;a<t;i=a++)r+=e[i].x*e[a].y-e[a].x*e[i].y;return r*.5}static isClockWise(e){return Ys.area(e)<0}static triangulateShape(e,t){const r=[],i=[],a=[];KB(e),ZB(r,e);let o=e.length;t.forEach(KB);for(let l=0;l<t.length;l++)i.push(o),o+=t[l].length,ZB(r,t[l]);const s=hpe.triangulate(r,i);for(let l=0;l<s.length;l+=3)a.push(s.slice(l,l+3));return a}}function KB(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function ZB(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class FS extends cn{constructor(e=new ph([new Ie(.5,.5),new Ie(-.5,.5),new Ie(-.5,-.5),new Ie(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const r=this,i=[],a=[];for(let s=0,l=e.length;s<l;s++){const c=e[s];o(c)}this.setAttribute("position",new At(i,3)),this.setAttribute("uv",new At(a,2)),this.computeVertexNormals();function o(s){const l=[],c=t.curveSegments!==void 0?t.curveSegments:12,f=t.steps!==void 0?t.steps:1,d=t.depth!==void 0?t.depth:1;let m=t.bevelEnabled!==void 0?t.bevelEnabled:!0,v=t.bevelThickness!==void 0?t.bevelThickness:.2,x=t.bevelSize!==void 0?t.bevelSize:v-.1,S=t.bevelOffset!==void 0?t.bevelOffset:0,_=t.bevelSegments!==void 0?t.bevelSegments:3;const b=t.extrudePath,M=t.UVGenerator!==void 0?t.UVGenerator:Cpe;let T,E=!1,P,R,I,U;b&&(T=b.getSpacedPoints(f),E=!0,m=!1,P=b.computeFrenetFrames(f,!1),R=new Q,I=new Q,U=new Q),m||(_=0,v=0,x=0,S=0);const N=s.extractPoints(c);let k=N.shape;const z=N.holes;if(!Ys.isClockWise(k)){k=k.reverse();for(let q=0,Re=z.length;q<Re;q++){const _e=z[q];Ys.isClockWise(_e)&&(z[q]=_e.reverse())}}const K=Ys.triangulateShape(k,z),H=k;for(let q=0,Re=z.length;q<Re;q++){const _e=z[q];k=k.concat(_e)}function te(q,Re,_e){return Re||console.error("THREE.ExtrudeGeometry: vec does not exist"),q.clone().addScaledVector(Re,_e)}const J=k.length,ie=K.length;function B(q,Re,_e){let Fe,Ae,it;const Qe=q.x-Re.x,Y=q.y-Re.y,W=_e.x-q.x,ge=_e.y-q.y,ze=Qe*Qe+Y*Y,je=Qe*ge-Y*W;if(Math.abs(je)>Number.EPSILON){const ke=Math.sqrt(ze),xt=Math.sqrt(W*W+ge*ge),tt=Re.x-Y/ke,lt=Re.y+Qe/ke,Tt=_e.x-ge/xt,Vt=_e.y+W/xt,Ve=((Tt-tt)*ge-(Vt-lt)*W)/(Qe*ge-Y*W);Fe=tt+Qe*Ve-q.x,Ae=lt+Y*Ve-q.y;const en=Fe*Fe+Ae*Ae;if(en<=2)return new Ie(Fe,Ae);it=Math.sqrt(en/2)}else{let ke=!1;Qe>Number.EPSILON?W>Number.EPSILON&&(ke=!0):Qe<-Number.EPSILON?W<-Number.EPSILON&&(ke=!0):Math.sign(Y)===Math.sign(ge)&&(ke=!0),ke?(Fe=-Y,Ae=Qe,it=Math.sqrt(ze)):(Fe=Qe,Ae=Y,it=Math.sqrt(ze/2))}return new Ie(Fe/it,Ae/it)}const X=[];for(let q=0,Re=H.length,_e=Re-1,Fe=q+1;q<Re;q++,_e++,Fe++)_e===Re&&(_e=0),Fe===Re&&(Fe=0),X[q]=B(H[q],H[_e],H[Fe]);const $=[];let V,ee=X.concat();for(let q=0,Re=z.length;q<Re;q++){const _e=z[q];V=[];for(let Fe=0,Ae=_e.length,it=Ae-1,Qe=Fe+1;Fe<Ae;Fe++,it++,Qe++)it===Ae&&(it=0),Qe===Ae&&(Qe=0),V[Fe]=B(_e[Fe],_e[it],_e[Qe]);$.push(V),ee=ee.concat(V)}for(let q=0;q<_;q++){const Re=q/_,_e=v*Math.cos(Re*Math.PI/2),Fe=x*Math.sin(Re*Math.PI/2)+S;for(let Ae=0,it=H.length;Ae<it;Ae++){const Qe=te(H[Ae],X[Ae],Fe);De(Qe.x,Qe.y,-_e)}for(let Ae=0,it=z.length;Ae<it;Ae++){const Qe=z[Ae];V=$[Ae];for(let Y=0,W=Qe.length;Y<W;Y++){const ge=te(Qe[Y],V[Y],Fe);De(ge.x,ge.y,-_e)}}}const se=x+S;for(let q=0;q<J;q++){const Re=m?te(k[q],ee[q],se):k[q];E?(I.copy(P.normals[0]).multiplyScalar(Re.x),R.copy(P.binormals[0]).multiplyScalar(Re.y),U.copy(T[0]).add(I).add(R),De(U.x,U.y,U.z)):De(Re.x,Re.y,0)}for(let q=1;q<=f;q++)for(let Re=0;Re<J;Re++){const _e=m?te(k[Re],ee[Re],se):k[Re];E?(I.copy(P.normals[q]).multiplyScalar(_e.x),R.copy(P.binormals[q]).multiplyScalar(_e.y),U.copy(T[q]).add(I).add(R),De(U.x,U.y,U.z)):De(_e.x,_e.y,d/f*q)}for(let q=_-1;q>=0;q--){const Re=q/_,_e=v*Math.cos(Re*Math.PI/2),Fe=x*Math.sin(Re*Math.PI/2)+S;for(let Ae=0,it=H.length;Ae<it;Ae++){const Qe=te(H[Ae],X[Ae],Fe);De(Qe.x,Qe.y,d+_e)}for(let Ae=0,it=z.length;Ae<it;Ae++){const Qe=z[Ae];V=$[Ae];for(let Y=0,W=Qe.length;Y<W;Y++){const ge=te(Qe[Y],V[Y],Fe);E?De(ge.x,ge.y+T[f-1].y,T[f-1].x+_e):De(ge.x,ge.y,d+_e)}}}me(),Ce();function me(){const q=i.length/3;if(m){let Re=0,_e=J*Re;for(let Fe=0;Fe<ie;Fe++){const Ae=K[Fe];Ke(Ae[2]+_e,Ae[1]+_e,Ae[0]+_e)}Re=f+_*2,_e=J*Re;for(let Fe=0;Fe<ie;Fe++){const Ae=K[Fe];Ke(Ae[0]+_e,Ae[1]+_e,Ae[2]+_e)}}else{for(let Re=0;Re<ie;Re++){const _e=K[Re];Ke(_e[2],_e[1],_e[0])}for(let Re=0;Re<ie;Re++){const _e=K[Re];Ke(_e[0]+J*f,_e[1]+J*f,_e[2]+J*f)}}r.addGroup(q,i.length/3-q,0)}function Ce(){const q=i.length/3;let Re=0;Ne(H,Re),Re+=H.length;for(let _e=0,Fe=z.length;_e<Fe;_e++){const Ae=z[_e];Ne(Ae,Re),Re+=Ae.length}r.addGroup(q,i.length/3-q,1)}function Ne(q,Re){let _e=q.length;for(;--_e>=0;){const Fe=_e;let Ae=_e-1;Ae<0&&(Ae=q.length-1);for(let it=0,Qe=f+_*2;it<Qe;it++){const Y=J*it,W=J*(it+1),ge=Re+Fe+Y,ze=Re+Ae+Y,je=Re+Ae+W,ke=Re+Fe+W;Te(ge,ze,je,ke)}}}function De(q,Re,_e){l.push(q),l.push(Re),l.push(_e)}function Ke(q,Re,_e){Le(q),Le(Re),Le(_e);const Fe=i.length/3,Ae=M.generateTopUV(r,i,Fe-3,Fe-2,Fe-1);Ge(Ae[0]),Ge(Ae[1]),Ge(Ae[2])}function Te(q,Re,_e,Fe){Le(q),Le(Re),Le(Fe),Le(Re),Le(_e),Le(Fe);const Ae=i.length/3,it=M.generateSideWallUV(r,i,Ae-6,Ae-3,Ae-2,Ae-1);Ge(it[0]),Ge(it[1]),Ge(it[3]),Ge(it[1]),Ge(it[2]),Ge(it[3])}function Le(q){i.push(l[q*3+0]),i.push(l[q*3+1]),i.push(l[q*3+2])}function Ge(q){a.push(q.x),a.push(q.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,r=this.parameters.options;return Ope(t,r,e)}static fromJSON(e,t){const r=[];for(let a=0,o=e.shapes.length;a<o;a++){const s=t[e.shapes[a]];r.push(s)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new Ob[i.type]().fromJSON(i)),new FS(r,e.options)}}const Cpe={generateTopUV:function(n,e,t,r,i){const a=e[t*3],o=e[t*3+1],s=e[r*3],l=e[r*3+1],c=e[i*3],f=e[i*3+1];return[new Ie(a,o),new Ie(s,l),new Ie(c,f)]},generateSideWallUV:function(n,e,t,r,i,a){const o=e[t*3],s=e[t*3+1],l=e[t*3+2],c=e[r*3],f=e[r*3+1],d=e[r*3+2],m=e[i*3],v=e[i*3+1],x=e[i*3+2],S=e[a*3],_=e[a*3+1],b=e[a*3+2];return Math.abs(s-f)<Math.abs(o-c)?[new Ie(o,1-l),new Ie(c,1-d),new Ie(m,1-x),new Ie(S,1-b)]:[new Ie(s,1-l),new Ie(f,1-d),new Ie(v,1-x),new Ie(_,1-b)]}};function Ope(n,e,t){if(t.shapes=[],Array.isArray(n))for(let r=0,i=n.length;r<i;r++){const a=n[r];t.shapes.push(a.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class BS extends Nc{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],a=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,a,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new BS(e.radius,e.detail)}}class n0 extends Nc{constructor(e=1,t=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new n0(e.radius,e.detail)}}class zS extends cn{constructor(e=.5,t=1,r=32,i=1,a=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:i,thetaStart:a,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const s=[],l=[],c=[],f=[];let d=e;const m=(t-e)/i,v=new Q,x=new Ie;for(let S=0;S<=i;S++){for(let _=0;_<=r;_++){const b=a+_/r*o;v.x=d*Math.cos(b),v.y=d*Math.sin(b),l.push(v.x,v.y,v.z),c.push(0,0,1),x.x=(v.x/t+1)/2,x.y=(v.y/t+1)/2,f.push(x.x,x.y)}d+=m}for(let S=0;S<i;S++){const _=S*(r+1);for(let b=0;b<r;b++){const M=b+_,T=M,E=M+r+1,P=M+r+2,R=M+1;s.push(T,E,R),s.push(E,P,R)}}this.setIndex(s),this.setAttribute("position",new At(l,3)),this.setAttribute("normal",new At(c,3)),this.setAttribute("uv",new At(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new zS(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class jS extends cn{constructor(e=new ph([new Ie(0,.5),new Ie(-.5,-.5),new Ie(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const r=[],i=[],a=[],o=[];let s=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let f=0;f<e.length;f++)c(e[f]),this.addGroup(s,l,f),s+=l,l=0;this.setIndex(r),this.setAttribute("position",new At(i,3)),this.setAttribute("normal",new At(a,3)),this.setAttribute("uv",new At(o,2));function c(f){const d=i.length/3,m=f.extractPoints(t);let v=m.shape;const x=m.holes;Ys.isClockWise(v)===!1&&(v=v.reverse());for(let _=0,b=x.length;_<b;_++){const M=x[_];Ys.isClockWise(M)===!0&&(x[_]=M.reverse())}const S=Ys.triangulateShape(v,x);for(let _=0,b=x.length;_<b;_++){const M=x[_];v=v.concat(M)}for(let _=0,b=v.length;_<b;_++){const M=v[_];i.push(M.x,M.y,0),a.push(0,0,1),o.push(M.x,M.y)}for(let _=0,b=S.length;_<b;_++){const M=S[_],T=M[0]+d,E=M[1]+d,P=M[2]+d;r.push(T,E,P),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return Rpe(t,e)}static fromJSON(e,t){const r=[];for(let i=0,a=e.shapes.length;i<a;i++){const o=t[e.shapes[i]];r.push(o)}return new jS(r,e.curveSegments)}}function Rpe(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const i=n[t];e.shapes.push(i.uuid)}else e.shapes.push(n.uuid);return e}class r0 extends cn{constructor(e=1,t=32,r=16,i=0,a=Math.PI*2,o=0,s=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:i,phiLength:a,thetaStart:o,thetaLength:s},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));const l=Math.min(o+s,Math.PI);let c=0;const f=[],d=new Q,m=new Q,v=[],x=[],S=[],_=[];for(let b=0;b<=r;b++){const M=[],T=b/r;let E=0;b===0&&o===0?E=.5/t:b===r&&l===Math.PI&&(E=-.5/t);for(let P=0;P<=t;P++){const R=P/t;d.x=-e*Math.cos(i+R*a)*Math.sin(o+T*s),d.y=e*Math.cos(o+T*s),d.z=e*Math.sin(i+R*a)*Math.sin(o+T*s),x.push(d.x,d.y,d.z),m.copy(d).normalize(),S.push(m.x,m.y,m.z),_.push(R+E,1-T),M.push(c++)}f.push(M)}for(let b=0;b<r;b++)for(let M=0;M<t;M++){const T=f[b][M+1],E=f[b][M],P=f[b+1][M],R=f[b+1][M+1];(b!==0||o>0)&&v.push(T,E,R),(b!==r-1||l<Math.PI)&&v.push(E,P,R)}this.setIndex(v),this.setAttribute("position",new At(x,3)),this.setAttribute("normal",new At(S,3)),this.setAttribute("uv",new At(_,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new r0(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class VS extends Nc{constructor(e=1,t=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new VS(e.radius,e.detail)}}class HS extends cn{constructor(e=1,t=.4,r=12,i=48,a=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:i,arc:a},r=Math.floor(r),i=Math.floor(i);const o=[],s=[],l=[],c=[],f=new Q,d=new Q,m=new Q;for(let v=0;v<=r;v++)for(let x=0;x<=i;x++){const S=x/i*a,_=v/r*Math.PI*2;d.x=(e+t*Math.cos(_))*Math.cos(S),d.y=(e+t*Math.cos(_))*Math.sin(S),d.z=t*Math.sin(_),s.push(d.x,d.y,d.z),f.x=e*Math.cos(S),f.y=e*Math.sin(S),m.subVectors(d,f).normalize(),l.push(m.x,m.y,m.z),c.push(x/i),c.push(v/r)}for(let v=1;v<=r;v++)for(let x=1;x<=i;x++){const S=(i+1)*v+x-1,_=(i+1)*(v-1)+x-1,b=(i+1)*(v-1)+x,M=(i+1)*v+x;o.push(S,_,M),o.push(_,b,M)}this.setIndex(o),this.setAttribute("position",new At(s,3)),this.setAttribute("normal",new At(l,3)),this.setAttribute("uv",new At(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new HS(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class WS extends cn{constructor(e=1,t=.4,r=64,i=8,a=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:i,p:a,q:o},r=Math.floor(r),i=Math.floor(i);const s=[],l=[],c=[],f=[],d=new Q,m=new Q,v=new Q,x=new Q,S=new Q,_=new Q,b=new Q;for(let T=0;T<=r;++T){const E=T/r*a*Math.PI*2;M(E,a,o,e,v),M(E+.01,a,o,e,x),_.subVectors(x,v),b.addVectors(x,v),S.crossVectors(_,b),b.crossVectors(S,_),S.normalize(),b.normalize();for(let P=0;P<=i;++P){const R=P/i*Math.PI*2,I=-t*Math.cos(R),U=t*Math.sin(R);d.x=v.x+(I*b.x+U*S.x),d.y=v.y+(I*b.y+U*S.y),d.z=v.z+(I*b.z+U*S.z),l.push(d.x,d.y,d.z),m.subVectors(d,v).normalize(),c.push(m.x,m.y,m.z),f.push(T/r),f.push(P/i)}}for(let T=1;T<=r;T++)for(let E=1;E<=i;E++){const P=(i+1)*(T-1)+(E-1),R=(i+1)*T+(E-1),I=(i+1)*T+E,U=(i+1)*(T-1)+E;s.push(P,R,U),s.push(R,I,U)}this.setIndex(s),this.setAttribute("position",new At(l,3)),this.setAttribute("normal",new At(c,3)),this.setAttribute("uv",new At(f,2));function M(T,E,P,R,I){const U=Math.cos(T),N=Math.sin(T),k=P/E*T,z=Math.cos(k);I.x=R*(2+z)*.5*U,I.y=R*(2+z)*N*.5,I.z=R*Math.sin(k)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new WS(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class GS extends cn{constructor(e=new lR(new Q(-1,-1,0),new Q(-1,1,0),new Q(1,1,0)),t=64,r=1,i=8,a=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:i,closed:a};const o=e.computeFrenetFrames(t,a);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const s=new Q,l=new Q,c=new Ie;let f=new Q;const d=[],m=[],v=[],x=[];S(),this.setIndex(x),this.setAttribute("position",new At(d,3)),this.setAttribute("normal",new At(m,3)),this.setAttribute("uv",new At(v,2));function S(){for(let T=0;T<t;T++)_(T);_(a===!1?t:0),M(),b()}function _(T){f=e.getPointAt(T/t,f);const E=o.normals[T],P=o.binormals[T];for(let R=0;R<=i;R++){const I=R/i*Math.PI*2,U=Math.sin(I),N=-Math.cos(I);l.x=N*E.x+U*P.x,l.y=N*E.y+U*P.y,l.z=N*E.z+U*P.z,l.normalize(),m.push(l.x,l.y,l.z),s.x=f.x+r*l.x,s.y=f.y+r*l.y,s.z=f.z+r*l.z,d.push(s.x,s.y,s.z)}}function b(){for(let T=1;T<=t;T++)for(let E=1;E<=i;E++){const P=(i+1)*(T-1)+(E-1),R=(i+1)*T+(E-1),I=(i+1)*T+E,U=(i+1)*(T-1)+E;x.push(P,R,U),x.push(R,I,U)}}function M(){for(let T=0;T<=t;T++)for(let E=0;E<=i;E++)c.x=T/t,c.y=E/i,v.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new GS(new Ob[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class L8 extends cn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],r=new Set,i=new Q,a=new Q;if(e.index!==null){const o=e.attributes.position,s=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:s.count,materialIndex:0}]);for(let c=0,f=l.length;c<f;++c){const d=l[c],m=d.start,v=d.count;for(let x=m,S=m+v;x<S;x+=3)for(let _=0;_<3;_++){const b=s.getX(x+_),M=s.getX(x+(_+1)%3);i.fromBufferAttribute(o,b),a.fromBufferAttribute(o,M),JB(i,a,r)===!0&&(t.push(i.x,i.y,i.z),t.push(a.x,a.y,a.z))}}}else{const o=e.attributes.position;for(let s=0,l=o.count/3;s<l;s++)for(let c=0;c<3;c++){const f=3*s+c,d=3*s+(c+1)%3;i.fromBufferAttribute(o,f),a.fromBufferAttribute(o,d),JB(i,a,r)===!0&&(t.push(i.x,i.y,i.z),t.push(a.x,a.y,a.z))}}this.setAttribute("position",new At(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function JB(n,e,t){const r=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(r)===!0||t.has(i)===!0?!1:(t.add(r),t.add(i),!0)}var QB=Object.freeze({__proto__:null,BoxGeometry:Ch,CapsuleGeometry:DS,CircleGeometry:LS,ConeGeometry:NS,CylinderGeometry:_m,DodecahedronGeometry:kS,EdgesGeometry:O8,ExtrudeGeometry:FS,IcosahedronGeometry:BS,LatheGeometry:t0,OctahedronGeometry:n0,PlaneGeometry:e0,PolyhedronGeometry:Nc,RingGeometry:zS,ShapeGeometry:jS,SphereGeometry:r0,TetrahedronGeometry:VS,TorusGeometry:HS,TorusKnotGeometry:WS,TubeGeometry:GS,WireframeGeometry:L8});class N8 extends Ci{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new ft(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class k8 extends ws{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class cR extends Ci{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new ft(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ft(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Dc,this.normalScale=new Ie(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class U8 extends cR{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Ie(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return br(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new ft(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new ft(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new ft(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class F8 extends Ci{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new ft(16777215),this.specular=new ft(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ft(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Dc,this.normalScale=new Ie(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Yy,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class B8 extends Ci{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new ft(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ft(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Dc,this.normalScale=new Ie(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class z8 extends Ci{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Dc,this.normalScale=new Ie(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class j8 extends Ci{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new ft(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ft(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Dc,this.normalScale=new Ie(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Yy,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class V8 extends Ci{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new ft(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Dc,this.normalScale=new Ie(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class H8 extends ma{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function ih(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function W8(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function G8(n){function e(i,a){return n[i]-n[a]}const t=n.length,r=new Array(t);for(let i=0;i!==t;++i)r[i]=i;return r.sort(e),r}function t2(n,e,t){const r=n.length,i=new n.constructor(r);for(let a=0,o=0;o!==r;++a){const s=t[a]*e;for(let l=0;l!==e;++l)i[o++]=n[s+l]}return i}function fR(n,e,t,r){let i=1,a=n[0];for(;a!==void 0&&a[r]===void 0;)a=n[i++];if(a===void 0)return;let o=a[r];if(o!==void 0)if(Array.isArray(o))do o=a[r],o!==void 0&&(e.push(a.time),t.push.apply(t,o)),a=n[i++];while(a!==void 0);else if(o.toArray!==void 0)do o=a[r],o!==void 0&&(e.push(a.time),o.toArray(t,t.length)),a=n[i++];while(a!==void 0);else do o=a[r],o!==void 0&&(e.push(a.time),t.push(o)),a=n[i++];while(a!==void 0)}function Ipe(n,e,t,r,i=30){const a=n.clone();a.name=e;const o=[];for(let l=0;l<a.tracks.length;++l){const c=a.tracks[l],f=c.getValueSize(),d=[],m=[];for(let v=0;v<c.times.length;++v){const x=c.times[v]*i;if(!(x<t||x>=r)){d.push(c.times[v]);for(let S=0;S<f;++S)m.push(c.values[v*f+S])}}d.length!==0&&(c.times=ih(d,c.times.constructor),c.values=ih(m,c.values.constructor),o.push(c))}a.tracks=o;let s=1/0;for(let l=0;l<a.tracks.length;++l)s>a.tracks[l].times[0]&&(s=a.tracks[l].times[0]);for(let l=0;l<a.tracks.length;++l)a.tracks[l].shift(-1*s);return a.resetDuration(),a}function Dpe(n,e=0,t=n,r=30){r<=0&&(r=30);const i=t.tracks.length,a=e/r;for(let o=0;o<i;++o){const s=t.tracks[o],l=s.ValueTypeName;if(l==="bool"||l==="string")continue;const c=n.tracks.find(function(b){return b.name===s.name&&b.ValueTypeName===l});if(c===void 0)continue;let f=0;const d=s.getValueSize();s.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(f=d/3);let m=0;const v=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(m=v/3);const x=s.times.length-1;let S;if(a<=s.times[0]){const b=f,M=d-f;S=s.values.slice(b,M)}else if(a>=s.times[x]){const b=x*d+f,M=b+d-f;S=s.values.slice(b,M)}else{const b=s.createInterpolant(),M=f,T=d-f;b.evaluate(a),S=b.resultBuffer.slice(M,T)}l==="quaternion"&&new Rr().fromArray(S).normalize().conjugate().toArray(S);const _=c.times.length;for(let b=0;b<_;++b){const M=b*v+m;if(l==="quaternion")Rr.multiplyQuaternionsFlat(c.values,M,S,0,c.values,M);else{const T=v-m*2;for(let E=0;E<T;++E)c.values[M+E]-=S[E]}}}return n.blendMode=VO,n}const Lpe={convertArray:ih,isTypedArray:W8,getKeyframeOrder:G8,sortedArray:t2,flattenJSON:fR,subclip:Ipe,makeClipAdditive:Dpe};class i0{constructor(e,t,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let r=this._cachedIndex,i=t[r],a=t[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let s=r+2;;){if(i===void 0){if(e<a)break r;return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===s)break;if(a=i,i=t[++r],e<i)break t}o=t.length;break n}if(!(e>=a)){const s=t[1];e<s&&(r=2,a=s);for(let l=r-2;;){if(a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=a,a=t[--r-1],e>=a)break t}o=r,r=0;break n}break e}for(;r<o;){const s=r+o>>>1;e<t[s]?o=s:r=s+1}if(i=t[r],a=t[r-1],a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,a,i)}return this.interpolate_(r,a,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,a=e*i;for(let o=0;o!==i;++o)t[o]=r[a+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class $8 extends i0{constructor(e,t,r,i){super(e,t,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:th,endingEnd:th}}intervalChanged_(e,t,r){const i=this.parameterPositions;let a=e-2,o=e+1,s=i[a],l=i[o];if(s===void 0)switch(this.getSettings_().endingStart){case nh:a=e,s=2*t-r;break;case vy:a=i.length-2,s=t+i[a]-i[a+1];break;default:a=e,s=r}if(l===void 0)switch(this.getSettings_().endingEnd){case nh:o=e,l=2*r-t;break;case vy:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=t}const c=(r-t)*.5,f=this.valueSize;this._weightPrev=c/(t-s),this._weightNext=c/(l-r),this._offsetPrev=a*f,this._offsetNext=o*f}interpolate_(e,t,r,i){const a=this.resultBuffer,o=this.sampleValues,s=this.valueSize,l=e*s,c=l-s,f=this._offsetPrev,d=this._offsetNext,m=this._weightPrev,v=this._weightNext,x=(r-t)/(i-t),S=x*x,_=S*x,b=-m*_+2*m*S-m*x,M=(1+m)*_+(-1.5-2*m)*S+(-.5+m)*x+1,T=(-1-v)*_+(1.5+v)*S+.5*x,E=v*_-v*S;for(let P=0;P!==s;++P)a[P]=b*o[f+P]+M*o[c+P]+T*o[l+P]+E*o[d+P];return a}}class hR extends i0{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const a=this.resultBuffer,o=this.sampleValues,s=this.valueSize,l=e*s,c=l-s,f=(r-t)/(i-t),d=1-f;for(let m=0;m!==s;++m)a[m]=o[c+m]*d+o[l+m]*f;return a}}class q8 extends i0{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class Ts{constructor(e,t,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=ih(t,this.TimeBufferType),this.values=ih(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:ih(e.times,Array),values:ih(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new q8(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new hR(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new $8(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case my:t=this.InterpolantFactoryMethodDiscrete;break;case gy:t=this.InterpolantFactoryMethodLinear;break;case w_:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return my;case this.InterpolantFactoryMethodLinear:return gy;case this.InterpolantFactoryMethodSmooth:return w_}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]*=e}return this}trim(e,t){const r=this.times,i=r.length;let a=0,o=i-1;for(;a!==i&&r[a]<e;)++a;for(;o!==-1&&r[o]>t;)--o;if(++o,a!==0||o!==i){a>=o&&(o=Math.max(o,1),a=o-1);const s=this.getValueSize();this.times=r.slice(a,o),this.values=this.values.slice(a*s,o*s)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,a=r.length;a===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let s=0;s!==a;s++){const l=r[s];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,s,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,s,l,o),e=!1;break}o=l}if(i!==void 0&&W8(i))for(let s=0,l=i.length;s!==l;++s){const c=i[s];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,s,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),r=this.getValueSize(),i=this.getInterpolation()===w_,a=e.length-1;let o=1;for(let s=1;s<a;++s){let l=!1;const c=e[s],f=e[s+1];if(c!==f&&(s!==1||c!==e[0]))if(i)l=!0;else{const d=s*r,m=d-r,v=d+r;for(let x=0;x!==r;++x){const S=t[d+x];if(S!==t[m+x]||S!==t[v+x]){l=!0;break}}}if(l){if(s!==o){e[o]=e[s];const d=s*r,m=o*r;for(let v=0;v!==r;++v)t[m+v]=t[d+v]}++o}}if(a>0){e[o]=e[a];for(let s=a*r,l=o*r,c=0;c!==r;++c)t[l+c]=t[s+c];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=t.slice(0,o*r)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),r=this.constructor,i=new r(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}Ts.prototype.TimeBufferType=Float32Array;Ts.prototype.ValueBufferType=Float32Array;Ts.prototype.DefaultInterpolation=gy;class Oh extends Ts{}Oh.prototype.ValueTypeName="bool";Oh.prototype.ValueBufferType=Array;Oh.prototype.DefaultInterpolation=my;Oh.prototype.InterpolantFactoryMethodLinear=void 0;Oh.prototype.InterpolantFactoryMethodSmooth=void 0;class dR extends Ts{}dR.prototype.ValueTypeName="color";class Ey extends Ts{}Ey.prototype.ValueTypeName="number";class X8 extends i0{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const a=this.resultBuffer,o=this.sampleValues,s=this.valueSize,l=(r-t)/(i-t);let c=e*s;for(let f=c+s;c!==f;c+=4)Rr.slerpFlat(a,0,o,c-s,o,c,l);return a}}class bm extends Ts{InterpolantFactoryMethodLinear(e){return new X8(this.times,this.values,this.getValueSize(),e)}}bm.prototype.ValueTypeName="quaternion";bm.prototype.DefaultInterpolation=gy;bm.prototype.InterpolantFactoryMethodSmooth=void 0;class Rh extends Ts{}Rh.prototype.ValueTypeName="string";Rh.prototype.ValueBufferType=Array;Rh.prototype.DefaultInterpolation=my;Rh.prototype.InterpolantFactoryMethodLinear=void 0;Rh.prototype.InterpolantFactoryMethodSmooth=void 0;class Py extends Ts{}Py.prototype.ValueTypeName="vector";class Cy{constructor(e,t=-1,r,i=wS){this.name=e,this.tracks=r,this.duration=t,this.blendMode=i,this.uuid=ro(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,s=r.length;o!==s;++o)t.push(kpe(r[o]).scale(i));const a=new this(e.name,e.duration,t,e.blendMode);return a.uuid=e.uuid,a}static toJSON(e){const t=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let a=0,o=r.length;a!==o;++a)t.push(Ts.toJSON(r[a]));return i}static CreateFromMorphTargetSequence(e,t,r,i){const a=t.length,o=[];for(let s=0;s<a;s++){let l=[],c=[];l.push((s+a-1)%a,s,(s+1)%a),c.push(0,1,0);const f=G8(l);l=t2(l,1,f),c=t2(c,1,f),!i&&l[0]===0&&(l.push(a),c.push(c[0])),o.push(new Ey(".morphTargetInfluences["+t[s].name+"]",l,c).scale(1/r))}return new this(e,-1,o)}static findByName(e,t){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===t)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,t,r){const i={},a=/^([\w-]*?)([\d]+)$/;for(let s=0,l=e.length;s<l;s++){const c=e[s],f=c.name.match(a);if(f&&f.length>1){const d=f[1];let m=i[d];m||(i[d]=m=[]),m.push(c)}}const o=[];for(const s in i)o.push(this.CreateFromMorphTargetSequence(s,i[s],t,r));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(d,m,v,x,S){if(v.length!==0){const _=[],b=[];fR(v,_,b,x),_.length!==0&&S.push(new d(m,_,b))}},i=[],a=e.name||"default",o=e.fps||30,s=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let d=0;d<c.length;d++){const m=c[d].keys;if(!(!m||m.length===0))if(m[0].morphTargets){const v={};let x;for(x=0;x<m.length;x++)if(m[x].morphTargets)for(let S=0;S<m[x].morphTargets.length;S++)v[m[x].morphTargets[S]]=-1;for(const S in v){const _=[],b=[];for(let M=0;M!==m[x].morphTargets.length;++M){const T=m[x];_.push(T.time),b.push(T.morphTarget===S?1:0)}i.push(new Ey(".morphTargetInfluence["+S+"]",_,b))}l=v.length*o}else{const v=".bones["+t[d].name+"]";r(Py,v+".position",m,"pos",i),r(bm,v+".quaternion",m,"rot",i),r(Py,v+".scale",m,"scl",i)}}return i.length===0?null:new this(a,l,i,s)}resetDuration(){const e=this.tracks;let t=0;for(let r=0,i=e.length;r!==i;++r){const a=this.tracks[r];t=Math.max(t,a.times[a.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function Npe(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Ey;case"vector":case"vector2":case"vector3":case"vector4":return Py;case"color":return dR;case"quaternion":return bm;case"bool":case"boolean":return Oh;case"string":return Rh}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function kpe(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=Npe(n.type);if(n.times===void 0){const t=[],r=[];fR(n.keys,t,r,"value"),n.times=t,n.values=r}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const Kl={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class pR{constructor(e,t,r){const i=this;let a=!1,o=0,s=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(f){s++,a===!1&&i.onStart!==void 0&&i.onStart(f,o,s),a=!0},this.itemEnd=function(f){o++,i.onProgress!==void 0&&i.onProgress(f,o,s),o===s&&(a=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(f){i.onError!==void 0&&i.onError(f)},this.resolveURL=function(f){return l?l(f):f},this.setURLModifier=function(f){return l=f,this},this.addHandler=function(f,d){return c.push(f,d),this},this.removeHandler=function(f){const d=c.indexOf(f);return d!==-1&&c.splice(d,2),this},this.getHandler=function(f){for(let d=0,m=c.length;d<m;d+=2){const v=c[d],x=c[d+1];if(v.global&&(v.lastIndex=0),v.test(f))return x}return null}}}const Y8=new pR;class Na{constructor(e){this.manager=e!==void 0?e:Y8,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const r=this;return new Promise(function(i,a){r.load(e,i,t,a)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}Na.DEFAULT_MATERIAL_NAME="__DEFAULT";const zl={};class Upe extends Error{constructor(e,t){super(e),this.response=t}}class au extends Na{constructor(e){super(e)}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=Kl.get(e);if(a!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(a),this.manager.itemEnd(e)},0),a;if(zl[e]!==void 0){zl[e].push({onLoad:t,onProgress:r,onError:i});return}zl[e]=[],zl[e].push({onLoad:t,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),s=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const f=zl[e],d=c.body.getReader(),m=c.headers.get("Content-Length")||c.headers.get("X-File-Size"),v=m?parseInt(m):0,x=v!==0;let S=0;const _=new ReadableStream({start(b){M();function M(){d.read().then(({done:T,value:E})=>{if(T)b.close();else{S+=E.byteLength;const P=new ProgressEvent("progress",{lengthComputable:x,loaded:S,total:v});for(let R=0,I=f.length;R<I;R++){const U=f[R];U.onProgress&&U.onProgress(P)}b.enqueue(E),M()}})}}});return new Response(_)}else throw new Upe(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(f=>new DOMParser().parseFromString(f,s));case"json":return c.json();default:if(s===void 0)return c.text();{const d=/charset="?([^;"\s]*)"?/i.exec(s),m=d&&d[1]?d[1].toLowerCase():void 0,v=new TextDecoder(m);return c.arrayBuffer().then(x=>v.decode(x))}}}).then(c=>{Kl.add(e,c);const f=zl[e];delete zl[e];for(let d=0,m=f.length;d<m;d++){const v=f[d];v.onLoad&&v.onLoad(c)}}).catch(c=>{const f=zl[e];if(f===void 0)throw this.manager.itemError(e),c;delete zl[e];for(let d=0,m=f.length;d<m;d++){const v=f[d];v.onError&&v.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class Fpe extends Na{constructor(e){super(e)}load(e,t,r,i){const a=this,o=new au(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(s){try{t(a.parse(JSON.parse(s)))}catch(l){i?i(l):console.error(l),a.manager.itemError(e)}},r,i)}parse(e){const t=[];for(let r=0;r<e.length;r++){const i=Cy.parse(e[r]);t.push(i)}return t}}class Bpe extends Na{constructor(e){super(e)}load(e,t,r,i){const a=this,o=[],s=new RS,l=new au(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(a.withCredentials);let c=0;function f(d){l.load(e[d],function(m){const v=a.parse(m,!0);o[d]={width:v.width,height:v.height,format:v.format,mipmaps:v.mipmaps},c+=1,c===6&&(v.mipmapCount===1&&(s.minFilter=Cr),s.image=o,s.format=v.format,s.needsUpdate=!0,t&&t(s))},r,i)}if(Array.isArray(e))for(let d=0,m=e.length;d<m;++d)f(d);else l.load(e,function(d){const m=a.parse(d,!0);if(m.isCubemap){const v=m.mipmaps.length/m.mipmapCount;for(let x=0;x<v;x++){o[x]={mipmaps:[]};for(let S=0;S<m.mipmapCount;S++)o[x].mipmaps.push(m.mipmaps[x*m.mipmapCount+S]),o[x].format=m.format,o[x].width=m.width,o[x].height=m.height}s.image=o}else s.image.width=m.width,s.image.height=m.height,s.mipmaps=m.mipmaps;m.mipmapCount===1&&(s.minFilter=Cr),s.format=m.format,s.needsUpdate=!0,t&&t(s)},r,i);return s}}class Oy extends Na{constructor(e){super(e)}load(e,t,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,o=Kl.get(e);if(o!==void 0)return a.manager.itemStart(e),setTimeout(function(){t&&t(o),a.manager.itemEnd(e)},0),o;const s=Sy("img");function l(){f(),Kl.add(e,this),t&&t(this),a.manager.itemEnd(e)}function c(d){f(),i&&i(d),a.manager.itemError(e),a.manager.itemEnd(e)}function f(){s.removeEventListener("load",l,!1),s.removeEventListener("error",c,!1)}return s.addEventListener("load",l,!1),s.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(s.crossOrigin=this.crossOrigin),a.manager.itemStart(e),s.src=e,s}}class zpe extends Na{constructor(e){super(e)}load(e,t,r,i){const a=new Jy;a.colorSpace=Jr;const o=new Oy(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let s=0;function l(c){o.load(e[c],function(f){a.images[c]=f,s++,s===6&&(a.needsUpdate=!0,t&&t(a))},void 0,i)}for(let c=0;c<e.length;++c)l(c);return a}}class jpe extends Na{constructor(e){super(e)}load(e,t,r,i){const a=this,o=new dh,s=new au(this.manager);return s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setPath(this.path),s.setWithCredentials(a.withCredentials),s.load(e,function(l){let c;try{c=a.parse(l)}catch(f){if(i!==void 0)i(f);else{console.error(f);return}}c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:Hi,o.wrapT=c.wrapT!==void 0?c.wrapT:Hi,o.magFilter=c.magFilter!==void 0?c.magFilter:Cr,o.minFilter=c.minFilter!==void 0?c.minFilter:Cr,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0?o.colorSpace=c.colorSpace:c.encoding!==void 0&&(o.encoding=c.encoding),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=wc),c.mipmapCount===1&&(o.minFilter=Cr),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,t&&t(o,c)},r,i),o}}class K8 extends Na{constructor(e){super(e)}load(e,t,r,i){const a=new Sr,o=new Oy(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(s){a.image=s,a.needsUpdate=!0,t!==void 0&&t(a)},r,i),a}}class kc extends Mn{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new ft(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class Z8 extends kc{constructor(e,t,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Mn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new ft(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const dE=new jt,ez=new Q,tz=new Q;class mR{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Ie(512,512),this.map=null,this.mapPass=null,this.matrix=new jt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Qy,this._frameExtents=new Ie(1,1),this._viewportCount=1,this._viewports=[new Sn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,r=this.matrix;ez.setFromMatrixPosition(e.matrixWorld),t.position.copy(ez),tz.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(tz),t.updateMatrixWorld(),dE.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(dE),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(dE)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Vpe extends mR{constructor(){super(new Or(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,r=tm*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,a=e.distance||t.far;(r!==t.fov||i!==t.aspect||a!==t.far)&&(t.fov=r,t.aspect=i,t.far=a,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class J8 extends kc{constructor(e,t,r=0,i=Math.PI/3,a=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Mn.DEFAULT_UP),this.updateMatrix(),this.target=new Mn,this.distance=r,this.angle=i,this.penumbra=a,this.decay=o,this.map=null,this.shadow=new Vpe}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const nz=new jt,zg=new Q,pE=new Q;class Hpe extends mR{constructor(){super(new Or(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Ie(4,2),this._viewportCount=6,this._viewports=[new Sn(2,1,1,1),new Sn(0,1,1,1),new Sn(3,1,1,1),new Sn(1,1,1,1),new Sn(3,0,1,1),new Sn(1,0,1,1)],this._cubeDirections=[new Q(1,0,0),new Q(-1,0,0),new Q(0,0,1),new Q(0,0,-1),new Q(0,1,0),new Q(0,-1,0)],this._cubeUps=[new Q(0,1,0),new Q(0,1,0),new Q(0,1,0),new Q(0,1,0),new Q(0,0,1),new Q(0,0,-1)]}updateMatrices(e,t=0){const r=this.camera,i=this.matrix,a=e.distance||r.far;a!==r.far&&(r.far=a,r.updateProjectionMatrix()),zg.setFromMatrixPosition(e.matrixWorld),r.position.copy(zg),pE.copy(r.position),pE.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(pE),r.updateMatrixWorld(),i.makeTranslation(-zg.x,-zg.y,-zg.z),nz.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(nz)}}class Q8 extends kc{constructor(e,t,r=0,i=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new Hpe}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Wpe extends mR{constructor(){super(new xc(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class e6 extends kc{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Mn.DEFAULT_UP),this.updateMatrix(),this.target=new Mn,this.shadow=new Wpe}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class t6 extends kc{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class n6 extends kc{constructor(e,t,r=10,i=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class r6{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new Q)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const r=e.x,i=e.y,a=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*i),t.addScaledVector(o[2],.488603*a),t.addScaledVector(o[3],.488603*r),t.addScaledVector(o[4],1.092548*(r*i)),t.addScaledVector(o[5],1.092548*(i*a)),t.addScaledVector(o[6],.315392*(3*a*a-1)),t.addScaledVector(o[7],1.092548*(r*a)),t.addScaledVector(o[8],.546274*(r*r-i*i)),t}getIrradianceAt(e,t){const r=e.x,i=e.y,a=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*i),t.addScaledVector(o[2],2*.511664*a),t.addScaledVector(o[3],2*.511664*r),t.addScaledVector(o[4],2*.429043*r*i),t.addScaledVector(o[5],2*.429043*i*a),t.addScaledVector(o[6],.743125*a*a-.247708),t.addScaledVector(o[7],2*.429043*r*a),t.addScaledVector(o[8],.429043*(r*r-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,t+i*3);return this}toArray(e=[],t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,t+i*3);return e}static getBasisAt(e,t){const r=e.x,i=e.y,a=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*a,t[3]=.488603*r,t[4]=1.092548*r*i,t[5]=1.092548*i*a,t[6]=.315392*(3*a*a-1),t[7]=1.092548*r*a,t[8]=.546274*(r*r-i*i)}}class i6 extends kc{constructor(e=new r6,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class $S extends Na{constructor(e){super(e),this.textures={}}load(e,t,r,i){const a=this,o=new au(a.manager);o.setPath(a.path),o.setRequestHeader(a.requestHeader),o.setWithCredentials(a.withCredentials),o.load(e,function(s){try{t(a.parse(JSON.parse(s)))}catch(l){i?i(l):console.error(l),a.manager.itemError(e)}},r,i)}parse(e){const t=this.textures;function r(a){return t[a]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",a),t[a]}const i=$S.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new ft().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(i.depthFunc=e.depthFunc),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(i.blendSrc=e.blendSrc),e.blendDst!==void 0&&(i.blendDst=e.blendDst),e.blendEquation!==void 0&&(i.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(i.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(i.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(i.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&i.blendColor!==void 0&&i.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(i.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const a in e.uniforms){const o=e.uniforms[a];switch(i.uniforms[a]={},o.type){case"t":i.uniforms[a].value=r(o.value);break;case"c":i.uniforms[a].value=new ft().setHex(o.value);break;case"v2":i.uniforms[a].value=new Ie().fromArray(o.value);break;case"v3":i.uniforms[a].value=new Q().fromArray(o.value);break;case"v4":i.uniforms[a].value=new Sn().fromArray(o.value);break;case"m3":i.uniforms[a].value=new fn().fromArray(o.value);break;case"m4":i.uniforms[a].value=new jt().fromArray(o.value);break;default:i.uniforms[a].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const a in e.extensions)i.extensions[a]=e.extensions[a];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let a=e.normalScale;Array.isArray(a)===!1&&(a=[a,a]),i.normalScale=new Ie().fromArray(a)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new Ie().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:N8,SpriteMaterial:tR,RawShaderMaterial:k8,ShaderMaterial:ws,PointsMaterial:rR,MeshPhysicalMaterial:U8,MeshStandardMaterial:cR,MeshPhongMaterial:F8,MeshToonMaterial:B8,MeshNormalMaterial:z8,MeshLambertMaterial:j8,MeshDepthMaterial:JO,MeshDistanceMaterial:QO,MeshBasicMaterial:Lc,MeshMatcapMaterial:V8,LineDashedMaterial:H8,LineBasicMaterial:ma,Material:Ci};return new t[e]}}class n2{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let r=0,i=e.length;r<i;r++)t+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class a6 extends cn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class o6 extends Na{constructor(e){super(e)}load(e,t,r,i){const a=this,o=new au(a.manager);o.setPath(a.path),o.setRequestHeader(a.requestHeader),o.setWithCredentials(a.withCredentials),o.load(e,function(s){try{t(a.parse(JSON.parse(s)))}catch(l){i?i(l):console.error(l),a.manager.itemError(e)}},r,i)}parse(e){const t={},r={};function i(v,x){if(t[x]!==void 0)return t[x];const _=v.interleavedBuffers[x],b=a(v,_.buffer),M=pp(_.type,b),T=new CS(M,_.stride);return T.uuid=_.uuid,t[x]=T,T}function a(v,x){if(r[x]!==void 0)return r[x];const _=v.arrayBuffers[x],b=new Uint32Array(_).buffer;return r[x]=b,b}const o=e.isInstancedBufferGeometry?new a6:new cn,s=e.data.index;if(s!==void 0){const v=pp(s.type,s.array);o.setIndex(new Dn(v,1))}const l=e.data.attributes;for(const v in l){const x=l[v];let S;if(x.isInterleavedBufferAttribute){const _=i(e.data,x.data);S=new Sh(_,x.itemSize,x.offset,x.normalized)}else{const _=pp(x.type,x.array),b=x.isInstancedBufferAttribute?rm:Dn;S=new b(_,x.itemSize,x.normalized)}x.name!==void 0&&(S.name=x.name),x.usage!==void 0&&S.setUsage(x.usage),o.setAttribute(v,S)}const c=e.data.morphAttributes;if(c)for(const v in c){const x=c[v],S=[];for(let _=0,b=x.length;_<b;_++){const M=x[_];let T;if(M.isInterleavedBufferAttribute){const E=i(e.data,M.data);T=new Sh(E,M.itemSize,M.offset,M.normalized)}else{const E=pp(M.type,M.array);T=new Dn(E,M.itemSize,M.normalized)}M.name!==void 0&&(T.name=M.name),S.push(T)}o.morphAttributes[v]=S}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const d=e.data.groups||e.data.drawcalls||e.data.offsets;if(d!==void 0)for(let v=0,x=d.length;v!==x;++v){const S=d[v];o.addGroup(S.start,S.count,S.materialIndex)}const m=e.data.boundingSphere;if(m!==void 0){const v=new Q;m.center!==void 0&&v.fromArray(m.center),o.boundingSphere=new qi(v,m.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class Gpe extends Na{constructor(e){super(e)}load(e,t,r,i){const a=this,o=this.path===""?n2.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const s=new au(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(d){i!==void 0&&i(d),console.error("THREE:ObjectLoader: Can't parse "+e+".",d.message);return}const f=c.metadata;if(f===void 0||f.type===void 0||f.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}a.parse(c,t)},r,i)}async loadAsync(e,t){const r=this,i=this.path===""?n2.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const a=new au(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials);const o=await a.loadAsync(e,t),s=JSON.parse(o),l=s.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(s)}parse(e,t){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),a=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){t!==void 0&&t(c)}),s=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,s),c=this.parseObject(e.object,a,l,s,r),f=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,f),t!==void 0){let d=!1;for(const m in o)if(o[m].data instanceof HTMLImageElement){d=!0;break}d===!1&&t(c)}return c}async parseAsync(e){const t=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),a=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,a),s=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,s,o,t),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),l}parseShapes(e){const t={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const a=new ph().fromJSON(e[r]);t[a.uuid]=a}return t}parseSkeletons(e,t){const r={},i={};if(t.traverse(function(a){a.isBone&&(i[a.uuid]=a)}),e!==void 0)for(let a=0,o=e.length;a<o;a++){const s=new OS().fromJSON(e[a],i);r[s.uuid]=s}return r}parseGeometries(e,t){const r={};if(e!==void 0){const i=new o6;for(let a=0,o=e.length;a<o;a++){let s;const l=e[a];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":s=i.parse(l);break;default:l.type in QB?s=QB[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}s.uuid=l.uuid,l.name!==void 0&&(s.name=l.name),l.userData!==void 0&&(s.userData=l.userData),r[l.uuid]=s}}return r}parseMaterials(e,t){const r={},i={};if(e!==void 0){const a=new $S;a.setTextures(t);for(let o=0,s=e.length;o<s;o++){const l=e[o];r[l.uuid]===void 0&&(r[l.uuid]=a.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const t={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],a=Cy.parse(i);t[a.uuid]=a}return t}parseImages(e,t){const r=this,i={};let a;function o(l){return r.manager.itemStart(l),a.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function s(l){if(typeof l=="string"){const c=l,f=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:r.resourcePath+c;return o(f)}else return l.data?{data:pp(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new pR(t);a=new Oy(l),a.setCrossOrigin(this.crossOrigin);for(let c=0,f=e.length;c<f;c++){const d=e[c],m=d.url;if(Array.isArray(m)){const v=[];for(let x=0,S=m.length;x<S;x++){const _=m[x],b=s(_);b!==null&&(b instanceof HTMLImageElement?v.push(b):v.push(new dh(b.data,b.width,b.height)))}i[d.uuid]=new rh(v)}else{const v=s(d.url);i[d.uuid]=new rh(v)}}}return i}async parseImagesAsync(e){const t=this,r={};let i;async function a(o){if(typeof o=="string"){const s=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(s)?s:t.resourcePath+s;return await i.loadAsync(l)}else return o.data?{data:pp(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new Oy(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,s=e.length;o<s;o++){const l=e[o],c=l.url;if(Array.isArray(c)){const f=[];for(let d=0,m=c.length;d<m;d++){const v=c[d],x=await a(v);x!==null&&(x instanceof HTMLImageElement?f.push(x):f.push(new dh(x.data,x.width,x.height)))}r[l.uuid]=new rh(f)}else{const f=await a(l.url);r[l.uuid]=new rh(f)}}}return r}parseTextures(e,t){function r(a,o){return typeof a=="number"?a:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",a),o[a])}const i={};if(e!==void 0)for(let a=0,o=e.length;a<o;a++){const s=e[a];s.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',s.uuid),t[s.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",s.image);const l=t[s.image],c=l.data;let f;Array.isArray(c)?(f=new Jy,c.length===6&&(f.needsUpdate=!0)):(c&&c.data?f=new dh:f=new Sr,c&&(f.needsUpdate=!0)),f.source=l,f.uuid=s.uuid,s.name!==void 0&&(f.name=s.name),s.mapping!==void 0&&(f.mapping=r(s.mapping,$pe)),s.channel!==void 0&&(f.channel=s.channel),s.offset!==void 0&&f.offset.fromArray(s.offset),s.repeat!==void 0&&f.repeat.fromArray(s.repeat),s.center!==void 0&&f.center.fromArray(s.center),s.rotation!==void 0&&(f.rotation=s.rotation),s.wrap!==void 0&&(f.wrapS=r(s.wrap[0],rz),f.wrapT=r(s.wrap[1],rz)),s.format!==void 0&&(f.format=s.format),s.internalFormat!==void 0&&(f.internalFormat=s.internalFormat),s.type!==void 0&&(f.type=s.type),s.colorSpace!==void 0&&(f.colorSpace=s.colorSpace),s.encoding!==void 0&&(f.encoding=s.encoding),s.minFilter!==void 0&&(f.minFilter=r(s.minFilter,iz)),s.magFilter!==void 0&&(f.magFilter=r(s.magFilter,iz)),s.anisotropy!==void 0&&(f.anisotropy=s.anisotropy),s.flipY!==void 0&&(f.flipY=s.flipY),s.generateMipmaps!==void 0&&(f.generateMipmaps=s.generateMipmaps),s.premultiplyAlpha!==void 0&&(f.premultiplyAlpha=s.premultiplyAlpha),s.unpackAlignment!==void 0&&(f.unpackAlignment=s.unpackAlignment),s.compareFunction!==void 0&&(f.compareFunction=s.compareFunction),s.userData!==void 0&&(f.userData=s.userData),i[s.uuid]=f}return i}parseObject(e,t,r,i,a){let o;function s(m){return t[m]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",m),t[m]}function l(m){if(m!==void 0){if(Array.isArray(m)){const v=[];for(let x=0,S=m.length;x<S;x++){const _=m[x];r[_]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",_),v.push(r[_])}return v}return r[m]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",m),r[m]}}function c(m){return i[m]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",m),i[m]}let f,d;switch(e.type){case"Scene":o=new Cb,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new ft(e.background):o.background=c(e.background)),e.environment!==void 0&&(o.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new PS(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new ES(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":o=new Or(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new xc(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new t6(e.color,e.intensity);break;case"DirectionalLight":o=new e6(e.color,e.intensity);break;case"PointLight":o=new Q8(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new n6(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new J8(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new Z8(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new i6().fromJSON(e);break;case"SkinnedMesh":f=s(e.geometry),d=l(e.material),o=new _8(f,d),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":f=s(e.geometry),d=l(e.material),o=new ei(f,d);break;case"InstancedMesh":f=s(e.geometry),d=l(e.material);const m=e.count,v=e.instanceMatrix,x=e.instanceColor;o=new b8(f,d,m),o.instanceMatrix=new rm(new Float32Array(v.array),16),x!==void 0&&(o.instanceColor=new rm(new Float32Array(x.array),x.itemSize));break;case"BatchedMesh":f=s(e.geometry),d=l(e.material),o=new S8(e.maxGeometryCount,e.maxVertexCount,e.maxIndexCount,d),o.geometry=f,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._visibility=e.visibility,o._active=e.active,o._bounds=e.bounds.map(S=>{const _=new pa;_.min.fromArray(S.boxMin),_.max.fromArray(S.boxMax);const b=new qi;return b.radius=S.sphereRadius,b.center.fromArray(S.sphereCenter),{boxInitialized:S.boxInitialized,box:_,sphereInitialized:S.sphereInitialized,sphere:b}}),o._maxGeometryCount=e.maxGeometryCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._geometryCount=e.geometryCount,o._matricesTexture=c(e.matricesTexture.uuid);break;case"LOD":o=new x8;break;case"Line":o=new Mc(s(e.geometry),l(e.material));break;case"LineLoop":o=new w8(s(e.geometry),l(e.material));break;case"LineSegments":o=new nl(s(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new M8(s(e.geometry),l(e.material));break;case"Sprite":o=new y8(l(e.material));break;case"Group":o=new vp;break;case"Bone":o=new nR;break;default:o=new Mn}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const m=e.children;for(let v=0;v<m.length;v++)o.add(this.parseObject(m[v],t,r,i,a))}if(e.animations!==void 0){const m=e.animations;for(let v=0;v<m.length;v++){const x=m[v];o.animations.push(a[x])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const m=e.levels;for(let v=0;v<m.length;v++){const x=m[v],S=o.getObjectByProperty("uuid",x.object);S!==void 0&&o.addLevel(S,x.distance,x.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=t[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const $pe={UVMapping:bS,CubeReflectionMapping:iu,CubeRefractionMapping:Sc,EquirectangularReflectionMapping:fy,EquirectangularRefractionMapping:hy,CubeUVReflectionMapping:vm},rz={RepeatWrapping:dy,ClampToEdgeWrapping:Hi,MirroredRepeatWrapping:py},iz={NearestFilter:Pr,NearestMipmapNearestFilter:Tb,NearestMipmapLinearFilter:mv,LinearFilter:Cr,LinearMipmapNearestFilter:LO,LinearMipmapLinearFilter:wc};class qpe extends Na{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,o=Kl.get(e);if(o!==void 0){if(a.manager.itemStart(e),o.then){o.then(c=>{t&&t(c),a.manager.itemEnd(e)}).catch(c=>{i&&i(c)});return}return setTimeout(function(){t&&t(o),a.manager.itemEnd(e)},0),o}const s={};s.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",s.headers=this.requestHeader;const l=fetch(e,s).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(a.options,{colorSpaceConversion:"none"}))}).then(function(c){return Kl.add(e,c),t&&t(c),a.manager.itemEnd(e),c}).catch(function(c){i&&i(c),Kl.remove(e),a.manager.itemError(e),a.manager.itemEnd(e)});Kl.add(e,l),a.manager.itemStart(e)}}let r_;class gR{static getContext(){return r_===void 0&&(r_=new(window.AudioContext||window.webkitAudioContext)),r_}static setContext(e){r_=e}}class Xpe extends Na{constructor(e){super(e)}load(e,t,r,i){const a=this,o=new au(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{const c=l.slice(0);gR.getContext().decodeAudioData(c,function(d){t(d)}).catch(s)}catch(c){s(c)}},r,i);function s(l){i?i(l):console.error(l),a.manager.itemError(e)}}}const az=new jt,oz=new jt,Lf=new jt;class Ype{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Or,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Or,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Lf.copy(e.projectionMatrix);const i=t.eyeSep/2,a=i*t.near/t.focus,o=t.near*Math.tan(fh*t.fov*.5)/t.zoom;let s,l;oz.elements[12]=-i,az.elements[12]=i,s=-o*t.aspect+a,l=o*t.aspect+a,Lf.elements[0]=2*t.near/(l-s),Lf.elements[8]=(l+s)/(l-s),this.cameraL.projectionMatrix.copy(Lf),s=-o*t.aspect-a,l=o*t.aspect-a,Lf.elements[0]=2*t.near/(l-s),Lf.elements[8]=(l+s)/(l-s),this.cameraR.projectionMatrix.copy(Lf)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(oz),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(az)}}class vR{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=sz(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=sz();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function sz(){return(typeof performance>"u"?Date:performance).now()}const Nf=new Q,lz=new Rr,Kpe=new Q,kf=new Q;class Zpe extends Mn{constructor(){super(),this.type="AudioListener",this.context=gR.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new vR}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Nf,lz,Kpe),kf.set(0,0,-1).applyQuaternion(lz),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Nf.x,i),t.positionY.linearRampToValueAtTime(Nf.y,i),t.positionZ.linearRampToValueAtTime(Nf.z,i),t.forwardX.linearRampToValueAtTime(kf.x,i),t.forwardY.linearRampToValueAtTime(kf.y,i),t.forwardZ.linearRampToValueAtTime(kf.z,i),t.upX.linearRampToValueAtTime(r.x,i),t.upY.linearRampToValueAtTime(r.y,i),t.upZ.linearRampToValueAtTime(r.z,i)}else t.setPosition(Nf.x,Nf.y,Nf.z),t.setOrientation(kf.x,kf.y,kf.z,r.x,r.y,r.z)}}class s6 extends Mn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Uf=new Q,uz=new Rr,Jpe=new Q,Ff=new Q;class Qpe extends s6{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Uf,uz,Jpe),Ff.set(0,0,1).applyQuaternion(uz);const t=this.panner;if(t.positionX){const r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Uf.x,r),t.positionY.linearRampToValueAtTime(Uf.y,r),t.positionZ.linearRampToValueAtTime(Uf.z,r),t.orientationX.linearRampToValueAtTime(Ff.x,r),t.orientationY.linearRampToValueAtTime(Ff.y,r),t.orientationZ.linearRampToValueAtTime(Ff.z,r)}else t.setPosition(Uf.x,Uf.y,Uf.z),t.setOrientation(Ff.x,Ff.y,Ff.z)}}class eme{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let r=0;r<t.length;r++)e+=t[r];return e/t.length}}class l6{constructor(e,t,r){this.binding=e,this.valueSize=r;let i,a,o;switch(t){case"quaternion":i=this._slerp,a=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,a=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,a=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=a,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const r=this.buffer,i=this.valueSize,a=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let s=0;s!==i;++s)r[a+s]=r[s];o=t}else{o+=t;const s=t/o;this._mixBufferRegion(r,a,0,s,i)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,r=this.buffer,i=e*t+t,a=this.cumulativeWeight,o=this.cumulativeWeightAdditive,s=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,a<1){const l=t*this._origIndex;this._mixBufferRegion(r,i,l,1-a,t)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*t,1,t);for(let l=t,c=t+t;l!==c;++l)if(r[l]!==r[l+t]){s.setValue(r,i);break}}saveOriginalState(){const e=this.binding,t=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(t,i);for(let a=r,o=i;a!==o;++a)t[a]=t[i+a%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let r=e;r<t;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]}_select(e,t,r,i,a){if(i>=.5)for(let o=0;o!==a;++o)e[t+o]=e[r+o]}_slerp(e,t,r,i){Rr.slerpFlat(e,t,e,t,e,r,i)}_slerpAdditive(e,t,r,i,a){const o=this._workIndex*a;Rr.multiplyQuaternionsFlat(e,o,e,t,e,r),Rr.slerpFlat(e,t,e,t,e,o,i)}_lerp(e,t,r,i,a){const o=1-i;for(let s=0;s!==a;++s){const l=t+s;e[l]=e[l]*o+e[r+s]*i}}_lerpAdditive(e,t,r,i,a){for(let o=0;o!==a;++o){const s=t+o;e[s]=e[s]+e[r+o]*i}}}const yR="\\[\\]\\.:\\/",tme=new RegExp("["+yR+"]","g"),xR="[^"+yR+"]",nme="[^"+yR.replace("\\.","")+"]",rme=/((?:WC+[\/:])*)/.source.replace("WC",xR),ime=/(WCOD+)?/.source.replace("WCOD",nme),ame=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",xR),ome=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",xR),sme=new RegExp("^"+rme+ime+ame+ome+"$"),lme=["material","materials","bones","map"];class ume{constructor(e,t,r){const i=r||bn.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,t)}setValue(e,t){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,a=r.length;i!==a;++i)r[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}class bn{constructor(e,t,r){this.path=t,this.parsedPath=r||bn.parseTrackName(t),this.node=bn.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,r){return e&&e.isAnimationObjectGroup?new bn.Composite(e,t,r):new bn(e,t,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(tme,"")}static parseTrackName(e){const t=sme.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const a=r.nodeName.substring(i+1);lme.indexOf(a)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=a)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(t);if(r!==void 0)return r}if(e.children){const r=function(a){for(let o=0;o<a.length;o++){const s=a[o];if(s.name===t||s.uuid===t)return s;const l=r(s.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)e[t++]=r[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)r[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)r[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)r[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,r=t.objectName,i=t.propertyName;let a=t.propertyIndex;if(e||(e=bn.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let c=t.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let f=0;f<e.length;f++)if(e[f].name===c){c=f;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[i];if(o===void 0){const c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let s=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?s=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(s=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(a!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[a]!==void 0&&(a=e.morphTargetDictionary[a])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=a}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][s]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}bn.Composite=ume;bn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};bn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};bn.prototype.GetterByBindingType=[bn.prototype._getValue_direct,bn.prototype._getValue_array,bn.prototype._getValue_arrayElement,bn.prototype._getValue_toArray];bn.prototype.SetterByBindingTypeAndVersioning=[[bn.prototype._setValue_direct,bn.prototype._setValue_direct_setNeedsUpdate,bn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[bn.prototype._setValue_array,bn.prototype._setValue_array_setNeedsUpdate,bn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[bn.prototype._setValue_arrayElement,bn.prototype._setValue_arrayElement_setNeedsUpdate,bn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[bn.prototype._setValue_fromArray,bn.prototype._setValue_fromArray_setNeedsUpdate,bn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class cme{constructor(){this.isAnimationObjectGroup=!0,this.uuid=ro(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,r=this._paths,i=this._parsedPaths,a=this._bindings,o=a.length;let s,l=e.length,c=this.nCachedObjects_;for(let f=0,d=arguments.length;f!==d;++f){const m=arguments[f],v=m.uuid;let x=t[v];if(x===void 0){x=l++,t[v]=x,e.push(m);for(let S=0,_=o;S!==_;++S)a[S].push(new bn(m,r[S],i[S]))}else if(x<c){s=e[x];const S=--c,_=e[S];t[_.uuid]=x,e[x]=_,t[v]=S,e[S]=m;for(let b=0,M=o;b!==M;++b){const T=a[b],E=T[S];let P=T[x];T[x]=E,P===void 0&&(P=new bn(m,r[b],i[b])),T[S]=P}}else e[x]!==s&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let a=this.nCachedObjects_;for(let o=0,s=arguments.length;o!==s;++o){const l=arguments[o],c=l.uuid,f=t[c];if(f!==void 0&&f>=a){const d=a++,m=e[d];t[m.uuid]=f,e[f]=m,t[c]=d,e[d]=l;for(let v=0,x=i;v!==x;++v){const S=r[v],_=S[d],b=S[f];S[f]=_,S[d]=b}}}this.nCachedObjects_=a}uncache(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let a=this.nCachedObjects_,o=e.length;for(let s=0,l=arguments.length;s!==l;++s){const c=arguments[s],f=c.uuid,d=t[f];if(d!==void 0)if(delete t[f],d<a){const m=--a,v=e[m],x=--o,S=e[x];t[v.uuid]=d,e[d]=v,t[S.uuid]=m,e[m]=S,e.pop();for(let _=0,b=i;_!==b;++_){const M=r[_],T=M[m],E=M[x];M[d]=T,M[m]=E,M.pop()}}else{const m=--o,v=e[m];m>0&&(t[v.uuid]=d),e[d]=v,e.pop();for(let x=0,S=i;x!==S;++x){const _=r[x];_[d]=_[m],_.pop()}}}this.nCachedObjects_=a}subscribe_(e,t){const r=this._bindingsIndicesByPath;let i=r[e];const a=this._bindings;if(i!==void 0)return a[i];const o=this._paths,s=this._parsedPaths,l=this._objects,c=l.length,f=this.nCachedObjects_,d=new Array(c);i=a.length,r[e]=i,o.push(e),s.push(t),a.push(d);for(let m=f,v=l.length;m!==v;++m){const x=l[m];d[m]=new bn(x,e,t)}return d}unsubscribe_(e){const t=this._bindingsIndicesByPath,r=t[e];if(r!==void 0){const i=this._paths,a=this._parsedPaths,o=this._bindings,s=o.length-1,l=o[s],c=e[s];t[c]=r,o[r]=l,o.pop(),a[r]=a[s],a.pop(),i[r]=i[s],i.pop()}}}class u6{constructor(e,t,r=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=r,this.blendMode=i;const a=t.tracks,o=a.length,s=new Array(o),l={endingStart:th,endingEnd:th};for(let c=0;c!==o;++c){const f=a[c].createInterpolant(null);s[c]=f,f.settings=l}this._interpolantSettings=l,this._interpolants=s,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=VW,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,r){if(e.fadeOut(t),this.fadeIn(t),r){const i=this._clip.duration,a=e._clip.duration,o=a/i,s=i/a;e.warp(1,o,t),this.warp(s,1,t)}return this}crossFadeTo(e,t,r){return e.crossFadeFrom(this,t,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,r){const i=this._mixer,a=i.time,o=this.timeScale;let s=this._timeScaleInterpolant;s===null&&(s=i._lendControlInterpolant(),this._timeScaleInterpolant=s);const l=s.parameterPositions,c=s.sampleValues;return l[0]=a,l[1]=a+r,c[0]=e/o,c[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,r,i){if(!this.enabled){this._updateWeight(e);return}const a=this._startTime;if(a!==null){const l=(e-a)*r;l<0||r===0?t=0:(this._startTime=null,t=r*l)}t*=this._updateTimeScale(e);const o=this._updateTime(t),s=this._updateWeight(e);if(s>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case VO:for(let f=0,d=l.length;f!==d;++f)l[f].evaluate(o),c[f].accumulateAdditive(s);break;case wS:default:for(let f=0,d=l.length;f!==d;++f)l[f].evaluate(o),c[f].accumulate(i,s)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,r=this.loop;let i=this.time+e,a=this._loopCount;const o=r===HW;if(e===0)return a===-1?i:o&&(a&1)===1?t-i:i;if(r===jW){a===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(a===-1&&(e>=0?(a=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=t||i<0){const s=Math.floor(i/t);i-=t*s,a+=Math.abs(s);const l=this.repetitions-a;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=a,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:s})}}else this.time=i;if(o&&(a&1)===1)return t-i}return i}_setEndings(e,t,r){const i=this._interpolantSettings;r?(i.endingStart=nh,i.endingEnd=nh):(e?i.endingStart=this.zeroSlopeAtStart?nh:th:i.endingStart=vy,t?i.endingEnd=this.zeroSlopeAtEnd?nh:th:i.endingEnd=vy)}_scheduleFading(e,t,r){const i=this._mixer,a=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const s=o.parameterPositions,l=o.sampleValues;return s[0]=a,l[0]=t,s[1]=a+e,l[1]=r,this}}const fme=new Float32Array(1);class hme extends pu{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const r=e._localRoot||this._root,i=e._clip.tracks,a=i.length,o=e._propertyBindings,s=e._interpolants,l=r.uuid,c=this._bindingsByRootAndName;let f=c[l];f===void 0&&(f={},c[l]=f);for(let d=0;d!==a;++d){const m=i[d],v=m.name;let x=f[v];if(x!==void 0)++x.referenceCount,o[d]=x;else{if(x=o[d],x!==void 0){x._cacheIndex===null&&(++x.referenceCount,this._addInactiveBinding(x,l,v));continue}const S=t&&t._propertyBindings[d].binding.parsedPath;x=new l6(bn.create(r,v,S),m.ValueTypeName,m.getValueSize()),++x.referenceCount,this._addInactiveBinding(x,l,v),o[d]=x}s[d].resultBuffer=x.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,a=this._actionsByClip[i];this._bindAction(e,a&&a.knownActions[0]),this._addInactiveAction(e,i,r)}const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const a=t[r];a.useCount++===0&&(this._lendBinding(a),a.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const a=t[r];--a.useCount===0&&(a.restoreOriginalState(),this._takeBackBinding(a))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,r){const i=this._actions,a=this._actionsByClip;let o=a[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,a[t]=o;else{const s=o.knownActions;e._byClipCacheIndex=s.length,s.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const t=this._actions,r=t[t.length-1],i=e._cacheIndex;r._cacheIndex=i,t[i]=r,t.pop(),e._cacheIndex=null;const a=e._clip.uuid,o=this._actionsByClip,s=o[a],l=s.knownActions,c=l[l.length-1],f=e._byClipCacheIndex;c._byClipCacheIndex=f,l[f]=c,l.pop(),e._byClipCacheIndex=null;const d=s.actionByRoot,m=(e._localRoot||this._root).uuid;delete d[m],l.length===0&&delete o[a],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const a=t[r];--a.referenceCount===0&&this._removeInactiveBinding(a)}}_lendAction(e){const t=this._actions,r=e._cacheIndex,i=this._nActiveActions++,a=t[i];e._cacheIndex=i,t[i]=e,a._cacheIndex=r,t[r]=a}_takeBackAction(e){const t=this._actions,r=e._cacheIndex,i=--this._nActiveActions,a=t[i];e._cacheIndex=i,t[i]=e,a._cacheIndex=r,t[r]=a}_addInactiveBinding(e,t,r){const i=this._bindingsByRootAndName,a=this._bindings;let o=i[t];o===void 0&&(o={},i[t]=o),o[r]=e,e._cacheIndex=a.length,a.push(e)}_removeInactiveBinding(e){const t=this._bindings,r=e.binding,i=r.rootNode.uuid,a=r.path,o=this._bindingsByRootAndName,s=o[i],l=t[t.length-1],c=e._cacheIndex;l._cacheIndex=c,t[c]=l,t.pop(),delete s[a],Object.keys(s).length===0&&delete o[i]}_lendBinding(e){const t=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,a=t[i];e._cacheIndex=i,t[i]=e,a._cacheIndex=r,t[r]=a}_takeBackBinding(e){const t=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,a=t[i];e._cacheIndex=i,t[i]=e,a._cacheIndex=r,t[r]=a}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let r=e[t];return r===void 0&&(r=new hR(new Float32Array(2),new Float32Array(2),1,fme),r.__cacheIndex=t,e[t]=r),r}_takeBackControlInterpolant(e){const t=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,a=t[i];e.__cacheIndex=i,t[i]=e,a.__cacheIndex=r,t[r]=a}clipAction(e,t,r){const i=t||this._root,a=i.uuid;let o=typeof e=="string"?Cy.findByName(i,e):e;const s=o!==null?o.uuid:e,l=this._actionsByClip[s];let c=null;if(r===void 0&&(o!==null?r=o.blendMode:r=wS),l!==void 0){const d=l.actionByRoot[a];if(d!==void 0&&d.blendMode===r)return d;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const f=new u6(this,o,t,r);return this._bindAction(f,c),this._addInactiveAction(f,s,a),f}existingAction(e,t){const r=t||this._root,i=r.uuid,a=typeof e=="string"?Cy.findByName(r,e):e,o=a?a.uuid:e,s=this._actionsByClip[o];return s!==void 0&&s.actionByRoot[i]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let r=t-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const t=this._actions,r=this._nActiveActions,i=this.time+=e,a=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==r;++c)t[c]._update(i,e,a,o);const s=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)s[c].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,r=e.uuid,i=this._actionsByClip,a=i[r];if(a!==void 0){const o=a.knownActions;for(let s=0,l=o.length;s!==l;++s){const c=o[s];this._deactivateAction(c);const f=c._cacheIndex,d=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,d._cacheIndex=f,t[f]=d,t.pop(),this._removeInactiveBindingsForAction(c)}delete i[r]}}uncacheRoot(e){const t=e.uuid,r=this._actionsByClip;for(const o in r){const s=r[o].actionByRoot,l=s[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,a=i[t];if(a!==void 0)for(const o in a){const s=a[o];s.restoreOriginalState(),this._removeInactiveBinding(s)}}uncacheAction(e,t){const r=this.existingAction(e,t);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class _R{constructor(e){this.value=e}clone(){return new _R(this.value.clone===void 0?this.value:this.value.clone())}}let dme=0;class pme extends pu{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:dme++}),this.name="",this.usage=by,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let r=0,i=t.length;r<i;r++){const a=Array.isArray(t[r])?t[r]:[t[r]];for(let o=0;o<a.length;o++)this.uniforms.push(a[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class mme extends CS{constructor(e,t,r=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class gme{constructor(e,t,r,i,a){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=r,this.elementSize=i,this.count=a,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class c6{constructor(e,t,r=0,i=1/0){this.ray=new Ph(e,t),this.near=r,this.far=i,this.camera=null,this.layers=new hh,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,r=[]){return r2(e,this,r,t),r.sort(cz),r}intersectObjects(e,t=!0,r=[]){for(let i=0,a=e.length;i<a;i++)r2(e[i],this,r,t);return r.sort(cz),r}}function cz(n,e){return n.distance-e.distance}function r2(n,e,t,r){if(n.layers.test(e.layers)&&n.raycast(e,t),r===!0){const i=n.children;for(let a=0,o=i.length;a<o;a++)r2(i[a],e,t,!0)}}class Ry{constructor(e=1,t=0,r=0){return this.radius=e,this.phi=t,this.theta=r,this}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(br(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class vme{constructor(e=1,t=0,r=0){return this.radius=e,this.theta=t,this.y=r,this}set(e,t,r){return this.radius=e,this.theta=t,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=t,this}clone(){return new this.constructor().copy(this)}}const fz=new Ie;class yme{constructor(e=new Ie(1/0,1/0),t=new Ie(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=fz.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,fz).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const hz=new Q,i_=new Q;class xme{constructor(e=new Q,t=new Q){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){hz.subVectors(e,this.start),i_.subVectors(this.end,this.start);const r=i_.dot(i_);let a=i_.dot(hz)/r;return t&&(a=br(a,0,1)),a}closestPointToPoint(e,t,r){const i=this.closestPointToPointParameter(e,t);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const dz=new Q;class _me extends Mn{constructor(e,t){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const r=new cn,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,s=1,l=32;o<l;o++,s++){const c=o/l*Math.PI*2,f=s/l*Math.PI*2;i.push(Math.cos(c),Math.sin(c),1,Math.cos(f),Math.sin(f),1)}r.setAttribute("position",new At(i,3));const a=new ma({fog:!1,toneMapped:!1});this.cone=new nl(r,a),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),dz.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(dz),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const nc=new Q,a_=new jt,mE=new jt;class bme extends nl{constructor(e){const t=f6(e),r=new cn,i=[],a=[],o=new ft(0,0,1),s=new ft(0,1,0);for(let c=0;c<t.length;c++){const f=t[c];f.parent&&f.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),a.push(o.r,o.g,o.b),a.push(s.r,s.g,s.b))}r.setAttribute("position",new At(i,3)),r.setAttribute("color",new At(a,3));const l=new ma({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,r=this.geometry,i=r.getAttribute("position");mE.copy(this.root.matrixWorld).invert();for(let a=0,o=0;a<t.length;a++){const s=t[a];s.parent&&s.parent.isBone&&(a_.multiplyMatrices(mE,s.matrixWorld),nc.setFromMatrixPosition(a_),i.setXYZ(o,nc.x,nc.y,nc.z),a_.multiplyMatrices(mE,s.parent.matrixWorld),nc.setFromMatrixPosition(a_),i.setXYZ(o+1,nc.x,nc.y,nc.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function f6(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,f6(n.children[t]));return e}class Sme extends ei{constructor(e,t,r){const i=new r0(t,4,2),a=new Lc({wireframe:!0,fog:!1,toneMapped:!1});super(i,a),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const wme=new Q,pz=new ft,mz=new ft;class Mme extends Mn{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new n0(t);i.rotateY(Math.PI*.5),this.material=new Lc({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const a=i.getAttribute("position"),o=new Float32Array(a.count*3);i.setAttribute("color",new Dn(o,3)),this.add(new ei(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");pz.copy(this.light.color),mz.copy(this.light.groundColor);for(let r=0,i=t.count;r<i;r++){const a=r<i/2?pz:mz;t.setXYZ(r,a.r,a.g,a.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(wme.setFromMatrixPosition(this.light.matrixWorld).negate())}}class Ame extends nl{constructor(e=10,t=10,r=4473924,i=8947848){r=new ft(r),i=new ft(i);const a=t/2,o=e/t,s=e/2,l=[],c=[];for(let m=0,v=0,x=-s;m<=t;m++,x+=o){l.push(-s,0,x,s,0,x),l.push(x,0,-s,x,0,s);const S=m===a?r:i;S.toArray(c,v),v+=3,S.toArray(c,v),v+=3,S.toArray(c,v),v+=3,S.toArray(c,v),v+=3}const f=new cn;f.setAttribute("position",new At(l,3)),f.setAttribute("color",new At(c,3));const d=new ma({vertexColors:!0,toneMapped:!1});super(f,d),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class Tme extends nl{constructor(e=10,t=16,r=8,i=64,a=4473924,o=8947848){a=new ft(a),o=new ft(o);const s=[],l=[];if(t>1)for(let d=0;d<t;d++){const m=d/t*(Math.PI*2),v=Math.sin(m)*e,x=Math.cos(m)*e;s.push(0,0,0),s.push(v,0,x);const S=d&1?a:o;l.push(S.r,S.g,S.b),l.push(S.r,S.g,S.b)}for(let d=0;d<r;d++){const m=d&1?a:o,v=e-e/r*d;for(let x=0;x<i;x++){let S=x/i*(Math.PI*2),_=Math.sin(S)*v,b=Math.cos(S)*v;s.push(_,0,b),l.push(m.r,m.g,m.b),S=(x+1)/i*(Math.PI*2),_=Math.sin(S)*v,b=Math.cos(S)*v,s.push(_,0,b),l.push(m.r,m.g,m.b)}}const c=new cn;c.setAttribute("position",new At(s,3)),c.setAttribute("color",new At(l,3));const f=new ma({vertexColors:!0,toneMapped:!1});super(c,f),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const gz=new Q,o_=new Q,vz=new Q;class Eme extends Mn{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",t===void 0&&(t=1);let i=new cn;i.setAttribute("position",new At([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const a=new ma({fog:!1,toneMapped:!1});this.lightPlane=new Mc(i,a),this.add(this.lightPlane),i=new cn,i.setAttribute("position",new At([0,0,0,0,0,1],3)),this.targetLine=new Mc(i,a),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),gz.setFromMatrixPosition(this.light.matrixWorld),o_.setFromMatrixPosition(this.light.target.matrixWorld),vz.subVectors(o_,gz),this.lightPlane.lookAt(o_),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(o_),this.targetLine.scale.z=vz.length()}}const s_=new Q,xr=new Zy;class Pme extends nl{constructor(e){const t=new cn,r=new ma({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],a=[],o={};s("n1","n2"),s("n2","n4"),s("n4","n3"),s("n3","n1"),s("f1","f2"),s("f2","f4"),s("f4","f3"),s("f3","f1"),s("n1","f1"),s("n2","f2"),s("n3","f3"),s("n4","f4"),s("p","n1"),s("p","n2"),s("p","n3"),s("p","n4"),s("u1","u2"),s("u2","u3"),s("u3","u1"),s("c","t"),s("p","c"),s("cn1","cn2"),s("cn3","cn4"),s("cf1","cf2"),s("cf3","cf4");function s(x,S){l(x),l(S)}function l(x){i.push(0,0,0),a.push(0,0,0),o[x]===void 0&&(o[x]=[]),o[x].push(i.length/3-1)}t.setAttribute("position",new At(i,3)),t.setAttribute("color",new At(a,3)),super(t,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const c=new ft(16755200),f=new ft(16711680),d=new ft(43775),m=new ft(16777215),v=new ft(3355443);this.setColors(c,f,d,m,v)}setColors(e,t,r,i,a){const s=this.geometry.getAttribute("color");s.setXYZ(0,e.r,e.g,e.b),s.setXYZ(1,e.r,e.g,e.b),s.setXYZ(2,e.r,e.g,e.b),s.setXYZ(3,e.r,e.g,e.b),s.setXYZ(4,e.r,e.g,e.b),s.setXYZ(5,e.r,e.g,e.b),s.setXYZ(6,e.r,e.g,e.b),s.setXYZ(7,e.r,e.g,e.b),s.setXYZ(8,e.r,e.g,e.b),s.setXYZ(9,e.r,e.g,e.b),s.setXYZ(10,e.r,e.g,e.b),s.setXYZ(11,e.r,e.g,e.b),s.setXYZ(12,e.r,e.g,e.b),s.setXYZ(13,e.r,e.g,e.b),s.setXYZ(14,e.r,e.g,e.b),s.setXYZ(15,e.r,e.g,e.b),s.setXYZ(16,e.r,e.g,e.b),s.setXYZ(17,e.r,e.g,e.b),s.setXYZ(18,e.r,e.g,e.b),s.setXYZ(19,e.r,e.g,e.b),s.setXYZ(20,e.r,e.g,e.b),s.setXYZ(21,e.r,e.g,e.b),s.setXYZ(22,e.r,e.g,e.b),s.setXYZ(23,e.r,e.g,e.b),s.setXYZ(24,t.r,t.g,t.b),s.setXYZ(25,t.r,t.g,t.b),s.setXYZ(26,t.r,t.g,t.b),s.setXYZ(27,t.r,t.g,t.b),s.setXYZ(28,t.r,t.g,t.b),s.setXYZ(29,t.r,t.g,t.b),s.setXYZ(30,t.r,t.g,t.b),s.setXYZ(31,t.r,t.g,t.b),s.setXYZ(32,r.r,r.g,r.b),s.setXYZ(33,r.r,r.g,r.b),s.setXYZ(34,r.r,r.g,r.b),s.setXYZ(35,r.r,r.g,r.b),s.setXYZ(36,r.r,r.g,r.b),s.setXYZ(37,r.r,r.g,r.b),s.setXYZ(38,i.r,i.g,i.b),s.setXYZ(39,i.r,i.g,i.b),s.setXYZ(40,a.r,a.g,a.b),s.setXYZ(41,a.r,a.g,a.b),s.setXYZ(42,a.r,a.g,a.b),s.setXYZ(43,a.r,a.g,a.b),s.setXYZ(44,a.r,a.g,a.b),s.setXYZ(45,a.r,a.g,a.b),s.setXYZ(46,a.r,a.g,a.b),s.setXYZ(47,a.r,a.g,a.b),s.setXYZ(48,a.r,a.g,a.b),s.setXYZ(49,a.r,a.g,a.b),s.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,r=1,i=1;xr.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Er("c",t,e,xr,0,0,-1),Er("t",t,e,xr,0,0,1),Er("n1",t,e,xr,-r,-i,-1),Er("n2",t,e,xr,r,-i,-1),Er("n3",t,e,xr,-r,i,-1),Er("n4",t,e,xr,r,i,-1),Er("f1",t,e,xr,-r,-i,1),Er("f2",t,e,xr,r,-i,1),Er("f3",t,e,xr,-r,i,1),Er("f4",t,e,xr,r,i,1),Er("u1",t,e,xr,r*.7,i*1.1,-1),Er("u2",t,e,xr,-r*.7,i*1.1,-1),Er("u3",t,e,xr,0,i*2,-1),Er("cf1",t,e,xr,-r,0,1),Er("cf2",t,e,xr,r,0,1),Er("cf3",t,e,xr,0,-i,1),Er("cf4",t,e,xr,0,i,1),Er("cn1",t,e,xr,-r,0,-1),Er("cn2",t,e,xr,r,0,-1),Er("cn3",t,e,xr,0,-i,-1),Er("cn4",t,e,xr,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Er(n,e,t,r,i,a,o){s_.set(i,a,o).unproject(r);const s=e[n];if(s!==void 0){const l=t.getAttribute("position");for(let c=0,f=s.length;c<f;c++)l.setXYZ(s[c],s_.x,s_.y,s_.z)}}const l_=new pa;class Cme extends nl{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(24),a=new cn;a.setIndex(new Dn(r,1)),a.setAttribute("position",new Dn(i,3)),super(a,new ma({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&l_.setFromObject(this.object),l_.isEmpty())return;const t=l_.min,r=l_.max,i=this.geometry.attributes.position,a=i.array;a[0]=r.x,a[1]=r.y,a[2]=r.z,a[3]=t.x,a[4]=r.y,a[5]=r.z,a[6]=t.x,a[7]=t.y,a[8]=r.z,a[9]=r.x,a[10]=t.y,a[11]=r.z,a[12]=r.x,a[13]=r.y,a[14]=t.z,a[15]=t.x,a[16]=r.y,a[17]=t.z,a[18]=t.x,a[19]=t.y,a[20]=t.z,a[21]=r.x,a[22]=t.y,a[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Ome extends nl{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],a=new cn;a.setIndex(new Dn(r,1)),a.setAttribute("position",new At(i,3)),super(a,new ma({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class Rme extends Mc{constructor(e,t=1,r=16776960){const i=r,a=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new cn;o.setAttribute("position",new At(a,3)),o.computeBoundingSphere(),super(o,new ma({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const s=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new cn;l.setAttribute("position",new At(s,3)),l.computeBoundingSphere(),this.add(new ei(l,new Lc({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const yz=new Q;let u_,gE;class Ime extends Mn{constructor(e=new Q(0,0,1),t=new Q(0,0,0),r=1,i=16776960,a=r*.2,o=a*.2){super(),this.type="ArrowHelper",u_===void 0&&(u_=new cn,u_.setAttribute("position",new At([0,0,0,0,1,0],3)),gE=new _m(0,.5,1,5,1),gE.translate(0,-.5,0)),this.position.copy(t),this.line=new Mc(u_,new ma({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new ei(gE,new Lc({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,a,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{yz.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(yz,t)}}setLength(e,t=e*.2,r=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(r,t,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class Dme extends nl{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new cn;i.setAttribute("position",new At(t,3)),i.setAttribute("color",new At(r,3));const a=new ma({vertexColors:!0,toneMapped:!1});super(i,a),this.type="AxesHelper"}setColors(e,t,r){const i=new ft,a=this.geometry.attributes.color.array;return i.set(e),i.toArray(a,0),i.toArray(a,3),i.set(t),i.toArray(a,6),i.toArray(a,9),i.set(r),i.toArray(a,12),i.toArray(a,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Lme{constructor(){this.type="ShapePath",this.color=new ft,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new wy,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,r,i){return this.currentPath.quadraticCurveTo(e,t,r,i),this}bezierCurveTo(e,t,r,i,a,o){return this.currentPath.bezierCurveTo(e,t,r,i,a,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(b){const M=[];for(let T=0,E=b.length;T<E;T++){const P=b[T],R=new ph;R.curves=P.curves,M.push(R)}return M}function r(b,M){const T=M.length;let E=!1;for(let P=T-1,R=0;R<T;P=R++){let I=M[P],U=M[R],N=U.x-I.x,k=U.y-I.y;if(Math.abs(k)>Number.EPSILON){if(k<0&&(I=M[R],N=-N,U=M[P],k=-k),b.y<I.y||b.y>U.y)continue;if(b.y===I.y){if(b.x===I.x)return!0}else{const z=k*(b.x-I.x)-N*(b.y-I.y);if(z===0)return!0;if(z<0)continue;E=!E}}else{if(b.y!==I.y)continue;if(U.x<=b.x&&b.x<=I.x||I.x<=b.x&&b.x<=U.x)return!0}}return E}const i=Ys.isClockWise,a=this.subPaths;if(a.length===0)return[];let o,s,l;const c=[];if(a.length===1)return s=a[0],l=new ph,l.curves=s.curves,c.push(l),c;let f=!i(a[0].getPoints());f=e?!f:f;const d=[],m=[];let v=[],x=0,S;m[x]=void 0,v[x]=[];for(let b=0,M=a.length;b<M;b++)s=a[b],S=s.getPoints(),o=i(S),o=e?!o:o,o?(!f&&m[x]&&x++,m[x]={s:new ph,p:S},m[x].s.curves=s.curves,f&&x++,v[x]=[]):v[x].push({h:s,p:S[0]});if(!m[0])return t(a);if(m.length>1){let b=!1,M=0;for(let T=0,E=m.length;T<E;T++)d[T]=[];for(let T=0,E=m.length;T<E;T++){const P=v[T];for(let R=0;R<P.length;R++){const I=P[R];let U=!0;for(let N=0;N<m.length;N++)r(I.p,m[N].p)&&(T!==N&&M++,U?(U=!1,d[N].push(I)):b=!0);U&&d[T].push(I)}}M>0&&b===!1&&(v=d)}let _;for(let b=0,M=m.length;b<M;b++){l=m[b].s,c.push(l),_=v[b];for(let T=0,E=_.length;T<E;T++)l.holes.push(_[T].h)}return c}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Xy}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Xy);const Nme=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:DO,AddEquation:cc,AddOperation:TW,AdditiveAnimationBlendMode:VO,AdditiveBlending:uy,AgXToneMapping:RW,AlphaFormat:NW,AlwaysCompare:QW,AlwaysDepth:xW,AlwaysStencilFunc:qC,AmbientLight:t6,AnimationAction:u6,AnimationClip:Cy,AnimationLoader:Fpe,AnimationMixer:hme,AnimationObjectGroup:cme,AnimationUtils:Lpe,ArcCurve:A8,ArrayCamera:m8,ArrowHelper:Ime,AttachedBindMode:bC,Audio:s6,AudioAnalyser:eme,AudioContext:gR,AudioListener:Zpe,AudioLoader:Xpe,AxesHelper:Dme,BackSide:$i,BasicDepthPacking:WW,BasicShadowMap:tW,BatchedMesh:S8,Bone:nR,BooleanKeyframeTrack:Oh,Box2:yme,Box3:pa,Box3Helper:Ome,BoxGeometry:Ch,BoxHelper:Cme,BufferAttribute:Dn,BufferGeometry:cn,BufferGeometryLoader:o6,ByteType:DW,Cache:Kl,Camera:Zy,CameraHelper:Pme,CanvasTexture:ipe,CapsuleGeometry:DS,CatmullRomCurve3:T8,CineonToneMapping:CW,CircleGeometry:LS,ClampToEdgeWrapping:Hi,Clock:vR,Color:ft,ColorKeyframeTrack:dR,ColorManagement:In,CompressedArrayTexture:npe,CompressedCubeTexture:rpe,CompressedTexture:RS,CompressedTextureLoader:Bpe,ConeGeometry:NS,ConstantAlphaFactor:gW,ConstantColorFactor:pW,CubeCamera:o8,CubeReflectionMapping:iu,CubeRefractionMapping:Sc,CubeTexture:Jy,CubeTextureLoader:zpe,CubeUVReflectionMapping:vm,CubicBezierCurve:aR,CubicBezierCurve3:E8,CubicInterpolant:$8,CullFaceBack:gC,CullFaceFront:eW,CullFaceFrontBack:Gse,CullFaceNone:QH,Curve:As,CurvePath:C8,CustomBlending:nW,CustomToneMapping:OW,CylinderGeometry:_m,Cylindrical:vme,Data3DTexture:qO,DataArrayTexture:AS,DataTexture:dh,DataTextureLoader:jpe,DataUtils:tue,DecrementStencilOp:rle,DecrementWrapStencilOp:ale,DefaultLoadingManager:Y8,DepthFormat:vc,DepthStencilFormat:bh,DepthTexture:ZO,DetachedBindMode:IW,DirectionalLight:e6,DirectionalLightHelper:Eme,DiscreteInterpolant:q8,DisplayP3ColorSpace:MS,DodecahedronGeometry:kS,DoubleSide:vs,DstAlphaFactor:uW,DstColorFactor:fW,DynamicCopyUsage:_le,DynamicDrawUsage:ple,DynamicReadUsage:vle,EdgesGeometry:O8,EllipseCurve:IS,EqualCompare:YW,EqualDepth:bW,EqualStencilFunc:ule,EquirectangularReflectionMapping:fy,EquirectangularRefractionMapping:hy,Euler:ym,EventDispatcher:pu,ExtrudeGeometry:FS,FileLoader:au,Float16BufferAttribute:sue,Float32BufferAttribute:At,Float64BufferAttribute:lue,FloatType:ys,Fog:PS,FogExp2:ES,FramebufferTexture:tpe,FrontSide:ru,Frustum:Qy,GLBufferAttribute:gme,GLSL1:Sle,GLSL3:XC,GreaterCompare:KW,GreaterDepth:wW,GreaterEqualCompare:JW,GreaterEqualDepth:SW,GreaterEqualStencilFunc:dle,GreaterStencilFunc:fle,GridHelper:Ame,Group:vp,HalfFloatType:Qp,HemisphereLight:Z8,HemisphereLightHelper:Mme,IcosahedronGeometry:BS,ImageBitmapLoader:qpe,ImageLoader:Oy,ImageUtils:$O,IncrementStencilOp:nle,IncrementWrapStencilOp:ile,InstancedBufferAttribute:rm,InstancedBufferGeometry:a6,InstancedInterleavedBuffer:mme,InstancedMesh:b8,Int16BufferAttribute:aue,Int32BufferAttribute:oue,Int8BufferAttribute:nue,IntType:NO,InterleavedBuffer:CS,InterleavedBufferAttribute:Sh,Interpolant:i0,InterpolateDiscrete:my,InterpolateLinear:gy,InterpolateSmooth:w_,InvertStencilOp:ole,KeepStencilOp:Gf,KeyframeTrack:Ts,LOD:x8,LatheGeometry:t0,Layers:hh,LessCompare:XW,LessDepth:_W,LessEqualCompare:WO,LessEqualDepth:cy,LessEqualStencilFunc:cle,LessStencilFunc:lle,Light:kc,LightProbe:i6,Line:Mc,Line3:xme,LineBasicMaterial:ma,LineCurve:oR,LineCurve3:P8,LineDashedMaterial:H8,LineLoop:w8,LineSegments:nl,LinearDisplayP3ColorSpace:Ky,LinearEncoding:HO,LinearFilter:Cr,LinearInterpolant:hR,LinearMipMapLinearFilter:Kse,LinearMipMapNearestFilter:Yse,LinearMipmapLinearFilter:wc,LinearMipmapNearestFilter:LO,LinearSRGBColorSpace:Qs,LinearToneMapping:EW,LinearTransfer:yy,Loader:Na,LoaderUtils:n2,LoadingManager:pR,LoopOnce:jW,LoopPingPong:HW,LoopRepeat:VW,LuminanceAlphaFormat:UW,LuminanceFormat:kW,MOUSE:Hf,Material:Ci,MaterialLoader:$S,MathUtils:Ule,Matrix3:fn,Matrix4:jt,MaxEquation:_C,Mesh:ei,MeshBasicMaterial:Lc,MeshDepthMaterial:JO,MeshDistanceMaterial:QO,MeshLambertMaterial:j8,MeshMatcapMaterial:V8,MeshNormalMaterial:z8,MeshPhongMaterial:F8,MeshPhysicalMaterial:U8,MeshStandardMaterial:cR,MeshToonMaterial:B8,MinEquation:xC,MirroredRepeatWrapping:py,MixOperation:AW,MultiplyBlending:yC,MultiplyOperation:Yy,NearestFilter:Pr,NearestMipMapLinearFilter:Xse,NearestMipMapNearestFilter:qse,NearestMipmapLinearFilter:mv,NearestMipmapNearestFilter:Tb,NeverCompare:qW,NeverDepth:yW,NeverStencilFunc:sle,NoBlending:Ql,NoColorSpace:Qa,NoToneMapping:qs,NormalAnimationBlendMode:wS,NormalBlending:ch,NotEqualCompare:ZW,NotEqualDepth:MW,NotEqualStencilFunc:hle,NumberKeyframeTrack:Ey,Object3D:Mn,ObjectLoader:Gpe,ObjectSpaceNormalMap:$W,OctahedronGeometry:n0,OneFactor:oW,OneMinusConstantAlphaFactor:vW,OneMinusConstantColorFactor:mW,OneMinusDstAlphaFactor:cW,OneMinusDstColorFactor:hW,OneMinusSrcAlphaFactor:Ab,OneMinusSrcColorFactor:lW,OrthographicCamera:xc,P3Primaries:_y,PCFShadowMap:_S,PCFSoftShadowMap:pv,PMREMGenerator:KC,Path:wy,PerspectiveCamera:Or,Plane:Hl,PlaneGeometry:e0,PlaneHelper:Rme,PointLight:Q8,PointLightHelper:Sme,Points:M8,PointsMaterial:rR,PolarGridHelper:Tme,PolyhedronGeometry:Nc,PositionalAudio:Qpe,PropertyBinding:bn,PropertyMixer:l6,QuadraticBezierCurve:sR,QuadraticBezierCurve3:lR,Quaternion:Rr,QuaternionKeyframeTrack:bm,QuaternionLinearInterpolant:X8,RED_GREEN_RGTC2_Format:GC,RED_RGTC1_Format:zW,REVISION:Xy,RGBADepthPacking:GW,RGBAFormat:la,RGBAIntegerFormat:zO,RGBA_ASTC_10x10_Format:BC,RGBA_ASTC_10x5_Format:kC,RGBA_ASTC_10x6_Format:UC,RGBA_ASTC_10x8_Format:FC,RGBA_ASTC_12x10_Format:zC,RGBA_ASTC_12x12_Format:jC,RGBA_ASTC_4x4_Format:PC,RGBA_ASTC_5x4_Format:CC,RGBA_ASTC_5x5_Format:OC,RGBA_ASTC_6x5_Format:RC,RGBA_ASTC_6x6_Format:IC,RGBA_ASTC_8x5_Format:DC,RGBA_ASTC_8x6_Format:LC,RGBA_ASTC_8x8_Format:NC,RGBA_BPTC_Format:S_,RGBA_ETC2_EAC_Format:EC,RGBA_PVRTC_2BPPV1_Format:AC,RGBA_PVRTC_4BPPV1_Format:MC,RGBA_S3TC_DXT1_Format:x_,RGBA_S3TC_DXT3_Format:__,RGBA_S3TC_DXT5_Format:b_,RGB_BPTC_SIGNED_Format:VC,RGB_BPTC_UNSIGNED_Format:HC,RGB_ETC1_Format:jO,RGB_ETC2_Format:TC,RGB_PVRTC_2BPPV1_Format:wC,RGB_PVRTC_4BPPV1_Format:SC,RGB_S3TC_DXT1_Format:y_,RGFormat:BW,RGIntegerFormat:BO,RawShaderMaterial:k8,Ray:Ph,Raycaster:c6,Rec709Primaries:xy,RectAreaLight:n6,RedFormat:FW,RedIntegerFormat:FO,ReinhardToneMapping:PW,RenderTarget:n8,RepeatWrapping:dy,ReplaceStencilOp:tle,ReverseSubtractEquation:iW,RingGeometry:zS,SIGNED_RED_GREEN_RGTC2_Format:$C,SIGNED_RED_RGTC1_Format:WC,SRGBColorSpace:Jr,SRGBTransfer:qn,Scene:Cb,ShaderChunk:sn,ShaderLib:ms,ShaderMaterial:ws,ShadowMaterial:N8,Shape:ph,ShapeGeometry:jS,ShapePath:Lme,ShapeUtils:Ys,ShortType:LW,Skeleton:OS,SkeletonHelper:bme,SkinnedMesh:_8,Source:rh,Sphere:qi,SphereGeometry:r0,Spherical:Ry,SphericalHarmonics3:r6,SplineCurve:uR,SpotLight:J8,SpotLightHelper:_me,Sprite:y8,SpriteMaterial:tR,SrcAlphaFactor:Mb,SrcAlphaSaturateFactor:dW,SrcColorFactor:sW,StaticCopyUsage:xle,StaticDrawUsage:by,StaticReadUsage:gle,StereoCamera:Ype,StreamCopyUsage:ble,StreamDrawUsage:mle,StreamReadUsage:yle,StringKeyframeTrack:Rh,SubtractEquation:rW,SubtractiveBlending:vC,TOUCH:Wf,TangentSpaceNormalMap:Dc,TetrahedronGeometry:VS,Texture:Sr,TextureLoader:K8,TorusGeometry:HS,TorusKnotGeometry:WS,Triangle:Ca,TriangleFanDrawMode:Qse,TriangleStripDrawMode:Jse,TrianglesDrawMode:Zse,TubeGeometry:GS,TwoPassDoubleSide:$se,UVMapping:bS,Uint16BufferAttribute:XO,Uint32BufferAttribute:YO,Uint8BufferAttribute:rue,Uint8ClampedBufferAttribute:iue,Uniform:_R,UniformsGroup:pme,UniformsLib:nt,UniformsUtils:a8,UnsignedByteType:Xs,UnsignedInt248Type:gc,UnsignedIntType:Yl,UnsignedShort4444Type:kO,UnsignedShort5551Type:UO,UnsignedShortType:SS,VSMShadowMap:fs,Vector2:Ie,Vector3:Q,Vector4:Sn,VectorKeyframeTrack:Py,VideoTexture:epe,WebGL1Renderer:g8,WebGL3DRenderTarget:Hle,WebGLArrayRenderTarget:Vle,WebGLCoordinateSystem:xs,WebGLCubeRenderTarget:s8,WebGLMultipleRenderTargets:Wle,WebGLRenderTarget:Ss,WebGLRenderer:eR,WebGLUtils:p8,WebGPUCoordinateSystem:em,WireframeGeometry:L8,WrapAroundEnding:vy,ZeroCurvatureEnding:th,ZeroFactor:aW,ZeroSlopeEnding:nh,ZeroStencilOp:ele,_SRGBAFormat:Eb,createCanvasElement:t8,sRGBEncoding:yc},Symbol.toStringTag,{value:"Module"}));var vE={exports:{}},rc={};var xz;function kme(){return xz||(xz=1,rc.ConcurrentRoot=1,rc.ContinuousEventPriority=4,rc.DefaultEventPriority=16,rc.DiscreteEventPriority=1,rc.IdleEventPriority=536870912,rc.LegacyRoot=0),rc}var _z;function Ume(){return _z||(_z=1,vE.exports=kme()),vE.exports}var xp=Ume();function Fme(n){let e;const t=new Set,r=(c,f)=>{const d=typeof c=="function"?c(e):c;if(d!==e){const m=e;e=f?d:Object.assign({},e,d),t.forEach(v=>v(e,m))}},i=()=>e,a=(c,f=i,d=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let m=f(e);function v(){const x=f(e);if(!d(m,x)){const S=m;c(m=x,S)}}return t.add(v),()=>t.delete(v)},l={setState:r,getState:i,subscribe:(c,f,d)=>f||d?a(c,f,d):(t.add(c),()=>t.delete(c)),destroy:()=>t.clear()};return e=n(r,i,l),l}const Bme=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),bz=Bme?fe.useEffect:fe.useLayoutEffect;function zme(n){const e=typeof n=="function"?Fme(n):n,t=(r=e.getState,i=Object.is)=>{const[,a]=fe.useReducer(_=>_+1,0),o=e.getState(),s=fe.useRef(o),l=fe.useRef(r),c=fe.useRef(i),f=fe.useRef(!1),d=fe.useRef();d.current===void 0&&(d.current=r(o));let m,v=!1;(s.current!==o||l.current!==r||c.current!==i||f.current)&&(m=r(o),v=!i(d.current,m)),bz(()=>{v&&(d.current=m),s.current=o,l.current=r,c.current=i,f.current=!1});const x=fe.useRef(o);bz(()=>{const _=()=>{try{const M=e.getState(),T=l.current(M);c.current(d.current,T)||(s.current=M,d.current=T,a())}catch{f.current=!0,a()}},b=e.subscribe(_);return e.getState()!==x.current&&_(),b},[]);const S=v?m:d.current;return fe.useDebugValue(S),S};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[t,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},t}const jme=n=>typeof n=="object"&&typeof n.then=="function",ah=[];function h6(n,e,t=(r,i)=>r===i){if(n===e)return!0;if(!n||!e)return!1;const r=n.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!t(n[i],e[i]))return!1;return!0}function d6(n,e=null,t=!1,r={}){e===null&&(e=[n]);for(const a of ah)if(h6(e,a.keys,a.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(a,"error"))throw a.error;if(Object.prototype.hasOwnProperty.call(a,"response"))return r.lifespan&&r.lifespan>0&&(a.timeout&&clearTimeout(a.timeout),a.timeout=setTimeout(a.remove,r.lifespan)),a.response;if(!t)throw a.promise}const i={keys:e,equal:r.equal,remove:()=>{const a=ah.indexOf(i);a!==-1&&ah.splice(a,1)},promise:(jme(n)?n:n(...e)).then(a=>{i.response=a,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(a=>i.error=a)};if(ah.push(i),!t)throw i.promise}const Vme=(n,e,t)=>d6(n,e,!1,t),Hme=(n,e,t)=>{d6(n,e,!0,t)},Wme=n=>{if(n===void 0||n.length===0)ah.splice(0,ah.length);else{const e=ah.find(t=>h6(n,t.keys,t.equal));e&&e.remove()}};var yE={exports:{}},xE={exports:{}},_E={};var Sz;function Gme(){return Sz||(Sz=1,(function(n){function e(B,X){var $=B.length;B.push(X);e:for(;0<$;){var V=$-1>>>1,ee=B[V];if(0<i(ee,X))B[V]=X,B[$]=ee,$=V;else break e}}function t(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var X=B[0],$=B.pop();if($!==X){B[0]=$;e:for(var V=0,ee=B.length,se=ee>>>1;V<se;){var me=2*(V+1)-1,Ce=B[me],Ne=me+1,De=B[Ne];if(0>i(Ce,$))Ne<ee&&0>i(De,Ce)?(B[V]=De,B[Ne]=$,V=Ne):(B[V]=Ce,B[me]=$,V=me);else if(Ne<ee&&0>i(De,$))B[V]=De,B[Ne]=$,V=Ne;else break e}}return X}function i(B,X){var $=B.sortIndex-X.sortIndex;return $!==0?$:B.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();n.unstable_now=function(){return o.now()-s}}var l=[],c=[],f=1,d=null,m=3,v=!1,x=!1,S=!1,_=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(B){for(var X=t(c);X!==null;){if(X.callback===null)r(c);else if(X.startTime<=B)r(c),X.sortIndex=X.expirationTime,e(l,X);else break;X=t(c)}}function E(B){if(S=!1,T(B),!x)if(t(l)!==null)x=!0,J(P);else{var X=t(c);X!==null&&ie(E,X.startTime-B)}}function P(B,X){x=!1,S&&(S=!1,b(U),U=-1),v=!0;var $=m;try{for(T(X),d=t(l);d!==null&&(!(d.expirationTime>X)||B&&!z());){var V=d.callback;if(typeof V=="function"){d.callback=null,m=d.priorityLevel;var ee=V(d.expirationTime<=X);X=n.unstable_now(),typeof ee=="function"?d.callback=ee:d===t(l)&&r(l),T(X)}else r(l);d=t(l)}if(d!==null)var se=!0;else{var me=t(c);me!==null&&ie(E,me.startTime-X),se=!1}return se}finally{d=null,m=$,v=!1}}var R=!1,I=null,U=-1,N=5,k=-1;function z(){return!(n.unstable_now()-k<N)}function G(){if(I!==null){var B=n.unstable_now();k=B;var X=!0;try{X=I(!0,B)}finally{X?K():(R=!1,I=null)}}else R=!1}var K;if(typeof M=="function")K=function(){M(G)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,te=H.port2;H.port1.onmessage=G,K=function(){te.postMessage(null)}}else K=function(){_(G,0)};function J(B){I=B,R||(R=!0,K())}function ie(B,X){U=_(function(){B(n.unstable_now())},X)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(B){B.callback=null},n.unstable_continueExecution=function(){x||v||(x=!0,J(P))},n.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<B?Math.floor(1e3/B):5},n.unstable_getCurrentPriorityLevel=function(){return m},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(B){switch(m){case 1:case 2:case 3:var X=3;break;default:X=m}var $=m;m=X;try{return B()}finally{m=$}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(B,X){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var $=m;m=B;try{return X()}finally{m=$}},n.unstable_scheduleCallback=function(B,X,$){var V=n.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?V+$:V):$=V,B){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=$+ee,B={id:f++,callback:X,priorityLevel:B,startTime:$,expirationTime:ee,sortIndex:-1},$>V?(B.sortIndex=$,e(c,B),t(l)===null&&B===t(c)&&(S?(b(U),U=-1):S=!0,ie(E,$-V))):(B.sortIndex=ee,e(l,B),x||v||(x=!0,J(P))),B},n.unstable_shouldYield=z,n.unstable_wrapCallback=function(B){var X=m;return function(){var $=m;m=X;try{return B.apply(this,arguments)}finally{m=$}}}})(_E)),_E}var wz;function $me(){return wz||(wz=1,xE.exports=Gme()),xE.exports}var bE,Mz;function qme(){return Mz||(Mz=1,bE=function(e){var t={},r=Bb(),i=$me(),a=Object.assign;function o(p){for(var g="https://reactjs.org/docs/error-decoder.html?invariant="+p,w=1;w<arguments.length;w++)g+="&args[]="+encodeURIComponent(arguments[w]);return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),x=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),b=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),E=Symbol.for("react.offscreen"),P=Symbol.iterator;function R(p){return p===null||typeof p!="object"?null:(p=P&&p[P]||p["@@iterator"],typeof p=="function"?p:null)}function I(p){if(p==null)return null;if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p;switch(p){case f:return"Fragment";case c:return"Portal";case m:return"Profiler";case d:return"StrictMode";case _:return"Suspense";case b:return"SuspenseList"}if(typeof p=="object")switch(p.$$typeof){case x:return(p.displayName||"Context")+".Consumer";case v:return(p._context.displayName||"Context")+".Provider";case S:var g=p.render;return p=p.displayName,p||(p=g.displayName||g.name||"",p=p!==""?"ForwardRef("+p+")":"ForwardRef"),p;case M:return g=p.displayName||null,g!==null?g:I(p.type)||"Memo";case T:g=p._payload,p=p._init;try{return I(p(g))}catch{}}return null}function U(p){var g=p.type;switch(p.tag){case 24:return"Cache";case 9:return(g.displayName||"Context")+".Consumer";case 10:return(g._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return p=g.render,p=p.displayName||p.name||"",g.displayName||(p!==""?"ForwardRef("+p+")":"ForwardRef");case 7:return"Fragment";case 5:return g;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return I(g);case 8:return g===d?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof g=="function")return g.displayName||g.name||null;if(typeof g=="string")return g}return null}function N(p){var g=p,w=p;if(p.alternate)for(;g.return;)g=g.return;else{p=g;do g=p,(g.flags&4098)!==0&&(w=g.return),p=g.return;while(p)}return g.tag===3?w:null}function k(p){if(N(p)!==p)throw Error(o(188))}function z(p){var g=p.alternate;if(!g){if(g=N(p),g===null)throw Error(o(188));return g!==p?null:p}for(var w=p,C=g;;){var D=w.return;if(D===null)break;var F=D.alternate;if(F===null){if(C=D.return,C!==null){w=C;continue}break}if(D.child===F.child){for(F=D.child;F;){if(F===w)return k(D),p;if(F===C)return k(D),g;F=F.sibling}throw Error(o(188))}if(w.return!==C.return)w=D,C=F;else{for(var ne=!1,de=D.child;de;){if(de===w){ne=!0,w=D,C=F;break}if(de===C){ne=!0,C=D,w=F;break}de=de.sibling}if(!ne){for(de=F.child;de;){if(de===w){ne=!0,w=F,C=D;break}if(de===C){ne=!0,C=F,w=D;break}de=de.sibling}if(!ne)throw Error(o(189))}}if(w.alternate!==C)throw Error(o(190))}if(w.tag!==3)throw Error(o(188));return w.stateNode.current===w?p:g}function G(p){return p=z(p),p!==null?K(p):null}function K(p){if(p.tag===5||p.tag===6)return p;for(p=p.child;p!==null;){var g=K(p);if(g!==null)return g;p=p.sibling}return null}function H(p){if(p.tag===5||p.tag===6)return p;for(p=p.child;p!==null;){if(p.tag!==4){var g=H(p);if(g!==null)return g}p=p.sibling}return null}var te=Array.isArray,J=e.getPublicInstance,ie=e.getRootHostContext,B=e.getChildHostContext,X=e.prepareForCommit,$=e.resetAfterCommit,V=e.createInstance,ee=e.appendInitialChild,se=e.finalizeInitialChildren,me=e.prepareUpdate,Ce=e.shouldSetTextContent,Ne=e.createTextInstance,De=e.scheduleTimeout,Ke=e.cancelTimeout,Te=e.noTimeout,Le=e.isPrimaryRenderer,Ge=e.supportsMutation,q=e.supportsPersistence,Re=e.supportsHydration,_e=e.getInstanceFromNode,Fe=e.preparePortalMount,Ae=e.getCurrentEventPriority,it=e.detachDeletedInstance,Qe=e.supportsMicrotasks,Y=e.scheduleMicrotask,W=e.supportsTestSelectors,ge=e.findFiberRoot,ze=e.getBoundingRect,je=e.getTextContent,ke=e.isHiddenSubtree,xt=e.matchAccessibilityRole,tt=e.setFocusIfFocusable,lt=e.setupIntersectionObserver,Tt=e.appendChild,Vt=e.appendChildToContainer,Ve=e.commitTextUpdate,en=e.commitMount,Zt=e.commitUpdate,Ft=e.insertBefore,Ct=e.insertInContainerBefore,pt=e.removeChild,ue=e.removeChildFromContainer,Ue=e.resetTextContent,st=e.hideInstance,at=e.hideTextInstance,He=e.unhideInstance,le=e.unhideTextInstance,Xe=e.clearContainer,rt=e.cloneInstance,Rt=e.createContainerChildSet,_t=e.appendChildToContainerChildSet,rn=e.finalizeContainerChildren,dn=e.replaceContainerChildren,En=e.cloneHiddenInstance,zn=e.cloneHiddenTextInstance,hn=e.canHydrateInstance,wr=e.canHydrateTextInstance,ai=e.canHydrateSuspenseInstance,Fc=e.isSuspenseInstancePending,Io=e.isSuspenseInstanceFallback,Do=e.registerSuspenseInstanceRetry,ka=e.getNextHydratableSibling,Es=e.getFirstHydratableChild,Ih=e.getFirstHydratableChildWithinContainer,Dh=e.getFirstHydratableChildWithinSuspenseInstance,Am=e.hydrateInstance,Lo=e.hydrateTextInstance,Lh=e.hydrateSuspenseInstance,Z=e.getNextHydratableInstanceAfterSuspenseInstance,ve=e.commitHydratedContainer,Me=e.commitHydratedSuspenseInstance,Ee=e.clearSuspenseBoundary,Se=e.clearSuspenseBoundaryFromContainer,ct=e.shouldDeleteUnhydratedTailInstances,Ot=e.didNotMatchHydratedContainerTextInstance,Dt=e.didNotMatchHydratedTextInstance,ht;function $t(p){if(ht===void 0)try{throw Error()}catch(w){var g=w.stack.trim().match(/\n( *(at )?)/);ht=g&&g[1]||""}return`
`+ht+p}var Bt=!1;function Ht(p,g){if(!p||Bt)return"";Bt=!0;var w=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(g)if(g=function(){throw Error()},Object.defineProperty(g.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(g,[])}catch(Ye){var C=Ye}Reflect.construct(p,[],g)}else{try{g.call()}catch(Ye){C=Ye}p.call(g.prototype)}else{try{throw Error()}catch(Ye){C=Ye}p()}}catch(Ye){if(Ye&&C&&typeof Ye.stack=="string"){for(var D=Ye.stack.split(`
`),F=C.stack.split(`
`),ne=D.length-1,de=F.length-1;1<=ne&&0<=de&&D[ne]!==F[de];)de--;for(;1<=ne&&0<=de;ne--,de--)if(D[ne]!==F[de]){if(ne!==1||de!==1)do if(ne--,de--,0>de||D[ne]!==F[de]){var Oe=`
`+D[ne].replace(" at new "," at ");return p.displayName&&Oe.includes("<anonymous>")&&(Oe=Oe.replace("<anonymous>",p.displayName)),Oe}while(1<=ne&&0<=de);break}}}finally{Bt=!1,Error.prepareStackTrace=w}return(p=p?p.displayName||p.name:"")?$t(p):""}var Ln=Object.prototype.hasOwnProperty,jr=[],Nn=-1;function ur(p){return{current:p}}function Et(p){0>Nn||(p.current=jr[Nn],jr[Nn]=null,Nn--)}function gt(p,g){Nn++,jr[Nn]=p.current,p.current=g}var tr={},an=ur(tr),nr=ur(!1),io=tr;function vi(p,g){var w=p.type.contextTypes;if(!w)return tr;var C=p.stateNode;if(C&&C.__reactInternalMemoizedUnmaskedChildContext===g)return C.__reactInternalMemoizedMaskedChildContext;var D={},F;for(F in w)D[F]=g[F];return C&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=g,p.__reactInternalMemoizedMaskedChildContext=D),D}function cr(p){return p=p.childContextTypes,p!=null}function jn(){Et(nr),Et(an)}function Xi(p,g,w){if(an.current!==tr)throw Error(o(168));gt(an,g),gt(nr,w)}function mu(p,g,w){var C=p.stateNode;if(g=g.childContextTypes,typeof C.getChildContext!="function")return w;C=C.getChildContext();for(var D in C)if(!(D in g))throw Error(o(108,U(p)||"Unknown",D));return a({},w,C)}function Vr(p){return p=(p=p.stateNode)&&p.__reactInternalMemoizedMergedChildContext||tr,io=an.current,gt(an,p),gt(nr,nr.current),!0}function Ps(p,g,w){var C=p.stateNode;if(!C)throw Error(o(169));w?(p=mu(p,g,io),C.__reactInternalMemoizedMergedChildContext=p,Et(nr),Et(an),gt(an,p)):Et(nr),gt(nr,w)}var Oi=Math.clz32?Math.clz32:ZS,gu=Math.log,Bc=Math.LN2;function ZS(p){return p>>>=0,p===0?32:31-(gu(p)/Bc|0)|0}var vu=64,vn=4194304;function yu(p){switch(p&-p){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return p&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return p}}function zc(p,g){var w=p.pendingLanes;if(w===0)return 0;var C=0,D=p.suspendedLanes,F=p.pingedLanes,ne=w&268435455;if(ne!==0){var de=ne&~D;de!==0?C=yu(de):(F&=ne,F!==0&&(C=yu(F)))}else ne=w&~D,ne!==0?C=yu(ne):F!==0&&(C=yu(F));if(C===0)return 0;if(g!==0&&g!==C&&(g&D)===0&&(D=C&-C,F=g&-g,D>=F||D===16&&(F&4194240)!==0))return g;if((C&4)!==0&&(C|=w&16),g=p.entangledLanes,g!==0)for(p=p.entanglements,g&=C;0<g;)w=31-Oi(g),D=1<<w,C|=p[w],g&=~D;return C}function Tm(p,g){switch(p){case 1:case 2:case 4:return g+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return g+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function c0(p,g){for(var w=p.suspendedLanes,C=p.pingedLanes,D=p.expirationTimes,F=p.pendingLanes;0<F;){var ne=31-Oi(F),de=1<<ne,Oe=D[ne];Oe===-1?((de&w)===0||(de&C)!==0)&&(D[ne]=Tm(de,g)):Oe<=g&&(p.expiredLanes|=de),F&=~de}}function Nh(p){return p=p.pendingLanes&-1073741825,p!==0?p:p&1073741824?1073741824:0}function kh(p){for(var g=[],w=0;31>w;w++)g.push(p);return g}function rl(p,g,w){p.pendingLanes|=g,g!==536870912&&(p.suspendedLanes=0,p.pingedLanes=0),p=p.eventTimes,g=31-Oi(g),p[g]=w}function Uh(p,g){var w=p.pendingLanes&~g;p.pendingLanes=g,p.suspendedLanes=0,p.pingedLanes=0,p.expiredLanes&=g,p.mutableReadLanes&=g,p.entangledLanes&=g,g=p.entanglements;var C=p.eventTimes;for(p=p.expirationTimes;0<w;){var D=31-Oi(w),F=1<<D;g[D]=0,C[D]=-1,p[D]=-1,w&=~F}}function ao(p,g){var w=p.entangledLanes|=g;for(p=p.entanglements;w;){var C=31-Oi(w),D=1<<C;D&g|p[C]&g&&(p[C]|=g),w&=~D}}var on=0;function No(p){return p&=-p,1<p?4<p?(p&268435455)!==0?16:536870912:4:1}var il=i.unstable_scheduleCallback,xu=i.unstable_cancelCallback,Cs=i.unstable_shouldYield,JS=i.unstable_requestPaint,Mr=i.unstable_now,al=i.unstable_ImmediatePriority,QS=i.unstable_UserBlockingPriority,Fh=i.unstable_NormalPriority,Bh=i.unstable_IdlePriority,jc=null,oo=null;function Vc(p){if(oo&&typeof oo.onCommitFiberRoot=="function")try{oo.onCommitFiberRoot(jc,p,void 0,(p.current.flags&128)===128)}catch{}}function Hc(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var yi=typeof Object.is=="function"?Object.is:Hc,ga=null,zh=!1,Em=!1;function jh(p){ga===null?ga=[p]:ga.push(p)}function Vh(p){zh=!0,jh(p)}function va(){if(!Em&&ga!==null){Em=!0;var p=0,g=on;try{var w=ga;for(on=1;p<w.length;p++){var C=w[p];do C=C(!0);while(C!==null)}ga=null,zh=!1}catch(D){throw ga!==null&&(ga=ga.slice(p+1)),il(al,va),D}finally{on=g,Em=!1}}return null}var f0=s.ReactCurrentBatchConfig;function Ua(p,g){if(yi(p,g))return!0;if(typeof p!="object"||p===null||typeof g!="object"||g===null)return!1;var w=Object.keys(p),C=Object.keys(g);if(w.length!==C.length)return!1;for(C=0;C<w.length;C++){var D=w[C];if(!Ln.call(g,D)||!yi(p[D],g[D]))return!1}return!0}function Pm(p){switch(p.tag){case 5:return $t(p.type);case 16:return $t("Lazy");case 13:return $t("Suspense");case 19:return $t("SuspenseList");case 0:case 2:case 15:return p=Ht(p.type,!1),p;case 11:return p=Ht(p.type.render,!1),p;case 1:return p=Ht(p.type,!0),p;default:return""}}function Ri(p,g){if(p&&p.defaultProps){g=a({},g),p=p.defaultProps;for(var w in p)g[w]===void 0&&(g[w]=p[w]);return g}return g}var Wc=ur(null),ol=null,ko=null,Hh=null;function xi(){Hh=ko=ol=null}function sl(p,g,w){Le?(gt(Wc,g._currentValue),g._currentValue=w):(gt(Wc,g._currentValue2),g._currentValue2=w)}function Gc(p){var g=Wc.current;Et(Wc),Le?p._currentValue=g:p._currentValue2=g}function ll(p,g,w){for(;p!==null;){var C=p.alternate;if((p.childLanes&g)!==g?(p.childLanes|=g,C!==null&&(C.childLanes|=g)):C!==null&&(C.childLanes&g)!==g&&(C.childLanes|=g),p===w)break;p=p.return}}function _u(p,g){ol=p,Hh=ko=null,p=p.dependencies,p!==null&&p.firstContext!==null&&((p.lanes&g)!==0&&(Nr=!0),p.firstContext=null)}function Ii(p){var g=Le?p._currentValue:p._currentValue2;if(Hh!==p)if(p={context:p,memoizedValue:g,next:null},ko===null){if(ol===null)throw Error(o(308));ko=p,ol.dependencies={lanes:0,firstContext:p}}else ko=ko.next=p;return g}var ya=null,xa=!1;function bu(p){p.updateQueue={baseState:p.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Cm(p,g){p=p.updateQueue,g.updateQueue===p&&(g.updateQueue={baseState:p.baseState,firstBaseUpdate:p.firstBaseUpdate,lastBaseUpdate:p.lastBaseUpdate,shared:p.shared,effects:p.effects})}function Uo(p,g){return{eventTime:p,lane:g,tag:0,payload:null,callback:null,next:null}}function Os(p,g){var w=p.updateQueue;w!==null&&(w=w.shared,hr!==null&&(p.mode&1)!==0&&(Jt&2)===0?(p=w.interleaved,p===null?(g.next=g,ya===null?ya=[w]:ya.push(w)):(g.next=p.next,p.next=g),w.interleaved=g):(p=w.pending,p===null?g.next=g:(g.next=p.next,p.next=g),w.pending=g))}function Wh(p,g,w){if(g=g.updateQueue,g!==null&&(g=g.shared,(w&4194240)!==0)){var C=g.lanes;C&=p.pendingLanes,w|=C,g.lanes=w,ao(p,w)}}function Gh(p,g){var w=p.updateQueue,C=p.alternate;if(C!==null&&(C=C.updateQueue,w===C)){var D=null,F=null;if(w=w.firstBaseUpdate,w!==null){do{var ne={eventTime:w.eventTime,lane:w.lane,tag:w.tag,payload:w.payload,callback:w.callback,next:null};F===null?D=F=ne:F=F.next=ne,w=w.next}while(w!==null);F===null?D=F=g:F=F.next=g}else D=F=g;w={baseState:C.baseState,firstBaseUpdate:D,lastBaseUpdate:F,shared:C.shared,effects:C.effects},p.updateQueue=w;return}p=w.lastBaseUpdate,p===null?w.firstBaseUpdate=g:p.next=g,w.lastBaseUpdate=g}function $h(p,g,w,C){var D=p.updateQueue;xa=!1;var F=D.firstBaseUpdate,ne=D.lastBaseUpdate,de=D.shared.pending;if(de!==null){D.shared.pending=null;var Oe=de,Ye=Oe.next;Oe.next=null,ne===null?F=Ye:ne.next=Ye,ne=Oe;var mt=p.alternate;mt!==null&&(mt=mt.updateQueue,de=mt.lastBaseUpdate,de!==ne&&(de===null?mt.firstBaseUpdate=Ye:de.next=Ye,mt.lastBaseUpdate=Oe))}if(F!==null){var Xt=D.baseState;ne=0,mt=Ye=Oe=null,de=F;do{var It=de.lane,tn=de.eventTime;if((C&It)===It){mt!==null&&(mt=mt.next={eventTime:tn,lane:0,tag:de.tag,payload:de.payload,callback:de.callback,next:null});e:{var ut=p,Xr=de;switch(It=g,tn=w,Xr.tag){case 1:if(ut=Xr.payload,typeof ut=="function"){Xt=ut.call(tn,Xt,It);break e}Xt=ut;break e;case 3:ut.flags=ut.flags&-65537|128;case 0:if(ut=Xr.payload,It=typeof ut=="function"?ut.call(tn,Xt,It):ut,It==null)break e;Xt=a({},Xt,It);break e;case 2:xa=!0}}de.callback!==null&&de.lane!==0&&(p.flags|=64,It=D.effects,It===null?D.effects=[de]:It.push(de))}else tn={eventTime:tn,lane:It,tag:de.tag,payload:de.payload,callback:de.callback,next:null},mt===null?(Ye=mt=tn,Oe=Xt):mt=mt.next=tn,ne|=It;if(de=de.next,de===null){if(de=D.shared.pending,de===null)break;It=de,de=It.next,It.next=null,D.lastBaseUpdate=It,D.shared.pending=null}}while(!0);if(mt===null&&(Oe=Xt),D.baseState=Oe,D.firstBaseUpdate=Ye,D.lastBaseUpdate=mt,g=D.shared.interleaved,g!==null){D=g;do ne|=D.lane,D=D.next;while(D!==g)}else F===null&&(D.shared.lanes=0);co|=ne,p.lanes=ne,p.memoizedState=Xt}}function h0(p,g,w){if(p=g.effects,g.effects=null,p!==null)for(g=0;g<p.length;g++){var C=p[g],D=C.callback;if(D!==null){if(C.callback=null,C=w,typeof D!="function")throw Error(o(191,D));D.call(C)}}}var d0=new r.Component().refs;function Om(p,g,w,C){g=p.memoizedState,w=w(C,g),w=w==null?g:a({},g,w),p.memoizedState=w,p.lanes===0&&(p.updateQueue.baseState=w)}var qh={isMounted:function(p){return(p=p._reactInternals)?N(p)===p:!1},enqueueSetState:function(p,g,w){p=p._reactInternals;var C=yn(),D=Wa(p),F=Uo(C,D);F.payload=g,w!=null&&(F.callback=w),Os(p,F),g=li(p,D,C),g!==null&&Wh(g,p,D)},enqueueReplaceState:function(p,g,w){p=p._reactInternals;var C=yn(),D=Wa(p),F=Uo(C,D);F.tag=1,F.payload=g,w!=null&&(F.callback=w),Os(p,F),g=li(p,D,C),g!==null&&Wh(g,p,D)},enqueueForceUpdate:function(p,g){p=p._reactInternals;var w=yn(),C=Wa(p),D=Uo(w,C);D.tag=2,g!=null&&(D.callback=g),Os(p,D),g=li(p,C,w),g!==null&&Wh(g,p,C)}};function Rm(p,g,w,C,D,F,ne){return p=p.stateNode,typeof p.shouldComponentUpdate=="function"?p.shouldComponentUpdate(C,F,ne):g.prototype&&g.prototype.isPureReactComponent?!Ua(w,C)||!Ua(D,F):!0}function p0(p,g,w){var C=!1,D=tr,F=g.contextType;return typeof F=="object"&&F!==null?F=Ii(F):(D=cr(g)?io:an.current,C=g.contextTypes,F=(C=C!=null)?vi(p,D):tr),g=new g(w,F),p.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=qh,p.stateNode=g,g._reactInternals=p,C&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=D,p.__reactInternalMemoizedMaskedChildContext=F),g}function m0(p,g,w,C){p=g.state,typeof g.componentWillReceiveProps=="function"&&g.componentWillReceiveProps(w,C),typeof g.UNSAFE_componentWillReceiveProps=="function"&&g.UNSAFE_componentWillReceiveProps(w,C),g.state!==p&&qh.enqueueReplaceState(g,g.state,null)}function Im(p,g,w,C){var D=p.stateNode;D.props=w,D.state=p.memoizedState,D.refs=d0,bu(p);var F=g.contextType;typeof F=="object"&&F!==null?D.context=Ii(F):(F=cr(g)?io:an.current,D.context=vi(p,F)),D.state=p.memoizedState,F=g.getDerivedStateFromProps,typeof F=="function"&&(Om(p,g,F,w),D.state=p.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof D.getSnapshotBeforeUpdate=="function"||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(g=D.state,typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount(),g!==D.state&&qh.enqueueReplaceState(D,D.state,null),$h(p,w,D,C),D.state=p.memoizedState),typeof D.componentDidMount=="function"&&(p.flags|=4194308)}var Su=[],Rs=0,Xh=null,Yh=0,_a=[],Yi=0,ul=null,Fo=1,Bo="";function cl(p,g){Su[Rs++]=Yh,Su[Rs++]=Xh,Xh=p,Yh=g}function g0(p,g,w){_a[Yi++]=Fo,_a[Yi++]=Bo,_a[Yi++]=ul,ul=p;var C=Fo;p=Bo;var D=32-Oi(C)-1;C&=~(1<<D),w+=1;var F=32-Oi(g)+D;if(30<F){var ne=D-D%5;F=(C&(1<<ne)-1).toString(32),C>>=ne,D-=ne,Fo=1<<32-Oi(g)+D|w<<D|C,Bo=F+p}else Fo=1<<F|w<<D|C,Bo=p}function Dm(p){p.return!==null&&(cl(p,1),g0(p,1,0))}function Lm(p){for(;p===Xh;)Xh=Su[--Rs],Su[Rs]=null,Yh=Su[--Rs],Su[Rs]=null;for(;p===ul;)ul=_a[--Yi],_a[Yi]=null,Bo=_a[--Yi],_a[Yi]=null,Fo=_a[--Yi],_a[Yi]=null}var _i=null,Hr=null,Gn=!1,wu=!1,ba=null;function Nm(p,g){var w=na(5,null,null,0);w.elementType="DELETED",w.stateNode=g,w.return=p,g=p.deletions,g===null?(p.deletions=[w],p.flags|=16):g.push(w)}function km(p,g){switch(p.tag){case 5:return g=hn(g,p.type,p.pendingProps),g!==null?(p.stateNode=g,_i=p,Hr=Es(g),!0):!1;case 6:return g=wr(g,p.pendingProps),g!==null?(p.stateNode=g,_i=p,Hr=null,!0):!1;case 13:if(g=ai(g),g!==null){var w=ul!==null?{id:Fo,overflow:Bo}:null;return p.memoizedState={dehydrated:g,treeContext:w,retryLane:1073741824},w=na(18,null,null,0),w.stateNode=g,w.return=p,p.child=w,_i=p,Hr=null,!0}return!1;default:return!1}}function Kh(p){return(p.mode&1)!==0&&(p.flags&128)===0}function Is(p){if(Gn){var g=Hr;if(g){var w=g;if(!km(p,g)){if(Kh(p))throw Error(o(418));g=ka(w);var C=_i;g&&km(p,g)?Nm(C,w):(p.flags=p.flags&-4097|2,Gn=!1,_i=p)}}else{if(Kh(p))throw Error(o(418));p.flags=p.flags&-4097|2,Gn=!1,_i=p}}}function v0(p){for(p=p.return;p!==null&&p.tag!==5&&p.tag!==3&&p.tag!==13;)p=p.return;_i=p}function $c(p){if(!Re||p!==_i)return!1;if(!Gn)return v0(p),Gn=!0,!1;if(p.tag!==3&&(p.tag!==5||ct(p.type)&&!Ce(p.type,p.memoizedProps))){var g=Hr;if(g){if(Kh(p)){for(p=Hr;p;)p=ka(p);throw Error(o(418))}for(;g;)Nm(p,g),g=ka(g)}}if(v0(p),p.tag===13){if(!Re)throw Error(o(316));if(p=p.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(o(317));Hr=Z(p)}else Hr=_i?ka(p.stateNode):null;return!0}function Mu(){Re&&(Hr=_i=null,wu=Gn=!1)}function Zh(p){ba===null?ba=[p]:ba.push(p)}function Au(p,g,w){if(p=w.ref,p!==null&&typeof p!="function"&&typeof p!="object"){if(w._owner){if(w=w._owner,w){if(w.tag!==1)throw Error(o(309));var C=w.stateNode}if(!C)throw Error(o(147,p));var D=C,F=""+p;return g!==null&&g.ref!==null&&typeof g.ref=="function"&&g.ref._stringRef===F?g.ref:(g=function(ne){var de=D.refs;de===d0&&(de=D.refs={}),ne===null?delete de[F]:de[F]=ne},g._stringRef=F,g)}if(typeof p!="string")throw Error(o(284));if(!w._owner)throw Error(o(290,p))}return p}function Ds(p,g){throw p=Object.prototype.toString.call(g),Error(o(31,p==="[object Object]"?"object with keys {"+Object.keys(g).join(", ")+"}":p))}function Tu(p){var g=p._init;return g(p._payload)}function y0(p){function g(be,pe){if(p){var Pe=be.deletions;Pe===null?(be.deletions=[pe],be.flags|=16):Pe.push(pe)}}function w(be,pe){if(!p)return null;for(;pe!==null;)g(be,pe),pe=pe.sibling;return null}function C(be,pe){for(be=new Map;pe!==null;)pe.key!==null?be.set(pe.key,pe):be.set(pe.index,pe),pe=pe.sibling;return be}function D(be,pe){return be=Qo(be,pe),be.index=0,be.sibling=null,be}function F(be,pe,Pe){return be.index=Pe,p?(Pe=be.alternate,Pe!==null?(Pe=Pe.index,Pe<pe?(be.flags|=2,pe):Pe):(be.flags|=2,pe)):(be.flags|=1048576,pe)}function ne(be){return p&&be.alternate===null&&(be.flags|=2),be}function de(be,pe,Pe,ot){return pe===null||pe.tag!==6?(pe=Md(Pe,be.mode,ot),pe.return=be,pe):(pe=D(pe,Pe),pe.return=be,pe)}function Oe(be,pe,Pe,ot){var wt=Pe.type;return wt===f?mt(be,pe,Pe.props.children,ot,Pe.key):pe!==null&&(pe.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===T&&Tu(wt)===pe.type)?(ot=D(pe,Pe.props),ot.ref=Au(be,pe,Pe),ot.return=be,ot):(ot=wd(Pe.type,Pe.key,Pe.props,null,be.mode,ot),ot.ref=Au(be,pe,Pe),ot.return=be,ot)}function Ye(be,pe,Pe,ot){return pe===null||pe.tag!==4||pe.stateNode.containerInfo!==Pe.containerInfo||pe.stateNode.implementation!==Pe.implementation?(pe=Ad(Pe,be.mode,ot),pe.return=be,pe):(pe=D(pe,Pe.children||[]),pe.return=be,pe)}function mt(be,pe,Pe,ot,wt){return pe===null||pe.tag!==7?(pe=Il(Pe,be.mode,ot,wt),pe.return=be,pe):(pe=D(pe,Pe),pe.return=be,pe)}function Xt(be,pe,Pe){if(typeof pe=="string"&&pe!==""||typeof pe=="number")return pe=Md(""+pe,be.mode,Pe),pe.return=be,pe;if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case l:return Pe=wd(pe.type,pe.key,pe.props,null,be.mode,Pe),Pe.ref=Au(be,null,pe),Pe.return=be,Pe;case c:return pe=Ad(pe,be.mode,Pe),pe.return=be,pe;case T:var ot=pe._init;return Xt(be,ot(pe._payload),Pe)}if(te(pe)||R(pe))return pe=Il(pe,be.mode,Pe,null),pe.return=be,pe;Ds(be,pe)}return null}function It(be,pe,Pe,ot){var wt=pe!==null?pe.key:null;if(typeof Pe=="string"&&Pe!==""||typeof Pe=="number")return wt!==null?null:de(be,pe,""+Pe,ot);if(typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case l:return Pe.key===wt?Oe(be,pe,Pe,ot):null;case c:return Pe.key===wt?Ye(be,pe,Pe,ot):null;case T:return wt=Pe._init,It(be,pe,wt(Pe._payload),ot)}if(te(Pe)||R(Pe))return wt!==null?null:mt(be,pe,Pe,ot,null);Ds(be,Pe)}return null}function tn(be,pe,Pe,ot,wt){if(typeof ot=="string"&&ot!==""||typeof ot=="number")return be=be.get(Pe)||null,de(pe,be,""+ot,wt);if(typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case l:return be=be.get(ot.key===null?Pe:ot.key)||null,Oe(pe,be,ot,wt);case c:return be=be.get(ot.key===null?Pe:ot.key)||null,Ye(pe,be,ot,wt);case T:var Kt=ot._init;return tn(be,pe,Pe,Kt(ot._payload),wt)}if(te(ot)||R(ot))return be=be.get(Pe)||null,mt(pe,be,ot,wt,null);Ds(pe,ot)}return null}function ut(be,pe,Pe,ot){for(var wt=null,Kt=null,Yt=pe,gn=pe=0,vr=null;Yt!==null&&gn<Pe.length;gn++){Yt.index>gn?(vr=Yt,Yt=null):vr=Yt.sibling;var mn=It(be,Yt,Pe[gn],ot);if(mn===null){Yt===null&&(Yt=vr);break}p&&Yt&&mn.alternate===null&&g(be,Yt),pe=F(mn,pe,gn),Kt===null?wt=mn:Kt.sibling=mn,Kt=mn,Yt=vr}if(gn===Pe.length)return w(be,Yt),Gn&&cl(be,gn),wt;if(Yt===null){for(;gn<Pe.length;gn++)Yt=Xt(be,Pe[gn],ot),Yt!==null&&(pe=F(Yt,pe,gn),Kt===null?wt=Yt:Kt.sibling=Yt,Kt=Yt);return Gn&&cl(be,gn),wt}for(Yt=C(be,Yt);gn<Pe.length;gn++)vr=tn(Yt,be,gn,Pe[gn],ot),vr!==null&&(p&&vr.alternate!==null&&Yt.delete(vr.key===null?gn:vr.key),pe=F(vr,pe,gn),Kt===null?wt=vr:Kt.sibling=vr,Kt=vr);return p&&Yt.forEach(function(es){return g(be,es)}),Gn&&cl(be,gn),wt}function Xr(be,pe,Pe,ot){var wt=R(Pe);if(typeof wt!="function")throw Error(o(150));if(Pe=wt.call(Pe),Pe==null)throw Error(o(151));for(var Kt=wt=null,Yt=pe,gn=pe=0,vr=null,mn=Pe.next();Yt!==null&&!mn.done;gn++,mn=Pe.next()){Yt.index>gn?(vr=Yt,Yt=null):vr=Yt.sibling;var es=It(be,Yt,mn.value,ot);if(es===null){Yt===null&&(Yt=vr);break}p&&Yt&&es.alternate===null&&g(be,Yt),pe=F(es,pe,gn),Kt===null?wt=es:Kt.sibling=es,Kt=es,Yt=vr}if(mn.done)return w(be,Yt),Gn&&cl(be,gn),wt;if(Yt===null){for(;!mn.done;gn++,mn=Pe.next())mn=Xt(be,mn.value,ot),mn!==null&&(pe=F(mn,pe,gn),Kt===null?wt=mn:Kt.sibling=mn,Kt=mn);return Gn&&cl(be,gn),wt}for(Yt=C(be,Yt);!mn.done;gn++,mn=Pe.next())mn=tn(Yt,be,gn,mn.value,ot),mn!==null&&(p&&mn.alternate!==null&&Yt.delete(mn.key===null?gn:mn.key),pe=F(mn,pe,gn),Kt===null?wt=mn:Kt.sibling=mn,Kt=mn);return p&&Yt.forEach(function(dg){return g(be,dg)}),Gn&&cl(be,gn),wt}function ra(be,pe,Pe,ot){if(typeof Pe=="object"&&Pe!==null&&Pe.type===f&&Pe.key===null&&(Pe=Pe.props.children),typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case l:e:{for(var wt=Pe.key,Kt=pe;Kt!==null;){if(Kt.key===wt){if(wt=Pe.type,wt===f){if(Kt.tag===7){w(be,Kt.sibling),pe=D(Kt,Pe.props.children),pe.return=be,be=pe;break e}}else if(Kt.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===T&&Tu(wt)===Kt.type){w(be,Kt.sibling),pe=D(Kt,Pe.props),pe.ref=Au(be,Kt,Pe),pe.return=be,be=pe;break e}w(be,Kt);break}else g(be,Kt);Kt=Kt.sibling}Pe.type===f?(pe=Il(Pe.props.children,be.mode,ot,Pe.key),pe.return=be,be=pe):(ot=wd(Pe.type,Pe.key,Pe.props,null,be.mode,ot),ot.ref=Au(be,pe,Pe),ot.return=be,be=ot)}return ne(be);case c:e:{for(Kt=Pe.key;pe!==null;){if(pe.key===Kt)if(pe.tag===4&&pe.stateNode.containerInfo===Pe.containerInfo&&pe.stateNode.implementation===Pe.implementation){w(be,pe.sibling),pe=D(pe,Pe.children||[]),pe.return=be,be=pe;break e}else{w(be,pe);break}else g(be,pe);pe=pe.sibling}pe=Ad(Pe,be.mode,ot),pe.return=be,be=pe}return ne(be);case T:return Kt=Pe._init,ra(be,pe,Kt(Pe._payload),ot)}if(te(Pe))return ut(be,pe,Pe,ot);if(R(Pe))return Xr(be,pe,Pe,ot);Ds(be,Pe)}return typeof Pe=="string"&&Pe!==""||typeof Pe=="number"?(Pe=""+Pe,pe!==null&&pe.tag===6?(w(be,pe.sibling),pe=D(pe,Pe),pe.return=be,be=pe):(w(be,pe),pe=Md(Pe,be.mode,ot),pe.return=be,be=pe),ne(be)):w(be,pe)}return ra}var zo=y0(!0),x0=y0(!1),Eu={},Di=ur(Eu),fl=ur(Eu),hl=ur(Eu);function Fa(p){if(p===Eu)throw Error(o(174));return p}function Jh(p,g){gt(hl,g),gt(fl,p),gt(Di,Eu),p=ie(g),Et(Di),gt(Di,p)}function Pu(){Et(Di),Et(fl),Et(hl)}function _0(p){var g=Fa(hl.current),w=Fa(Di.current);g=B(w,p.type,g),w!==g&&(gt(fl,p),gt(Di,g))}function Um(p){fl.current===p&&(Et(Di),Et(fl))}var Zn=ur(0);function Qh(p){for(var g=p;g!==null;){if(g.tag===13){var w=g.memoizedState;if(w!==null&&(w=w.dehydrated,w===null||Fc(w)||Io(w)))return g}else if(g.tag===19&&g.memoizedProps.revealOrder!==void 0){if((g.flags&128)!==0)return g}else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===p)break;for(;g.sibling===null;){if(g.return===null||g.return===p)return null;g=g.return}g.sibling.return=g.return,g=g.sibling}return null}var Ki=[];function dl(){for(var p=0;p<Ki.length;p++){var g=Ki[p];Le?g._workInProgressVersionPrimary=null:g._workInProgressVersionSecondary=null}Ki.length=0}var qc=s.ReactCurrentDispatcher,Zi=s.ReactCurrentBatchConfig,pl=0,Jn=null,Ir=null,Dr=null,ed=!1,so=!1,ml=0,Xc=0;function Lr(){throw Error(o(321))}function td(p,g){if(g===null)return!1;for(var w=0;w<g.length&&w<p.length;w++)if(!yi(p[w],g[w]))return!1;return!0}function Cu(p,g,w,C,D,F){if(pl=F,Jn=g,g.memoizedState=null,g.updateQueue=null,g.lanes=0,qc.current=p===null||p.memoizedState===null?Hm:Wm,p=w(C,D),so){F=0;do{if(so=!1,ml=0,25<=F)throw Error(o(301));F+=1,Dr=Ir=null,g.updateQueue=null,qc.current=Gm,p=w(C,D)}while(so)}if(qc.current=Du,g=Ir!==null&&Ir.next!==null,pl=0,Dr=Ir=Jn=null,ed=!1,g)throw Error(o(300));return p}function Ls(){var p=ml!==0;return ml=0,p}function Ba(){var p={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dr===null?Jn.memoizedState=Dr=p:Dr=Dr.next=p,Dr}function za(){if(Ir===null){var p=Jn.alternate;p=p!==null?p.memoizedState:null}else p=Ir.next;var g=Dr===null?Jn.memoizedState:Dr.next;if(g!==null)Dr=g,Ir=p;else{if(p===null)throw Error(o(310));Ir=p,p={memoizedState:Ir.memoizedState,baseState:Ir.baseState,baseQueue:Ir.baseQueue,queue:Ir.queue,next:null},Dr===null?Jn.memoizedState=Dr=p:Dr=Dr.next=p}return Dr}function lo(p,g){return typeof g=="function"?g(p):g}function Yc(p){var g=za(),w=g.queue;if(w===null)throw Error(o(311));w.lastRenderedReducer=p;var C=Ir,D=C.baseQueue,F=w.pending;if(F!==null){if(D!==null){var ne=D.next;D.next=F.next,F.next=ne}C.baseQueue=D=F,w.pending=null}if(D!==null){F=D.next,C=C.baseState;var de=ne=null,Oe=null,Ye=F;do{var mt=Ye.lane;if((pl&mt)===mt)Oe!==null&&(Oe=Oe.next={lane:0,action:Ye.action,hasEagerState:Ye.hasEagerState,eagerState:Ye.eagerState,next:null}),C=Ye.hasEagerState?Ye.eagerState:p(C,Ye.action);else{var Xt={lane:mt,action:Ye.action,hasEagerState:Ye.hasEagerState,eagerState:Ye.eagerState,next:null};Oe===null?(de=Oe=Xt,ne=C):Oe=Oe.next=Xt,Jn.lanes|=mt,co|=mt}Ye=Ye.next}while(Ye!==null&&Ye!==F);Oe===null?ne=C:Oe.next=de,yi(C,g.memoizedState)||(Nr=!0),g.memoizedState=C,g.baseState=ne,g.baseQueue=Oe,w.lastRenderedState=C}if(p=w.interleaved,p!==null){D=p;do F=D.lane,Jn.lanes|=F,co|=F,D=D.next;while(D!==p)}else D===null&&(w.lanes=0);return[g.memoizedState,w.dispatch]}function Kc(p){var g=za(),w=g.queue;if(w===null)throw Error(o(311));w.lastRenderedReducer=p;var C=w.dispatch,D=w.pending,F=g.memoizedState;if(D!==null){w.pending=null;var ne=D=D.next;do F=p(F,ne.action),ne=ne.next;while(ne!==D);yi(F,g.memoizedState)||(Nr=!0),g.memoizedState=F,g.baseQueue===null&&(g.baseState=F),w.lastRenderedState=F}return[F,C]}function Fm(){}function Bm(p,g){var w=Jn,C=za(),D=g(),F=!yi(C.memoizedState,D);if(F&&(C.memoizedState=D,Nr=!0),C=C.queue,Ou(jo.bind(null,w,C,p),[p]),C.getSnapshot!==g||F||Dr!==null&&Dr.memoizedState.tag&1){if(w.flags|=2048,Jc(9,jm.bind(null,w,C,D,g),void 0,null),hr===null)throw Error(o(349));(pl&30)!==0||zm(w,g,D)}return D}function zm(p,g,w){p.flags|=16384,p={getSnapshot:g,value:w},g=Jn.updateQueue,g===null?(g={lastEffect:null,stores:null},Jn.updateQueue=g,g.stores=[p]):(w=g.stores,w===null?g.stores=[p]:w.push(p))}function jm(p,g,w,C){g.value=w,g.getSnapshot=C,nd(g)&&li(p,1,-1)}function jo(p,g,w){return w(function(){nd(g)&&li(p,1,-1)})}function nd(p){var g=p.getSnapshot;p=p.value;try{var w=g();return!yi(p,w)}catch{return!0}}function Zc(p){var g=Ba();return typeof p=="function"&&(p=p()),g.memoizedState=g.baseState=p,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:lo,lastRenderedState:p},g.queue=p,p=p.dispatch=e1.bind(null,Jn,p),[g.memoizedState,p]}function Jc(p,g,w,C){return p={tag:p,create:g,destroy:w,deps:C,next:null},g=Jn.updateQueue,g===null?(g={lastEffect:null,stores:null},Jn.updateQueue=g,g.lastEffect=p.next=p):(w=g.lastEffect,w===null?g.lastEffect=p.next=p:(C=w.next,w.next=p,p.next=C,g.lastEffect=p)),p}function b0(){return za().memoizedState}function Ns(p,g,w,C){var D=Ba();Jn.flags|=p,D.memoizedState=Jc(1|g,w,void 0,C===void 0?null:C)}function rd(p,g,w,C){var D=za();C=C===void 0?null:C;var F=void 0;if(Ir!==null){var ne=Ir.memoizedState;if(F=ne.destroy,C!==null&&td(C,ne.deps)){D.memoizedState=Jc(g,w,F,C);return}}Jn.flags|=p,D.memoizedState=Jc(1|g,w,F,C)}function id(p,g){return Ns(8390656,8,p,g)}function Ou(p,g){return rd(2048,8,p,g)}function kn(p,g){return rd(4,2,p,g)}function ad(p,g){return rd(4,4,p,g)}function Qc(p,g){if(typeof g=="function")return p=p(),g(p),function(){g(null)};if(g!=null)return p=p(),g.current=p,function(){g.current=null}}function Ru(p,g,w){return w=w!=null?w.concat([p]):null,rd(4,4,Qc.bind(null,g,p),w)}function od(){}function sd(p,g){var w=za();g=g===void 0?null:g;var C=w.memoizedState;return C!==null&&g!==null&&td(g,C[1])?C[0]:(w.memoizedState=[p,g],p)}function Iu(p,g){var w=za();g=g===void 0?null:g;var C=w.memoizedState;return C!==null&&g!==null&&td(g,C[1])?C[0]:(p=p(),w.memoizedState=[p,g],p)}function ld(p,g){var w=on;on=w!==0&&4>w?w:4,p(!0);var C=Zi.transition;Zi.transition={};try{p(!1),g()}finally{on=w,Zi.transition=C}}function gl(){return za().memoizedState}function S0(p,g,w){var C=Wa(p);w={lane:C,action:w,hasEagerState:!1,eagerState:null,next:null},w0(p)?Vm(g,w):(ef(p,g,w),w=yn(),p=li(p,C,w),p!==null&&tf(p,g,C))}function e1(p,g,w){var C=Wa(p),D={lane:C,action:w,hasEagerState:!1,eagerState:null,next:null};if(w0(p))Vm(g,D);else{ef(p,g,D);var F=p.alternate;if(p.lanes===0&&(F===null||F.lanes===0)&&(F=g.lastRenderedReducer,F!==null))try{var ne=g.lastRenderedState,de=F(ne,w);if(D.hasEagerState=!0,D.eagerState=de,yi(de,ne))return}catch{}w=yn(),p=li(p,C,w),p!==null&&tf(p,g,C)}}function w0(p){var g=p.alternate;return p===Jn||g!==null&&g===Jn}function Vm(p,g){so=ed=!0;var w=p.pending;w===null?g.next=g:(g.next=w.next,w.next=g),p.pending=g}function ef(p,g,w){hr!==null&&(p.mode&1)!==0&&(Jt&2)===0?(p=g.interleaved,p===null?(w.next=w,ya===null?ya=[g]:ya.push(g)):(w.next=p.next,p.next=w),g.interleaved=w):(p=g.pending,p===null?w.next=w:(w.next=p.next,p.next=w),g.pending=w)}function tf(p,g,w){if((w&4194240)!==0){var C=g.lanes;C&=p.pendingLanes,w|=C,g.lanes=w,ao(p,w)}}var Du={readContext:Ii,useCallback:Lr,useContext:Lr,useEffect:Lr,useImperativeHandle:Lr,useInsertionEffect:Lr,useLayoutEffect:Lr,useMemo:Lr,useReducer:Lr,useRef:Lr,useState:Lr,useDebugValue:Lr,useDeferredValue:Lr,useTransition:Lr,useMutableSource:Lr,useSyncExternalStore:Lr,useId:Lr,unstable_isNewReconciler:!1},Hm={readContext:Ii,useCallback:function(p,g){return Ba().memoizedState=[p,g===void 0?null:g],p},useContext:Ii,useEffect:id,useImperativeHandle:function(p,g,w){return w=w!=null?w.concat([p]):null,Ns(4194308,4,Qc.bind(null,g,p),w)},useLayoutEffect:function(p,g){return Ns(4194308,4,p,g)},useInsertionEffect:function(p,g){return Ns(4,2,p,g)},useMemo:function(p,g){var w=Ba();return g=g===void 0?null:g,p=p(),w.memoizedState=[p,g],p},useReducer:function(p,g,w){var C=Ba();return g=w!==void 0?w(g):g,C.memoizedState=C.baseState=g,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:p,lastRenderedState:g},C.queue=p,p=p.dispatch=S0.bind(null,Jn,p),[C.memoizedState,p]},useRef:function(p){var g=Ba();return p={current:p},g.memoizedState=p},useState:Zc,useDebugValue:od,useDeferredValue:function(p){var g=Zc(p),w=g[0],C=g[1];return id(function(){var D=Zi.transition;Zi.transition={};try{C(p)}finally{Zi.transition=D}},[p]),w},useTransition:function(){var p=Zc(!1),g=p[0];return p=ld.bind(null,p[1]),Ba().memoizedState=p,[g,p]},useMutableSource:function(){},useSyncExternalStore:function(p,g,w){var C=Jn,D=Ba();if(Gn){if(w===void 0)throw Error(o(407));w=w()}else{if(w=g(),hr===null)throw Error(o(349));(pl&30)!==0||zm(C,g,w)}D.memoizedState=w;var F={value:w,getSnapshot:g};return D.queue=F,id(jo.bind(null,C,F,p),[p]),C.flags|=2048,Jc(9,jm.bind(null,C,F,w,g),void 0,null),w},useId:function(){var p=Ba(),g=hr.identifierPrefix;if(Gn){var w=Bo,C=Fo;w=(C&~(1<<32-Oi(C)-1)).toString(32)+w,g=":"+g+"R"+w,w=ml++,0<w&&(g+="H"+w.toString(32)),g+=":"}else w=Xc++,g=":"+g+"r"+w.toString(32)+":";return p.memoizedState=g},unstable_isNewReconciler:!1},Wm={readContext:Ii,useCallback:sd,useContext:Ii,useEffect:Ou,useImperativeHandle:Ru,useInsertionEffect:kn,useLayoutEffect:ad,useMemo:Iu,useReducer:Yc,useRef:b0,useState:function(){return Yc(lo)},useDebugValue:od,useDeferredValue:function(p){var g=Yc(lo),w=g[0],C=g[1];return Ou(function(){var D=Zi.transition;Zi.transition={};try{C(p)}finally{Zi.transition=D}},[p]),w},useTransition:function(){var p=Yc(lo)[0],g=za().memoizedState;return[p,g]},useMutableSource:Fm,useSyncExternalStore:Bm,useId:gl,unstable_isNewReconciler:!1},Gm={readContext:Ii,useCallback:sd,useContext:Ii,useEffect:Ou,useImperativeHandle:Ru,useInsertionEffect:kn,useLayoutEffect:ad,useMemo:Iu,useReducer:Kc,useRef:b0,useState:function(){return Kc(lo)},useDebugValue:od,useDeferredValue:function(p){var g=Kc(lo),w=g[0],C=g[1];return Ou(function(){var D=Zi.transition;Zi.transition={};try{C(p)}finally{Zi.transition=D}},[p]),w},useTransition:function(){var p=Kc(lo)[0],g=za().memoizedState;return[p,g]},useMutableSource:Fm,useSyncExternalStore:Bm,useId:gl,unstable_isNewReconciler:!1};function $m(p,g){try{var w="",C=g;do w+=Pm(C),C=C.return;while(C);var D=w}catch(F){D=`
Error generating stack: `+F.message+`
`+F.stack}return{value:p,source:g,stack:D}}function ud(p,g){try{console.error(g.value)}catch(w){setTimeout(function(){throw w})}}var t1=typeof WeakMap=="function"?WeakMap:Map;function M0(p,g,w){w=Uo(-1,w),w.tag=3,w.payload={element:null};var C=g.value;return w.callback=function(){Bu||(Bu=!0,Hn=C),ud(p,g)},w}function cd(p,g,w){w=Uo(-1,w),w.tag=3;var C=p.type.getDerivedStateFromError;if(typeof C=="function"){var D=g.value;w.payload=function(){return C(D)},w.callback=function(){ud(p,g)}}var F=p.stateNode;return F!==null&&typeof F.componentDidCatch=="function"&&(w.callback=function(){ud(p,g),typeof C!="function"&&(Ha===null?Ha=new Set([this]):Ha.add(this));var ne=g.stack;this.componentDidCatch(g.value,{componentStack:ne!==null?ne:""})}),w}function Vo(p,g,w){var C=p.pingCache;if(C===null){C=p.pingCache=new t1;var D=new Set;C.set(g,D)}else D=C.get(g),D===void 0&&(D=new Set,C.set(g,D));D.has(w)||(D.add(w),p=cg.bind(null,p,g,w),g.then(p,p))}function qm(p){do{var g;if((g=p.tag===13)&&(g=p.memoizedState,g=g!==null?g.dehydrated!==null:!0),g)return p;p=p.return}while(p!==null);return null}function vl(p,g,w,C,D){return(p.mode&1)===0?(p===g?p.flags|=65536:(p.flags|=128,w.flags|=131072,w.flags&=-52805,w.tag===1&&(w.alternate===null?w.tag=17:(g=Uo(-1,1),g.tag=2,Os(w,g))),w.lanes|=1),p):(p.flags|=65536,p.lanes=D,p)}function Ar(p){p.flags|=4}function Lu(p,g){if(p!==null&&p.child===g.child)return!0;if((g.flags&16)!==0)return!1;for(p=g.child;p!==null;){if((p.flags&12854)!==0||(p.subtreeFlags&12854)!==0)return!1;p=p.sibling}return!0}var Ji,yl,fd,hd;if(Ge)Ji=function(p,g){for(var w=g.child;w!==null;){if(w.tag===5||w.tag===6)ee(p,w.stateNode);else if(w.tag!==4&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===g)break;for(;w.sibling===null;){if(w.return===null||w.return===g)return;w=w.return}w.sibling.return=w.return,w=w.sibling}},yl=function(){},fd=function(p,g,w,C,D){if(p=p.memoizedProps,p!==C){var F=g.stateNode,ne=Fa(Di.current);w=me(F,w,p,C,D,ne),(g.updateQueue=w)&&Ar(g)}},hd=function(p,g,w,C){w!==C&&Ar(g)};else if(q){Ji=function(p,g,w,C){for(var D=g.child;D!==null;){if(D.tag===5){var F=D.stateNode;w&&C&&(F=En(F,D.type,D.memoizedProps,D)),ee(p,F)}else if(D.tag===6)F=D.stateNode,w&&C&&(F=zn(F,D.memoizedProps,D)),ee(p,F);else if(D.tag!==4){if(D.tag===22&&D.memoizedState!==null)F=D.child,F!==null&&(F.return=D),Ji(p,D,!0,!0);else if(D.child!==null){D.child.return=D,D=D.child;continue}}if(D===g)break;for(;D.sibling===null;){if(D.return===null||D.return===g)return;D=D.return}D.sibling.return=D.return,D=D.sibling}};var ks=function(p,g,w,C){for(var D=g.child;D!==null;){if(D.tag===5){var F=D.stateNode;w&&C&&(F=En(F,D.type,D.memoizedProps,D)),_t(p,F)}else if(D.tag===6)F=D.stateNode,w&&C&&(F=zn(F,D.memoizedProps,D)),_t(p,F);else if(D.tag!==4){if(D.tag===22&&D.memoizedState!==null)F=D.child,F!==null&&(F.return=D),ks(p,D,!0,!0);else if(D.child!==null){D.child.return=D,D=D.child;continue}}if(D===g)break;for(;D.sibling===null;){if(D.return===null||D.return===g)return;D=D.return}D.sibling.return=D.return,D=D.sibling}};yl=function(p,g){var w=g.stateNode;if(!Lu(p,g)){p=w.containerInfo;var C=Rt(p);ks(C,g,!1,!1),w.pendingChildren=C,Ar(g),rn(p,C)}},fd=function(p,g,w,C,D){var F=p.stateNode,ne=p.memoizedProps;if((p=Lu(p,g))&&ne===C)g.stateNode=F;else{var de=g.stateNode,Oe=Fa(Di.current),Ye=null;ne!==C&&(Ye=me(de,w,ne,C,D,Oe)),p&&Ye===null?g.stateNode=F:(F=rt(F,Ye,w,ne,C,g,p,de),se(F,w,C,D,Oe)&&Ar(g),g.stateNode=F,p?Ar(g):Ji(F,g,!1,!1))}},hd=function(p,g,w,C){w!==C?(p=Fa(hl.current),w=Fa(Di.current),g.stateNode=Ne(C,p,w,g),Ar(g)):g.stateNode=p.stateNode}}else yl=function(){},fd=function(){},hd=function(){};function Ho(p,g){if(!Gn)switch(p.tailMode){case"hidden":g=p.tail;for(var w=null;g!==null;)g.alternate!==null&&(w=g),g=g.sibling;w===null?p.tail=null:w.sibling=null;break;case"collapsed":w=p.tail;for(var C=null;w!==null;)w.alternate!==null&&(C=w),w=w.sibling;C===null?g||p.tail===null?p.tail=null:p.tail.sibling=null:C.sibling=null}}function fr(p){var g=p.alternate!==null&&p.alternate.child===p.child,w=0,C=0;if(g)for(var D=p.child;D!==null;)w|=D.lanes|D.childLanes,C|=D.subtreeFlags&14680064,C|=D.flags&14680064,D.return=p,D=D.sibling;else for(D=p.child;D!==null;)w|=D.lanes|D.childLanes,C|=D.subtreeFlags,C|=D.flags,D.return=p,D=D.sibling;return p.subtreeFlags|=C,p.childLanes=w,g}function dd(p,g,w){var C=g.pendingProps;switch(Lm(g),g.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fr(g),null;case 1:return cr(g.type)&&jn(),fr(g),null;case 3:return C=g.stateNode,Pu(),Et(nr),Et(an),dl(),C.pendingContext&&(C.context=C.pendingContext,C.pendingContext=null),(p===null||p.child===null)&&($c(g)?Ar(g):p===null||p.memoizedState.isDehydrated&&(g.flags&256)===0||(g.flags|=1024,ba!==null&&(mf(ba),ba=null))),yl(p,g),fr(g),null;case 5:Um(g),w=Fa(hl.current);var D=g.type;if(p!==null&&g.stateNode!=null)fd(p,g,D,C,w),p.ref!==g.ref&&(g.flags|=512,g.flags|=2097152);else{if(!C){if(g.stateNode===null)throw Error(o(166));return fr(g),null}if(p=Fa(Di.current),$c(g)){if(!Re)throw Error(o(175));p=Am(g.stateNode,g.type,g.memoizedProps,w,p,g,!wu),g.updateQueue=p,p!==null&&Ar(g)}else{var F=V(D,C,w,p,g);Ji(F,g,!1,!1),g.stateNode=F,se(F,D,C,w,p)&&Ar(g)}g.ref!==null&&(g.flags|=512,g.flags|=2097152)}return fr(g),null;case 6:if(p&&g.stateNode!=null)hd(p,g,p.memoizedProps,C);else{if(typeof C!="string"&&g.stateNode===null)throw Error(o(166));if(p=Fa(hl.current),w=Fa(Di.current),$c(g)){if(!Re)throw Error(o(176));if(p=g.stateNode,C=g.memoizedProps,(w=Lo(p,C,g,!wu))&&(D=_i,D!==null))switch(F=(D.mode&1)!==0,D.tag){case 3:Ot(D.stateNode.containerInfo,p,C,F);break;case 5:Dt(D.type,D.memoizedProps,D.stateNode,p,C,F)}w&&Ar(g)}else g.stateNode=Ne(C,p,w,g)}return fr(g),null;case 13:if(Et(Zn),C=g.memoizedState,Gn&&Hr!==null&&(g.mode&1)!==0&&(g.flags&128)===0){for(p=Hr;p;)p=ka(p);return Mu(),g.flags|=98560,g}if(C!==null&&C.dehydrated!==null){if(C=$c(g),p===null){if(!C)throw Error(o(318));if(!Re)throw Error(o(344));if(p=g.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(o(317));Lh(p,g)}else Mu(),(g.flags&128)===0&&(g.memoizedState=null),g.flags|=4;return fr(g),null}return ba!==null&&(mf(ba),ba=null),(g.flags&128)!==0?(g.lanes=w,g):(C=C!==null,w=!1,p===null?$c(g):w=p.memoizedState!==null,C&&!w&&(g.child.flags|=8192,(g.mode&1)!==0&&(p===null||(Zn.current&1)!==0?ir===0&&(ir=3):_d())),g.updateQueue!==null&&(g.flags|=4),fr(g),null);case 4:return Pu(),yl(p,g),p===null&&Fe(g.stateNode.containerInfo),fr(g),null;case 10:return Gc(g.type._context),fr(g),null;case 17:return cr(g.type)&&jn(),fr(g),null;case 19:if(Et(Zn),D=g.memoizedState,D===null)return fr(g),null;if(C=(g.flags&128)!==0,F=D.rendering,F===null)if(C)Ho(D,!1);else{if(ir!==0||p!==null&&(p.flags&128)!==0)for(p=g.child;p!==null;){if(F=Qh(p),F!==null){for(g.flags|=128,Ho(D,!1),p=F.updateQueue,p!==null&&(g.updateQueue=p,g.flags|=4),g.subtreeFlags=0,p=w,C=g.child;C!==null;)w=C,D=p,w.flags&=14680066,F=w.alternate,F===null?(w.childLanes=0,w.lanes=D,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=F.childLanes,w.lanes=F.lanes,w.child=F.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=F.memoizedProps,w.memoizedState=F.memoizedState,w.updateQueue=F.updateQueue,w.type=F.type,D=F.dependencies,w.dependencies=D===null?null:{lanes:D.lanes,firstContext:D.firstContext}),C=C.sibling;return gt(Zn,Zn.current&1|2),g.child}p=p.sibling}D.tail!==null&&Mr()>Bs&&(g.flags|=128,C=!0,Ho(D,!1),g.lanes=4194304)}else{if(!C)if(p=Qh(F),p!==null){if(g.flags|=128,C=!0,p=p.updateQueue,p!==null&&(g.updateQueue=p,g.flags|=4),Ho(D,!0),D.tail===null&&D.tailMode==="hidden"&&!F.alternate&&!Gn)return fr(g),null}else 2*Mr()-D.renderingStartTime>Bs&&w!==1073741824&&(g.flags|=128,C=!0,Ho(D,!1),g.lanes=4194304);D.isBackwards?(F.sibling=g.child,g.child=F):(p=D.last,p!==null?p.sibling=F:g.child=F,D.last=F)}return D.tail!==null?(g=D.tail,D.rendering=g,D.tail=g.sibling,D.renderingStartTime=Mr(),g.sibling=null,p=Zn.current,gt(Zn,C?p&1|2:p&1),g):(fr(g),null);case 22:case 23:return gf(),C=g.memoizedState!==null,p!==null&&p.memoizedState!==null!==C&&(g.flags|=8192),C&&(g.mode&1)!==0?(si&1073741824)!==0&&(fr(g),Ge&&g.subtreeFlags&6&&(g.flags|=8192)):fr(g),null;case 24:return null;case 25:return null}throw Error(o(156,g.tag))}var Xm=s.ReactCurrentOwner,Nr=!1;function rr(p,g,w,C){g.child=p===null?x0(g,null,w,C):zo(g,p.child,w,C)}function Un(p,g,w,C,D){w=w.render;var F=g.ref;return _u(g,D),C=Cu(p,g,w,C,F,D),w=Ls(),p!==null&&!Nr?(g.updateQueue=p.updateQueue,g.flags&=-2053,p.lanes&=~D,Li(p,g,D)):(Gn&&w&&Dm(g),g.flags|=1,rr(p,g,C,D),g.child)}function Rn(p,g,w,C,D){if(p===null){var F=w.type;return typeof F=="function"&&!Sd(F)&&F.defaultProps===void 0&&w.compare===null&&w.defaultProps===void 0?(g.tag=15,g.type=F,Wo(p,g,F,C,D)):(p=wd(w.type,null,C,g,g.mode,D),p.ref=g.ref,p.return=g,g.child=p)}if(F=p.child,(p.lanes&D)===0){var ne=F.memoizedProps;if(w=w.compare,w=w!==null?w:Ua,w(ne,C)&&p.ref===g.ref)return Li(p,g,D)}return g.flags|=1,p=Qo(F,C),p.ref=g.ref,p.return=g,g.child=p}function Wo(p,g,w,C,D){if(p!==null&&Ua(p.memoizedProps,C)&&p.ref===g.ref)if(Nr=!1,(p.lanes&D)!==0)(p.flags&131072)!==0&&(Nr=!0);else return g.lanes=p.lanes,Li(p,g,D);return Go(p,g,w,C,D)}function Wr(p,g,w){var C=g.pendingProps,D=C.children,F=p!==null?p.memoizedState:null;if(C.mode==="hidden")if((g.mode&1)===0)g.memoizedState={baseLanes:0,cachePool:null},gt(El,si),si|=w;else if((w&1073741824)!==0)g.memoizedState={baseLanes:0,cachePool:null},C=F!==null?F.baseLanes:w,gt(El,si),si|=C;else return p=F!==null?F.baseLanes|w:w,g.lanes=g.childLanes=1073741824,g.memoizedState={baseLanes:p,cachePool:null},g.updateQueue=null,gt(El,si),si|=p,null;else F!==null?(C=F.baseLanes|w,g.memoizedState=null):C=w,gt(El,si),si|=C;return rr(p,g,D,w),g.child}function bi(p,g){var w=g.ref;(p===null&&w!==null||p!==null&&p.ref!==w)&&(g.flags|=512,g.flags|=2097152)}function Go(p,g,w,C,D){var F=cr(w)?io:an.current;return F=vi(g,F),_u(g,D),w=Cu(p,g,w,C,F,D),C=Ls(),p!==null&&!Nr?(g.updateQueue=p.updateQueue,g.flags&=-2053,p.lanes&=~D,Li(p,g,D)):(Gn&&C&&Dm(g),g.flags|=1,rr(p,g,w,D),g.child)}function xl(p,g,w,C,D){if(cr(w)){var F=!0;Vr(g)}else F=!1;if(_u(g,D),g.stateNode===null)p!==null&&(p.alternate=null,g.alternate=null,g.flags|=2),p0(g,w,C),Im(g,w,C,D),C=!0;else if(p===null){var ne=g.stateNode,de=g.memoizedProps;ne.props=de;var Oe=ne.context,Ye=w.contextType;typeof Ye=="object"&&Ye!==null?Ye=Ii(Ye):(Ye=cr(w)?io:an.current,Ye=vi(g,Ye));var mt=w.getDerivedStateFromProps,Xt=typeof mt=="function"||typeof ne.getSnapshotBeforeUpdate=="function";Xt||typeof ne.UNSAFE_componentWillReceiveProps!="function"&&typeof ne.componentWillReceiveProps!="function"||(de!==C||Oe!==Ye)&&m0(g,ne,C,Ye),xa=!1;var It=g.memoizedState;ne.state=It,$h(g,C,ne,D),Oe=g.memoizedState,de!==C||It!==Oe||nr.current||xa?(typeof mt=="function"&&(Om(g,w,mt,C),Oe=g.memoizedState),(de=xa||Rm(g,w,de,C,It,Oe,Ye))?(Xt||typeof ne.UNSAFE_componentWillMount!="function"&&typeof ne.componentWillMount!="function"||(typeof ne.componentWillMount=="function"&&ne.componentWillMount(),typeof ne.UNSAFE_componentWillMount=="function"&&ne.UNSAFE_componentWillMount()),typeof ne.componentDidMount=="function"&&(g.flags|=4194308)):(typeof ne.componentDidMount=="function"&&(g.flags|=4194308),g.memoizedProps=C,g.memoizedState=Oe),ne.props=C,ne.state=Oe,ne.context=Ye,C=de):(typeof ne.componentDidMount=="function"&&(g.flags|=4194308),C=!1)}else{ne=g.stateNode,Cm(p,g),de=g.memoizedProps,Ye=g.type===g.elementType?de:Ri(g.type,de),ne.props=Ye,Xt=g.pendingProps,It=ne.context,Oe=w.contextType,typeof Oe=="object"&&Oe!==null?Oe=Ii(Oe):(Oe=cr(w)?io:an.current,Oe=vi(g,Oe));var tn=w.getDerivedStateFromProps;(mt=typeof tn=="function"||typeof ne.getSnapshotBeforeUpdate=="function")||typeof ne.UNSAFE_componentWillReceiveProps!="function"&&typeof ne.componentWillReceiveProps!="function"||(de!==Xt||It!==Oe)&&m0(g,ne,C,Oe),xa=!1,It=g.memoizedState,ne.state=It,$h(g,C,ne,D);var ut=g.memoizedState;de!==Xt||It!==ut||nr.current||xa?(typeof tn=="function"&&(Om(g,w,tn,C),ut=g.memoizedState),(Ye=xa||Rm(g,w,Ye,C,It,ut,Oe)||!1)?(mt||typeof ne.UNSAFE_componentWillUpdate!="function"&&typeof ne.componentWillUpdate!="function"||(typeof ne.componentWillUpdate=="function"&&ne.componentWillUpdate(C,ut,Oe),typeof ne.UNSAFE_componentWillUpdate=="function"&&ne.UNSAFE_componentWillUpdate(C,ut,Oe)),typeof ne.componentDidUpdate=="function"&&(g.flags|=4),typeof ne.getSnapshotBeforeUpdate=="function"&&(g.flags|=1024)):(typeof ne.componentDidUpdate!="function"||de===p.memoizedProps&&It===p.memoizedState||(g.flags|=4),typeof ne.getSnapshotBeforeUpdate!="function"||de===p.memoizedProps&&It===p.memoizedState||(g.flags|=1024),g.memoizedProps=C,g.memoizedState=ut),ne.props=C,ne.state=ut,ne.context=Oe,C=Ye):(typeof ne.componentDidUpdate!="function"||de===p.memoizedProps&&It===p.memoizedState||(g.flags|=4),typeof ne.getSnapshotBeforeUpdate!="function"||de===p.memoizedProps&&It===p.memoizedState||(g.flags|=1024),C=!1)}return oi(p,g,w,C,F,D)}function oi(p,g,w,C,D,F){bi(p,g);var ne=(g.flags&128)!==0;if(!C&&!ne)return D&&Ps(g,w,!1),Li(p,g,F);C=g.stateNode,Xm.current=g;var de=ne&&typeof w.getDerivedStateFromError!="function"?null:C.render();return g.flags|=1,p!==null&&ne?(g.child=zo(g,p.child,null,F),g.child=zo(g,null,de,F)):rr(p,g,de,F),g.memoizedState=C.state,D&&Ps(g,w,!0),g.child}function nf(p){var g=p.stateNode;g.pendingContext?Xi(p,g.pendingContext,g.pendingContext!==g.context):g.context&&Xi(p,g.context,!1),Jh(p,g.containerInfo)}function Ym(p,g,w,C,D){return Mu(),Zh(D),g.flags|=256,rr(p,g,w,C),g.child}var rf={dehydrated:null,treeContext:null,retryLane:0};function _l(p){return{baseLanes:p,cachePool:null}}function Km(p,g,w){var C=g.pendingProps,D=Zn.current,F=!1,ne=(g.flags&128)!==0,de;if((de=ne)||(de=p!==null&&p.memoizedState===null?!1:(D&2)!==0),de?(F=!0,g.flags&=-129):(p===null||p.memoizedState!==null)&&(D|=1),gt(Zn,D&1),p===null)return Is(g),p=g.memoizedState,p!==null&&(p=p.dehydrated,p!==null)?((g.mode&1)===0?g.lanes=1:Io(p)?g.lanes=8:g.lanes=1073741824,null):(D=C.children,p=C.fallback,F?(C=g.mode,F=g.child,D={mode:"hidden",children:D},(C&1)===0&&F!==null?(F.childLanes=0,F.pendingProps=D):F=xf(D,C,0,null),p=Il(p,C,w,null),F.return=g,p.return=g,F.sibling=p,g.child=F,g.child.memoizedState=_l(w),g.memoizedState=rf,p):ja(g,D));if(D=p.memoizedState,D!==null){if(de=D.dehydrated,de!==null){if(ne)return g.flags&256?(g.flags&=-257,of(p,g,w,Error(o(422)))):g.memoizedState!==null?(g.child=p.child,g.flags|=128,null):(F=C.fallback,D=g.mode,C=xf({mode:"visible",children:C.children},D,0,null),F=Il(F,D,w,null),F.flags|=2,C.return=g,F.return=g,C.sibling=F,g.child=C,(g.mode&1)!==0&&zo(g,p.child,null,w),g.child.memoizedState=_l(w),g.memoizedState=rf,F);if((g.mode&1)===0)g=of(p,g,w,null);else if(Io(de))g=of(p,g,w,Error(o(419)));else if(C=(w&p.childLanes)!==0,Nr||C){if(C=hr,C!==null){switch(w&-w){case 4:F=2;break;case 16:F=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:F=32;break;case 536870912:F=268435456;break;default:F=0}C=(F&(C.suspendedLanes|w))!==0?0:F,C!==0&&C!==D.retryLane&&(D.retryLane=C,li(p,C,-1))}_d(),g=of(p,g,w,Error(o(421)))}else Fc(de)?(g.flags|=128,g.child=p.child,g=C0.bind(null,p),Do(de,g),g=null):(w=D.treeContext,Re&&(Hr=Dh(de),_i=g,Gn=!0,ba=null,wu=!1,w!==null&&(_a[Yi++]=Fo,_a[Yi++]=Bo,_a[Yi++]=ul,Fo=w.id,Bo=w.overflow,ul=g)),g=ja(g,g.pendingProps.children),g.flags|=4096);return g}return F?(C=pd(p,g,C.children,C.fallback,w),F=g.child,D=p.child.memoizedState,F.memoizedState=D===null?_l(w):{baseLanes:D.baseLanes|w,cachePool:null},F.childLanes=p.childLanes&~w,g.memoizedState=rf,C):(w=af(p,g,C.children,w),g.memoizedState=null,w)}return F?(C=pd(p,g,C.children,C.fallback,w),F=g.child,D=p.child.memoizedState,F.memoizedState=D===null?_l(w):{baseLanes:D.baseLanes|w,cachePool:null},F.childLanes=p.childLanes&~w,g.memoizedState=rf,C):(w=af(p,g,C.children,w),g.memoizedState=null,w)}function ja(p,g){return g=xf({mode:"visible",children:g},p.mode,0,null),g.return=p,p.child=g}function af(p,g,w,C){var D=p.child;return p=D.sibling,w=Qo(D,{mode:"visible",children:w}),(g.mode&1)===0&&(w.lanes=C),w.return=g,w.sibling=null,p!==null&&(C=g.deletions,C===null?(g.deletions=[p],g.flags|=16):C.push(p)),g.child=w}function pd(p,g,w,C,D){var F=g.mode;p=p.child;var ne=p.sibling,de={mode:"hidden",children:w};return(F&1)===0&&g.child!==p?(w=g.child,w.childLanes=0,w.pendingProps=de,g.deletions=null):(w=Qo(p,de),w.subtreeFlags=p.subtreeFlags&14680064),ne!==null?C=Qo(ne,C):(C=Il(C,F,D,null),C.flags|=2),C.return=g,w.return=g,w.sibling=C,g.child=w,C}function of(p,g,w,C){return C!==null&&Zh(C),zo(g,p.child,null,w),p=ja(g,g.pendingProps.children),p.flags|=2,g.memoizedState=null,p}function A0(p,g,w){p.lanes|=g;var C=p.alternate;C!==null&&(C.lanes|=g),ll(p.return,g,w)}function uo(p,g,w,C,D){var F=p.memoizedState;F===null?p.memoizedState={isBackwards:g,rendering:null,renderingStartTime:0,last:C,tail:w,tailMode:D}:(F.isBackwards=g,F.rendering=null,F.renderingStartTime=0,F.last=C,F.tail=w,F.tailMode=D)}function bl(p,g,w){var C=g.pendingProps,D=C.revealOrder,F=C.tail;if(rr(p,g,C.children,w),C=Zn.current,(C&2)!==0)C=C&1|2,g.flags|=128;else{if(p!==null&&(p.flags&128)!==0)e:for(p=g.child;p!==null;){if(p.tag===13)p.memoizedState!==null&&A0(p,w,g);else if(p.tag===19)A0(p,w,g);else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===g)break e;for(;p.sibling===null;){if(p.return===null||p.return===g)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}C&=1}if(gt(Zn,C),(g.mode&1)===0)g.memoizedState=null;else switch(D){case"forwards":for(w=g.child,D=null;w!==null;)p=w.alternate,p!==null&&Qh(p)===null&&(D=w),w=w.sibling;w=D,w===null?(D=g.child,g.child=null):(D=w.sibling,w.sibling=null),uo(g,!1,D,w,F);break;case"backwards":for(w=null,D=g.child,g.child=null;D!==null;){if(p=D.alternate,p!==null&&Qh(p)===null){g.child=D;break}p=D.sibling,D.sibling=w,w=D,D=p}uo(g,!0,w,null,F);break;case"together":uo(g,!1,null,null,void 0);break;default:g.memoizedState=null}return g.child}function Li(p,g,w){if(p!==null&&(g.dependencies=p.dependencies),co|=g.lanes,(w&g.childLanes)===0)return null;if(p!==null&&g.child!==p.child)throw Error(o(153));if(g.child!==null){for(p=g.child,w=Qo(p,p.pendingProps),g.child=w,w.return=g;p.sibling!==null;)p=p.sibling,w=w.sibling=Qo(p,p.pendingProps),w.return=g;w.sibling=null}return g.child}function md(p,g,w){switch(g.tag){case 3:nf(g),Mu();break;case 5:_0(g);break;case 1:cr(g.type)&&Vr(g);break;case 4:Jh(g,g.stateNode.containerInfo);break;case 10:sl(g,g.type._context,g.memoizedProps.value);break;case 13:var C=g.memoizedState;if(C!==null)return C.dehydrated!==null?(gt(Zn,Zn.current&1),g.flags|=128,null):(w&g.child.childLanes)!==0?Km(p,g,w):(gt(Zn,Zn.current&1),p=Li(p,g,w),p!==null?p.sibling:null);gt(Zn,Zn.current&1);break;case 19:if(C=(w&g.childLanes)!==0,(p.flags&128)!==0){if(C)return bl(p,g,w);g.flags|=128}var D=g.memoizedState;if(D!==null&&(D.rendering=null,D.tail=null,D.lastEffect=null),gt(Zn,Zn.current),C)break;return null;case 22:case 23:return g.lanes=0,Wr(p,g,w)}return Li(p,g,w)}function gd(p,g){switch(Lm(g),g.tag){case 1:return cr(g.type)&&jn(),p=g.flags,p&65536?(g.flags=p&-65537|128,g):null;case 3:return Pu(),Et(nr),Et(an),dl(),p=g.flags,(p&65536)!==0&&(p&128)===0?(g.flags=p&-65537|128,g):null;case 5:return Um(g),null;case 13:if(Et(Zn),p=g.memoizedState,p!==null&&p.dehydrated!==null){if(g.alternate===null)throw Error(o(340));Mu()}return p=g.flags,p&65536?(g.flags=p&-65537|128,g):null;case 19:return Et(Zn),null;case 4:return Pu(),null;case 10:return Gc(g.type._context),null;case 22:case 23:return gf(),null;case 24:return null;default:return null}}var Si=!1,kr=!1,Sl=typeof WeakSet=="function"?WeakSet:Set,et=null;function Sa(p,g){var w=p.ref;if(w!==null)if(typeof w=="function")try{w(null)}catch(C){Mi(p,g,C)}else w.current=null}function $o(p,g,w){try{w()}catch(C){Mi(p,g,C)}}var Zm=!1;function Jm(p,g){for(X(p.containerInfo),et=g;et!==null;)if(p=et,g=p.child,(p.subtreeFlags&1028)!==0&&g!==null)g.return=p,et=g;else for(;et!==null;){p=et;try{var w=p.alternate;if((p.flags&1024)!==0)switch(p.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var C=w.memoizedProps,D=w.memoizedState,F=p.stateNode,ne=F.getSnapshotBeforeUpdate(p.elementType===p.type?C:Ri(p.type,C),D);F.__reactInternalSnapshotBeforeUpdate=ne}break;case 3:Ge&&Xe(p.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(de){Mi(p,p.return,de)}if(g=p.sibling,g!==null){g.return=p.return,et=g;break}et=p.return}return w=Zm,Zm=!1,w}function qo(p,g,w){var C=g.updateQueue;if(C=C!==null?C.lastEffect:null,C!==null){var D=C=C.next;do{if((D.tag&p)===p){var F=D.destroy;D.destroy=void 0,F!==void 0&&$o(g,w,F)}D=D.next}while(D!==C)}}function Gr(p,g){if(g=g.updateQueue,g=g!==null?g.lastEffect:null,g!==null){var w=g=g.next;do{if((w.tag&p)===p){var C=w.create;w.destroy=C()}w=w.next}while(w!==g)}}function wi(p){var g=p.ref;if(g!==null){var w=p.stateNode;p.tag===5?p=J(w):p=w,typeof g=="function"?g(p):g.current=p}}function Vn(p,g,w){if(oo&&typeof oo.onCommitFiberUnmount=="function")try{oo.onCommitFiberUnmount(jc,g)}catch{}switch(g.tag){case 0:case 11:case 14:case 15:if(p=g.updateQueue,p!==null&&(p=p.lastEffect,p!==null)){var C=p=p.next;do{var D=C,F=D.destroy;D=D.tag,F!==void 0&&((D&2)!==0||(D&4)!==0)&&$o(g,w,F),C=C.next}while(C!==p)}break;case 1:if(Sa(g,w),p=g.stateNode,typeof p.componentWillUnmount=="function")try{p.props=g.memoizedProps,p.state=g.memoizedState,p.componentWillUnmount()}catch(ne){Mi(g,w,ne)}break;case 5:Sa(g,w);break;case 4:Ge?tg(p,g,w):q&&q&&(g=g.stateNode.containerInfo,w=Rt(g),dn(g,w))}}function wa(p,g,w){for(var C=g;;)if(Vn(p,C,w),C.child===null||Ge&&C.tag===4){if(C===g)break;for(;C.sibling===null;){if(C.return===null||C.return===g)return;C=C.return}C.sibling.return=C.return,C=C.sibling}else C.child.return=C,C=C.child}function Qm(p){var g=p.alternate;g!==null&&(p.alternate=null,Qm(g)),p.child=null,p.deletions=null,p.sibling=null,p.tag===5&&(g=p.stateNode,g!==null&&it(g)),p.stateNode=null,p.return=null,p.dependencies=null,p.memoizedProps=null,p.memoizedState=null,p.pendingProps=null,p.stateNode=null,p.updateQueue=null}function eg(p){return p.tag===5||p.tag===3||p.tag===4}function vd(p){e:for(;;){for(;p.sibling===null;){if(p.return===null||eg(p.return))return null;p=p.return}for(p.sibling.return=p.return,p=p.sibling;p.tag!==5&&p.tag!==6&&p.tag!==18;){if(p.flags&2||p.child===null||p.tag===4)continue e;p.child.return=p,p=p.child}if(!(p.flags&2))return p.stateNode}}function yd(p){if(Ge){e:{for(var g=p.return;g!==null;){if(eg(g))break e;g=g.return}throw Error(o(160))}var w=g;switch(w.tag){case 5:g=w.stateNode,w.flags&32&&(Ue(g),w.flags&=-33),w=vd(p),Nu(p,w,g);break;case 3:case 4:g=w.stateNode.containerInfo,w=vd(p),xd(p,w,g);break;default:throw Error(o(161))}}}function xd(p,g,w){var C=p.tag;if(C===5||C===6)p=p.stateNode,g?Ct(w,p,g):Vt(w,p);else if(C!==4&&(p=p.child,p!==null))for(xd(p,g,w),p=p.sibling;p!==null;)xd(p,g,w),p=p.sibling}function Nu(p,g,w){var C=p.tag;if(C===5||C===6)p=p.stateNode,g?Ft(w,p,g):Tt(w,p);else if(C!==4&&(p=p.child,p!==null))for(Nu(p,g,w),p=p.sibling;p!==null;)Nu(p,g,w),p=p.sibling}function tg(p,g,w){for(var C=g,D=!1,F,ne;;){if(!D){D=C.return;e:for(;;){if(D===null)throw Error(o(160));switch(F=D.stateNode,D.tag){case 5:ne=!1;break e;case 3:F=F.containerInfo,ne=!0;break e;case 4:F=F.containerInfo,ne=!0;break e}D=D.return}D=!0}if(C.tag===5||C.tag===6)wa(p,C,w),ne?ue(F,C.stateNode):pt(F,C.stateNode);else if(C.tag===18)ne?Se(F,C.stateNode):Ee(F,C.stateNode);else if(C.tag===4){if(C.child!==null){F=C.stateNode.containerInfo,ne=!0,C.child.return=C,C=C.child;continue}}else if(Vn(p,C,w),C.child!==null){C.child.return=C,C=C.child;continue}if(C===g)break;for(;C.sibling===null;){if(C.return===null||C.return===g)return;C=C.return,C.tag===4&&(D=!1)}C.sibling.return=C.return,C=C.sibling}}function Us(p,g){if(Ge){switch(g.tag){case 0:case 11:case 14:case 15:qo(3,g,g.return),Gr(3,g),qo(5,g,g.return);return;case 1:return;case 5:var w=g.stateNode;if(w!=null){var C=g.memoizedProps;p=p!==null?p.memoizedProps:C;var D=g.type,F=g.updateQueue;g.updateQueue=null,F!==null&&Zt(w,F,D,p,C,g)}return;case 6:if(g.stateNode===null)throw Error(o(162));w=g.memoizedProps,Ve(g.stateNode,p!==null?p.memoizedProps:w,w);return;case 3:Re&&p!==null&&p.memoizedState.isDehydrated&&ve(g.stateNode.containerInfo);return;case 12:return;case 13:ku(g);return;case 19:ku(g);return;case 17:return}throw Error(o(163))}switch(g.tag){case 0:case 11:case 14:case 15:qo(3,g,g.return),Gr(3,g),qo(5,g,g.return);return;case 12:return;case 13:ku(g);return;case 19:ku(g);return;case 3:Re&&p!==null&&p.memoizedState.isDehydrated&&ve(g.stateNode.containerInfo);break;case 22:case 23:return}e:if(q){switch(g.tag){case 1:case 5:case 6:break e;case 3:case 4:g=g.stateNode,dn(g.containerInfo,g.pendingChildren);break e}throw Error(o(163))}}function ku(p){var g=p.updateQueue;if(g!==null){p.updateQueue=null;var w=p.stateNode;w===null&&(w=p.stateNode=new Sl),g.forEach(function(C){var D=O0.bind(null,p,C);w.has(C)||(w.add(C),C.then(D,D))})}}function n1(p,g){for(et=g;et!==null;){g=et;var w=g.deletions;if(w!==null)for(var C=0;C<w.length;C++){var D=w[C];try{var F=p;Ge?tg(F,D,g):wa(F,D,g);var ne=D.alternate;ne!==null&&(ne.return=null),D.return=null}catch(wt){Mi(D,g,wt)}}if(w=g.child,(g.subtreeFlags&12854)!==0&&w!==null)w.return=g,et=w;else for(;et!==null;){g=et;try{var de=g.flags;if(de&32&&Ge&&Ue(g.stateNode),de&512){var Oe=g.alternate;if(Oe!==null){var Ye=Oe.ref;Ye!==null&&(typeof Ye=="function"?Ye(null):Ye.current=null)}}if(de&8192)switch(g.tag){case 13:if(g.memoizedState!==null){var mt=g.alternate;(mt===null||mt.memoizedState===null)&&(df=Mr())}break;case 22:var Xt=g.memoizedState!==null,It=g.alternate,tn=It!==null&&It.memoizedState!==null;if(w=g,Ge){e:if(C=w,D=Xt,F=null,Ge)for(var ut=C;;){if(ut.tag===5){if(F===null){F=ut;var Xr=ut.stateNode;D?st(Xr):He(ut.stateNode,ut.memoizedProps)}}else if(ut.tag===6){if(F===null){var ra=ut.stateNode;D?at(ra):le(ra,ut.memoizedProps)}}else if((ut.tag!==22&&ut.tag!==23||ut.memoizedState===null||ut===C)&&ut.child!==null){ut.child.return=ut,ut=ut.child;continue}if(ut===C)break;for(;ut.sibling===null;){if(ut.return===null||ut.return===C)break e;F===ut&&(F=null),ut=ut.return}F===ut&&(F=null),ut.sibling.return=ut.return,ut=ut.sibling}}if(Xt&&!tn&&(w.mode&1)!==0){et=w;for(var be=w.child;be!==null;){for(w=et=be;et!==null;){C=et;var pe=C.child;switch(C.tag){case 0:case 11:case 14:case 15:qo(4,C,C.return);break;case 1:Sa(C,C.return);var Pe=C.stateNode;if(typeof Pe.componentWillUnmount=="function"){var ot=C.return;try{Pe.props=C.memoizedProps,Pe.state=C.memoizedState,Pe.componentWillUnmount()}catch(wt){Mi(C,ot,wt)}}break;case 5:Sa(C,C.return);break;case 22:if(C.memoizedState!==null){rg(w);continue}}pe!==null?(pe.return=C,et=pe):rg(w)}be=be.sibling}}}switch(de&4102){case 2:yd(g),g.flags&=-3;break;case 6:yd(g),g.flags&=-3,Us(g.alternate,g);break;case 4096:g.flags&=-4097;break;case 4100:g.flags&=-4097,Us(g.alternate,g);break;case 4:Us(g.alternate,g)}}catch(wt){Mi(g,g.return,wt)}if(w=g.sibling,w!==null){w.return=g.return,et=w;break}et=g.return}}}function sf(p,g,w){et=p,lf(p)}function lf(p,g,w){for(var C=(p.mode&1)!==0;et!==null;){var D=et,F=D.child;if(D.tag===22&&C){var ne=D.memoizedState!==null||Si;if(!ne){var de=D.alternate,Oe=de!==null&&de.memoizedState!==null||kr;de=Si;var Ye=kr;if(Si=ne,(kr=Oe)&&!Ye)for(et=D;et!==null;)ne=et,Oe=ne.child,ne.tag===22&&ne.memoizedState!==null?wl(D):Oe!==null?(Oe.return=ne,et=Oe):wl(D);for(;F!==null;)et=F,lf(F),F=F.sibling;et=D,Si=de,kr=Ye}ng(p)}else(D.subtreeFlags&8772)!==0&&F!==null?(F.return=D,et=F):ng(p)}}function ng(p){for(;et!==null;){var g=et;if((g.flags&8772)!==0){var w=g.alternate;try{if((g.flags&8772)!==0)switch(g.tag){case 0:case 11:case 15:kr||Gr(5,g);break;case 1:var C=g.stateNode;if(g.flags&4&&!kr)if(w===null)C.componentDidMount();else{var D=g.elementType===g.type?w.memoizedProps:Ri(g.type,w.memoizedProps);C.componentDidUpdate(D,w.memoizedState,C.__reactInternalSnapshotBeforeUpdate)}var F=g.updateQueue;F!==null&&h0(g,F,C);break;case 3:var ne=g.updateQueue;if(ne!==null){if(w=null,g.child!==null)switch(g.child.tag){case 5:w=J(g.child.stateNode);break;case 1:w=g.child.stateNode}h0(g,ne,w)}break;case 5:var de=g.stateNode;w===null&&g.flags&4&&en(de,g.type,g.memoizedProps,g);break;case 6:break;case 4:break;case 12:break;case 13:if(Re&&g.memoizedState===null){var Oe=g.alternate;if(Oe!==null){var Ye=Oe.memoizedState;if(Ye!==null){var mt=Ye.dehydrated;mt!==null&&Me(mt)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}kr||g.flags&512&&wi(g)}catch(Xt){Mi(g,g.return,Xt)}}if(g===p){et=null;break}if(w=g.sibling,w!==null){w.return=g.return,et=w;break}et=g.return}}function rg(p){for(;et!==null;){var g=et;if(g===p){et=null;break}var w=g.sibling;if(w!==null){w.return=g.return,et=w;break}et=g.return}}function wl(p){for(;et!==null;){var g=et;try{switch(g.tag){case 0:case 11:case 15:var w=g.return;try{Gr(4,g)}catch(Oe){Mi(g,w,Oe)}break;case 1:var C=g.stateNode;if(typeof C.componentDidMount=="function"){var D=g.return;try{C.componentDidMount()}catch(Oe){Mi(g,D,Oe)}}var F=g.return;try{wi(g)}catch(Oe){Mi(g,F,Oe)}break;case 5:var ne=g.return;try{wi(g)}catch(Oe){Mi(g,ne,Oe)}}}catch(Oe){Mi(g,g.return,Oe)}if(g===p){et=null;break}var de=g.sibling;if(de!==null){de.return=g.return,et=de;break}et=g.return}}var uf=0,Ml=1,Al=2,Xo=3,Uu=4;if(typeof Symbol=="function"&&Symbol.for){var Tl=Symbol.for;uf=Tl("selector.component"),Ml=Tl("selector.has_pseudo_class"),Al=Tl("selector.role"),Xo=Tl("selector.test_id"),Uu=Tl("selector.text")}function cf(p){var g=_e(p);if(g!=null){if(typeof g.memoizedProps["data-testname"]!="string")throw Error(o(364));return g}if(p=ge(p),p===null)throw Error(o(362));return p.stateNode.current}function ff(p,g){switch(g.$$typeof){case uf:if(p.type===g.value)return!0;break;case Ml:e:{g=g.value,p=[p,0];for(var w=0;w<p.length;){var C=p[w++],D=p[w++],F=g[D];if(C.tag!==5||!ke(C)){for(;F!=null&&ff(C,F);)D++,F=g[D];if(D===g.length){g=!0;break e}else for(C=C.child;C!==null;)p.push(C,D),C=C.sibling}}g=!1}return g;case Al:if(p.tag===5&&xt(p.stateNode,g.value))return!0;break;case Uu:if((p.tag===5||p.tag===6)&&(p=je(p),p!==null&&0<=p.indexOf(g.value)))return!0;break;case Xo:if(p.tag===5&&(p=p.memoizedProps["data-testname"],typeof p=="string"&&p.toLowerCase()===g.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function Fs(p){switch(p.$$typeof){case uf:return"<"+(I(p.value)||"Unknown")+">";case Ml:return":has("+(Fs(p)||"")+")";case Al:return'[role="'+p.value+'"]';case Uu:return'"'+p.value+'"';case Xo:return'[data-testname="'+p.value+'"]';default:throw Error(o(365))}}function Qi(p,g){var w=[];p=[p,0];for(var C=0;C<p.length;){var D=p[C++],F=p[C++],ne=g[F];if(D.tag!==5||!ke(D)){for(;ne!=null&&ff(D,ne);)F++,ne=g[F];if(F===g.length)w.push(D);else for(D=D.child;D!==null;)p.push(D,F),D=D.sibling}}return w}function Yo(p,g){if(!W)throw Error(o(363));p=cf(p),p=Qi(p,g),g=[],p=Array.from(p);for(var w=0;w<p.length;){var C=p[w++];if(C.tag===5)ke(C)||g.push(C.stateNode);else for(C=C.child;C!==null;)p.push(C),C=C.sibling}return g}var ig=Math.ceil,hf=s.ReactCurrentDispatcher,Va=s.ReactCurrentOwner,Pn=s.ReactCurrentBatchConfig,Jt=0,hr=null,Cn=null,$n=0,si=0,El=ur(0),ir=0,Fu=null,co=0,ea=0,Pl=0,Ko=null,gr=null,df=0,Bs=1/0;function Cl(){Bs=Mr()+500}var Bu=!1,Hn=null,Ha=null,zu=!1,fo=null,Ol=0,Rl=0,Zo=null,Fn=-1,ar=0;function yn(){return(Jt&6)!==0?Mr():Fn!==-1?Fn:Fn=Mr()}function Wa(p){return(p.mode&1)===0?1:(Jt&2)!==0&&$n!==0?$n&-$n:f0.transition!==null?(ar===0&&(p=vu,vu<<=1,(vu&4194240)===0&&(vu=64),ar=p),ar):(p=on,p!==0?p:Ae())}function li(p,g,w){if(50<Rl)throw Rl=0,Zo=null,Error(o(185));var C=zs(p,g);return C===null?null:(rl(C,g,w),((Jt&2)===0||C!==hr)&&(C===hr&&((Jt&2)===0&&(ea|=g),ir===4&&qr(C,$n)),Ni(C,w),g===1&&Jt===0&&(p.mode&1)===0&&(Cl(),zh&&va())),C)}function zs(p,g){p.lanes|=g;var w=p.alternate;for(w!==null&&(w.lanes|=g),w=p,p=p.return;p!==null;)p.childLanes|=g,w=p.alternate,w!==null&&(w.childLanes|=g),w=p,p=p.return;return w.tag===3?w.stateNode:null}function Ni(p,g){var w=p.callbackNode;c0(p,g);var C=zc(p,p===hr?$n:0);if(C===0)w!==null&&xu(w),p.callbackNode=null,p.callbackPriority=0;else if(g=C&-C,p.callbackPriority!==g){if(w!=null&&xu(w),g===1)p.tag===0?Vh(ta.bind(null,p)):jh(ta.bind(null,p)),Qe?Y(function(){Jt===0&&va()}):il(al,va),w=null;else{switch(No(C)){case 1:w=al;break;case 4:w=QS;break;case 16:w=Fh;break;case 536870912:w=Bh;break;default:w=Fh}w=bd(w,$r.bind(null,p))}p.callbackPriority=g,p.callbackNode=w}}function $r(p,g){if(Fn=-1,ar=0,(Jt&6)!==0)throw Error(o(327));var w=p.callbackNode;if(ho()&&p.callbackNode!==w)return null;var C=zc(p,p===hr?$n:0);if(C===0)return null;if((C&30)!==0||(C&p.expiredLanes)!==0||g)g=vf(p,C);else{g=C;var D=Jt;Jt|=2;var F=sg();(hr!==p||$n!==g)&&(Cl(),Jo(p,g));do try{E0();break}catch(de){og(p,de)}while(!0);xi(),hf.current=F,Jt=D,Cn!==null?g=0:(hr=null,$n=0,g=ir)}if(g!==0){if(g===2&&(D=Nh(p),D!==0&&(C=D,g=pf(p,D))),g===1)throw w=Fu,Jo(p,0),qr(p,C),Ni(p,Mr()),w;if(g===6)qr(p,C);else{if(D=p.current.alternate,(C&30)===0&&!ag(D)&&(g=vf(p,C),g===2&&(F=Nh(p),F!==0&&(C=F,g=pf(p,F))),g===1))throw w=Fu,Jo(p,0),qr(p,C),Ni(p,Mr()),w;switch(p.finishedWork=D,p.finishedLanes=C,g){case 0:case 1:throw Error(o(345));case 2:Ga(p,gr);break;case 3:if(qr(p,C),(C&130023424)===C&&(g=df+500-Mr(),10<g)){if(zc(p,0)!==0)break;if(D=p.suspendedLanes,(D&C)!==C){yn(),p.pingedLanes|=p.suspendedLanes&D;break}p.timeoutHandle=De(Ga.bind(null,p,gr),g);break}Ga(p,gr);break;case 4:if(qr(p,C),(C&4194240)===C)break;for(g=p.eventTimes,D=-1;0<C;){var ne=31-Oi(C);F=1<<ne,ne=g[ne],ne>D&&(D=ne),C&=~F}if(C=D,C=Mr()-C,C=(120>C?120:480>C?480:1080>C?1080:1920>C?1920:3e3>C?3e3:4320>C?4320:1960*ig(C/1960))-C,10<C){p.timeoutHandle=De(Ga.bind(null,p,gr),C);break}Ga(p,gr);break;case 5:Ga(p,gr);break;default:throw Error(o(329))}}}return Ni(p,Mr()),p.callbackNode===w?$r.bind(null,p):null}function pf(p,g){var w=Ko;return p.current.memoizedState.isDehydrated&&(Jo(p,g).flags|=256),p=vf(p,g),p!==2&&(g=gr,gr=w,g!==null&&mf(g)),p}function mf(p){gr===null?gr=p:gr.push.apply(gr,p)}function ag(p){for(var g=p;;){if(g.flags&16384){var w=g.updateQueue;if(w!==null&&(w=w.stores,w!==null))for(var C=0;C<w.length;C++){var D=w[C],F=D.getSnapshot;D=D.value;try{if(!yi(F(),D))return!1}catch{return!1}}}if(w=g.child,g.subtreeFlags&16384&&w!==null)w.return=g,g=w;else{if(g===p)break;for(;g.sibling===null;){if(g.return===null||g.return===p)return!0;g=g.return}g.sibling.return=g.return,g=g.sibling}}return!0}function qr(p,g){for(g&=~Pl,g&=~ea,p.suspendedLanes|=g,p.pingedLanes&=~g,p=p.expirationTimes;0<g;){var w=31-Oi(g),C=1<<w;p[w]=-1,g&=~C}}function ta(p){if((Jt&6)!==0)throw Error(o(327));ho();var g=zc(p,0);if((g&1)===0)return Ni(p,Mr()),null;var w=vf(p,g);if(p.tag!==0&&w===2){var C=Nh(p);C!==0&&(g=C,w=pf(p,C))}if(w===1)throw w=Fu,Jo(p,0),qr(p,g),Ni(p,Mr()),w;if(w===6)throw Error(o(345));return p.finishedWork=p.current.alternate,p.finishedLanes=g,Ga(p,gr),Ni(p,Mr()),null}function ju(p){fo!==null&&fo.tag===0&&(Jt&6)===0&&ho();var g=Jt;Jt|=1;var w=Pn.transition,C=on;try{if(Pn.transition=null,on=1,p)return p()}finally{on=C,Pn.transition=w,Jt=g,(Jt&6)===0&&va()}}function gf(){si=El.current,Et(El)}function Jo(p,g){p.finishedWork=null,p.finishedLanes=0;var w=p.timeoutHandle;if(w!==Te&&(p.timeoutHandle=Te,Ke(w)),Cn!==null)for(w=Cn.return;w!==null;){var C=w;switch(Lm(C),C.tag){case 1:C=C.type.childContextTypes,C!=null&&jn();break;case 3:Pu(),Et(nr),Et(an),dl();break;case 5:Um(C);break;case 4:Pu();break;case 13:Et(Zn);break;case 19:Et(Zn);break;case 10:Gc(C.type._context);break;case 22:case 23:gf()}w=w.return}if(hr=p,Cn=p=Qo(p.current,null),$n=si=g,ir=0,Fu=null,Pl=ea=co=0,gr=Ko=null,ya!==null){for(g=0;g<ya.length;g++)if(w=ya[g],C=w.interleaved,C!==null){w.interleaved=null;var D=C.next,F=w.pending;if(F!==null){var ne=F.next;F.next=D,C.next=ne}w.pending=C}ya=null}return p}function og(p,g){do{var w=Cn;try{if(xi(),qc.current=Du,ed){for(var C=Jn.memoizedState;C!==null;){var D=C.queue;D!==null&&(D.pending=null),C=C.next}ed=!1}if(pl=0,Dr=Ir=Jn=null,so=!1,ml=0,Va.current=null,w===null||w.return===null){ir=1,Fu=g,Cn=null;break}e:{var F=p,ne=w.return,de=w,Oe=g;if(g=$n,de.flags|=32768,Oe!==null&&typeof Oe=="object"&&typeof Oe.then=="function"){var Ye=Oe,mt=de,Xt=mt.tag;if((mt.mode&1)===0&&(Xt===0||Xt===11||Xt===15)){var It=mt.alternate;It?(mt.updateQueue=It.updateQueue,mt.memoizedState=It.memoizedState,mt.lanes=It.lanes):(mt.updateQueue=null,mt.memoizedState=null)}var tn=qm(ne);if(tn!==null){tn.flags&=-257,vl(tn,ne,de,F,g),tn.mode&1&&Vo(F,Ye,g),g=tn,Oe=Ye;var ut=g.updateQueue;if(ut===null){var Xr=new Set;Xr.add(Oe),g.updateQueue=Xr}else ut.add(Oe);break e}else{if((g&1)===0){Vo(F,Ye,g),_d();break e}Oe=Error(o(426))}}else if(Gn&&de.mode&1){var ra=qm(ne);if(ra!==null){(ra.flags&65536)===0&&(ra.flags|=256),vl(ra,ne,de,F,g),Zh(Oe);break e}}F=Oe,ir!==4&&(ir=2),Ko===null?Ko=[F]:Ko.push(F),Oe=$m(Oe,de),de=ne;do{switch(de.tag){case 3:de.flags|=65536,g&=-g,de.lanes|=g;var be=M0(de,Oe,g);Gh(de,be);break e;case 1:F=Oe;var pe=de.type,Pe=de.stateNode;if((de.flags&128)===0&&(typeof pe.getDerivedStateFromError=="function"||Pe!==null&&typeof Pe.componentDidCatch=="function"&&(Ha===null||!Ha.has(Pe)))){de.flags|=65536,g&=-g,de.lanes|=g;var ot=cd(de,F,g);Gh(de,ot);break e}}de=de.return}while(de!==null)}ug(w)}catch(wt){g=wt,Cn===w&&w!==null&&(Cn=w=w.return);continue}break}while(!0)}function sg(){var p=hf.current;return hf.current=Du,p===null?Du:p}function _d(){(ir===0||ir===3||ir===2)&&(ir=4),hr===null||(co&268435455)===0&&(ea&268435455)===0||qr(hr,$n)}function vf(p,g){var w=Jt;Jt|=2;var C=sg();hr===p&&$n===g||Jo(p,g);do try{T0();break}catch(D){og(p,D)}while(!0);if(xi(),Jt=w,hf.current=C,Cn!==null)throw Error(o(261));return hr=null,$n=0,ir}function T0(){for(;Cn!==null;)lg(Cn)}function E0(){for(;Cn!==null&&!Cs();)lg(Cn)}function lg(p){var g=hg(p.alternate,p,si);p.memoizedProps=p.pendingProps,g===null?ug(p):Cn=g,Va.current=null}function ug(p){var g=p;do{var w=g.alternate;if(p=g.return,(g.flags&32768)===0){if(w=dd(w,g,si),w!==null){Cn=w;return}}else{if(w=gd(w,g),w!==null){w.flags&=32767,Cn=w;return}if(p!==null)p.flags|=32768,p.subtreeFlags=0,p.deletions=null;else{ir=6,Cn=null;return}}if(g=g.sibling,g!==null){Cn=g;return}Cn=g=p}while(g!==null);ir===0&&(ir=5)}function Ga(p,g){var w=on,C=Pn.transition;try{Pn.transition=null,on=1,P0(p,g,w)}finally{Pn.transition=C,on=w}return null}function P0(p,g,w){do ho();while(fo!==null);if((Jt&6)!==0)throw Error(o(327));var C=p.finishedWork,D=p.finishedLanes;if(C===null)return null;if(p.finishedWork=null,p.finishedLanes=0,C===p.current)throw Error(o(177));p.callbackNode=null,p.callbackPriority=0;var F=C.lanes|C.childLanes;if(Uh(p,F),p===hr&&(Cn=hr=null,$n=0),(C.subtreeFlags&2064)===0&&(C.flags&2064)===0||zu||(zu=!0,bd(Fh,function(){return ho(),null})),F=(C.flags&15990)!==0,(C.subtreeFlags&15990)!==0||F){F=Pn.transition,Pn.transition=null;var ne=on;on=1;var de=Jt;Jt|=4,Va.current=null,Jm(p,C),n1(p,C),$(p.containerInfo),p.current=C,sf(C),JS(),Jt=de,on=ne,Pn.transition=F}else p.current=C;if(zu&&(zu=!1,fo=p,Ol=D),F=p.pendingLanes,F===0&&(Ha=null),Vc(C.stateNode),Ni(p,Mr()),g!==null)for(w=p.onRecoverableError,C=0;C<g.length;C++)w(g[C]);if(Bu)throw Bu=!1,p=Hn,Hn=null,p;return(Ol&1)!==0&&p.tag!==0&&ho(),F=p.pendingLanes,(F&1)!==0?p===Zo?Rl++:(Rl=0,Zo=p):Rl=0,va(),null}function ho(){if(fo!==null){var p=No(Ol),g=Pn.transition,w=on;try{if(Pn.transition=null,on=16>p?16:p,fo===null)var C=!1;else{if(p=fo,fo=null,Ol=0,(Jt&6)!==0)throw Error(o(331));var D=Jt;for(Jt|=4,et=p.current;et!==null;){var F=et,ne=F.child;if((et.flags&16)!==0){var de=F.deletions;if(de!==null){for(var Oe=0;Oe<de.length;Oe++){var Ye=de[Oe];for(et=Ye;et!==null;){var mt=et;switch(mt.tag){case 0:case 11:case 15:qo(8,mt,F)}var Xt=mt.child;if(Xt!==null)Xt.return=mt,et=Xt;else for(;et!==null;){mt=et;var It=mt.sibling,tn=mt.return;if(Qm(mt),mt===Ye){et=null;break}if(It!==null){It.return=tn,et=It;break}et=tn}}}var ut=F.alternate;if(ut!==null){var Xr=ut.child;if(Xr!==null){ut.child=null;do{var ra=Xr.sibling;Xr.sibling=null,Xr=ra}while(Xr!==null)}}et=F}}if((F.subtreeFlags&2064)!==0&&ne!==null)ne.return=F,et=ne;else e:for(;et!==null;){if(F=et,(F.flags&2048)!==0)switch(F.tag){case 0:case 11:case 15:qo(9,F,F.return)}var be=F.sibling;if(be!==null){be.return=F.return,et=be;break e}et=F.return}}var pe=p.current;for(et=pe;et!==null;){ne=et;var Pe=ne.child;if((ne.subtreeFlags&2064)!==0&&Pe!==null)Pe.return=ne,et=Pe;else e:for(ne=pe;et!==null;){if(de=et,(de.flags&2048)!==0)try{switch(de.tag){case 0:case 11:case 15:Gr(9,de)}}catch(wt){Mi(de,de.return,wt)}if(de===ne){et=null;break e}var ot=de.sibling;if(ot!==null){ot.return=de.return,et=ot;break e}et=de.return}}if(Jt=D,va(),oo&&typeof oo.onPostCommitFiberRoot=="function")try{oo.onPostCommitFiberRoot(jc,p)}catch{}C=!0}return C}finally{on=w,Pn.transition=g}}return!1}function yf(p,g,w){g=$m(w,g),g=M0(p,g,1),Os(p,g),g=yn(),p=zs(p,1),p!==null&&(rl(p,1,g),Ni(p,g))}function Mi(p,g,w){if(p.tag===3)yf(p,p,w);else for(;g!==null;){if(g.tag===3){yf(g,p,w);break}else if(g.tag===1){var C=g.stateNode;if(typeof g.type.getDerivedStateFromError=="function"||typeof C.componentDidCatch=="function"&&(Ha===null||!Ha.has(C))){p=$m(w,p),p=cd(g,p,1),Os(g,p),p=yn(),g=zs(g,1),g!==null&&(rl(g,1,p),Ni(g,p));break}}g=g.return}}function cg(p,g,w){var C=p.pingCache;C!==null&&C.delete(g),g=yn(),p.pingedLanes|=p.suspendedLanes&w,hr===p&&($n&w)===w&&(ir===4||ir===3&&($n&130023424)===$n&&500>Mr()-df?Jo(p,0):Pl|=w),Ni(p,g)}function fg(p,g){g===0&&((p.mode&1)===0?g=1:(g=vn,vn<<=1,(vn&130023424)===0&&(vn=4194304)));var w=yn();p=zs(p,g),p!==null&&(rl(p,g,w),Ni(p,w))}function C0(p){var g=p.memoizedState,w=0;g!==null&&(w=g.retryLane),fg(p,w)}function O0(p,g){var w=0;switch(p.tag){case 13:var C=p.stateNode,D=p.memoizedState;D!==null&&(w=D.retryLane);break;case 19:C=p.stateNode;break;default:throw Error(o(314))}C!==null&&C.delete(g),fg(p,w)}var hg;hg=function(p,g,w){if(p!==null)if(p.memoizedProps!==g.pendingProps||nr.current)Nr=!0;else{if((p.lanes&w)===0&&(g.flags&128)===0)return Nr=!1,md(p,g,w);Nr=(p.flags&131072)!==0}else Nr=!1,Gn&&(g.flags&1048576)!==0&&g0(g,Yh,g.index);switch(g.lanes=0,g.tag){case 2:var C=g.type;p!==null&&(p.alternate=null,g.alternate=null,g.flags|=2),p=g.pendingProps;var D=vi(g,an.current);_u(g,w),D=Cu(null,g,C,p,D,w);var F=Ls();return g.flags|=1,typeof D=="object"&&D!==null&&typeof D.render=="function"&&D.$$typeof===void 0?(g.tag=1,g.memoizedState=null,g.updateQueue=null,cr(C)?(F=!0,Vr(g)):F=!1,g.memoizedState=D.state!==null&&D.state!==void 0?D.state:null,bu(g),D.updater=qh,g.stateNode=D,D._reactInternals=g,Im(g,C,p,w),g=oi(null,g,C,!0,F,w)):(g.tag=0,Gn&&F&&Dm(g),rr(null,g,D,w),g=g.child),g;case 16:C=g.elementType;e:{switch(p!==null&&(p.alternate=null,g.alternate=null,g.flags|=2),p=g.pendingProps,D=C._init,C=D(C._payload),g.type=C,D=g.tag=r1(C),p=Ri(C,p),D){case 0:g=Go(null,g,C,p,w);break e;case 1:g=xl(null,g,C,p,w);break e;case 11:g=Un(null,g,C,p,w);break e;case 14:g=Rn(null,g,C,Ri(C.type,p),w);break e}throw Error(o(306,C,""))}return g;case 0:return C=g.type,D=g.pendingProps,D=g.elementType===C?D:Ri(C,D),Go(p,g,C,D,w);case 1:return C=g.type,D=g.pendingProps,D=g.elementType===C?D:Ri(C,D),xl(p,g,C,D,w);case 3:e:{if(nf(g),p===null)throw Error(o(387));C=g.pendingProps,F=g.memoizedState,D=F.element,Cm(p,g),$h(g,C,null,w);var ne=g.memoizedState;if(C=ne.element,Re&&F.isDehydrated)if(F={element:C,isDehydrated:!1,cache:ne.cache,transitions:ne.transitions},g.updateQueue.baseState=F,g.memoizedState=F,g.flags&256){D=Error(o(423)),g=Ym(p,g,C,w,D);break e}else if(C!==D){D=Error(o(424)),g=Ym(p,g,C,w,D);break e}else for(Re&&(Hr=Ih(g.stateNode.containerInfo),_i=g,Gn=!0,ba=null,wu=!1),w=x0(g,null,C,w),g.child=w;w;)w.flags=w.flags&-3|4096,w=w.sibling;else{if(Mu(),C===D){g=Li(p,g,w);break e}rr(p,g,C,w)}g=g.child}return g;case 5:return _0(g),p===null&&Is(g),C=g.type,D=g.pendingProps,F=p!==null?p.memoizedProps:null,ne=D.children,Ce(C,D)?ne=null:F!==null&&Ce(C,F)&&(g.flags|=32),bi(p,g),rr(p,g,ne,w),g.child;case 6:return p===null&&Is(g),null;case 13:return Km(p,g,w);case 4:return Jh(g,g.stateNode.containerInfo),C=g.pendingProps,p===null?g.child=zo(g,null,C,w):rr(p,g,C,w),g.child;case 11:return C=g.type,D=g.pendingProps,D=g.elementType===C?D:Ri(C,D),Un(p,g,C,D,w);case 7:return rr(p,g,g.pendingProps,w),g.child;case 8:return rr(p,g,g.pendingProps.children,w),g.child;case 12:return rr(p,g,g.pendingProps.children,w),g.child;case 10:e:{if(C=g.type._context,D=g.pendingProps,F=g.memoizedProps,ne=D.value,sl(g,C,ne),F!==null)if(yi(F.value,ne)){if(F.children===D.children&&!nr.current){g=Li(p,g,w);break e}}else for(F=g.child,F!==null&&(F.return=g);F!==null;){var de=F.dependencies;if(de!==null){ne=F.child;for(var Oe=de.firstContext;Oe!==null;){if(Oe.context===C){if(F.tag===1){Oe=Uo(-1,w&-w),Oe.tag=2;var Ye=F.updateQueue;if(Ye!==null){Ye=Ye.shared;var mt=Ye.pending;mt===null?Oe.next=Oe:(Oe.next=mt.next,mt.next=Oe),Ye.pending=Oe}}F.lanes|=w,Oe=F.alternate,Oe!==null&&(Oe.lanes|=w),ll(F.return,w,g),de.lanes|=w;break}Oe=Oe.next}}else if(F.tag===10)ne=F.type===g.type?null:F.child;else if(F.tag===18){if(ne=F.return,ne===null)throw Error(o(341));ne.lanes|=w,de=ne.alternate,de!==null&&(de.lanes|=w),ll(ne,w,g),ne=F.sibling}else ne=F.child;if(ne!==null)ne.return=F;else for(ne=F;ne!==null;){if(ne===g){ne=null;break}if(F=ne.sibling,F!==null){F.return=ne.return,ne=F;break}ne=ne.return}F=ne}rr(p,g,D.children,w),g=g.child}return g;case 9:return D=g.type,C=g.pendingProps.children,_u(g,w),D=Ii(D),C=C(D),g.flags|=1,rr(p,g,C,w),g.child;case 14:return C=g.type,D=Ri(C,g.pendingProps),D=Ri(C.type,D),Rn(p,g,C,D,w);case 15:return Wo(p,g,g.type,g.pendingProps,w);case 17:return C=g.type,D=g.pendingProps,D=g.elementType===C?D:Ri(C,D),p!==null&&(p.alternate=null,g.alternate=null,g.flags|=2),g.tag=1,cr(C)?(p=!0,Vr(g)):p=!1,_u(g,w),p0(g,C,D),Im(g,C,D,w),oi(null,g,C,!0,p,w);case 19:return bl(p,g,w);case 22:return Wr(p,g,w)}throw Error(o(156,g.tag))};function bd(p,g){return il(p,g)}function R0(p,g,w,C){this.tag=p,this.key=w,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=g,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=C,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function na(p,g,w,C){return new R0(p,g,w,C)}function Sd(p){return p=p.prototype,!(!p||!p.isReactComponent)}function r1(p){if(typeof p=="function")return Sd(p)?1:0;if(p!=null){if(p=p.$$typeof,p===S)return 11;if(p===M)return 14}return 2}function Qo(p,g){var w=p.alternate;return w===null?(w=na(p.tag,g,p.key,p.mode),w.elementType=p.elementType,w.type=p.type,w.stateNode=p.stateNode,w.alternate=p,p.alternate=w):(w.pendingProps=g,w.type=p.type,w.flags=0,w.subtreeFlags=0,w.deletions=null),w.flags=p.flags&14680064,w.childLanes=p.childLanes,w.lanes=p.lanes,w.child=p.child,w.memoizedProps=p.memoizedProps,w.memoizedState=p.memoizedState,w.updateQueue=p.updateQueue,g=p.dependencies,w.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext},w.sibling=p.sibling,w.index=p.index,w.ref=p.ref,w}function wd(p,g,w,C,D,F){var ne=2;if(C=p,typeof p=="function")Sd(p)&&(ne=1);else if(typeof p=="string")ne=5;else e:switch(p){case f:return Il(w.children,D,F,g);case d:ne=8,D|=8;break;case m:return p=na(12,w,g,D|2),p.elementType=m,p.lanes=F,p;case _:return p=na(13,w,g,D),p.elementType=_,p.lanes=F,p;case b:return p=na(19,w,g,D),p.elementType=b,p.lanes=F,p;case E:return xf(w,D,F,g);default:if(typeof p=="object"&&p!==null)switch(p.$$typeof){case v:ne=10;break e;case x:ne=9;break e;case S:ne=11;break e;case M:ne=14;break e;case T:ne=16,C=null;break e}throw Error(o(130,p==null?p:typeof p,""))}return g=na(ne,w,g,D),g.elementType=p,g.type=C,g.lanes=F,g}function Il(p,g,w,C){return p=na(7,p,C,g),p.lanes=w,p}function xf(p,g,w,C){return p=na(22,p,C,g),p.elementType=E,p.lanes=w,p.stateNode={},p}function Md(p,g,w){return p=na(6,p,null,g),p.lanes=w,p}function Ad(p,g,w){return g=na(4,p.children!==null?p.children:[],p.key,g),g.lanes=w,g.stateNode={containerInfo:p.containerInfo,pendingChildren:null,implementation:p.implementation},g}function Td(p,g,w,C,D){this.tag=g,this.containerInfo=p,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Te,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kh(0),this.expirationTimes=kh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kh(0),this.identifierPrefix=C,this.onRecoverableError=D,Re&&(this.mutableSourceEagerHydrationData=null)}function I0(p,g,w,C,D,F,ne,de,Oe){return p=new Td(p,g,w,de,Oe),g===1?(g=1,F===!0&&(g|=8)):g=0,F=na(3,null,null,g),p.current=F,F.stateNode=p,F.memoizedState={element:C,isDehydrated:w,cache:null,transitions:null},bu(F),p}function D0(p){if(!p)return tr;p=p._reactInternals;e:{if(N(p)!==p||p.tag!==1)throw Error(o(170));var g=p;do{switch(g.tag){case 3:g=g.stateNode.context;break e;case 1:if(cr(g.type)){g=g.stateNode.__reactInternalMemoizedMergedChildContext;break e}}g=g.return}while(g!==null);throw Error(o(171))}if(p.tag===1){var w=p.type;if(cr(w))return mu(p,w,g)}return g}function L0(p){var g=p._reactInternals;if(g===void 0)throw typeof p.render=="function"?Error(o(188)):(p=Object.keys(p).join(","),Error(o(268,p)));return p=G(g),p===null?null:p.stateNode}function Ma(p,g){if(p=p.memoizedState,p!==null&&p.dehydrated!==null){var w=p.retryLane;p.retryLane=w!==0&&w<g?w:g}}function _f(p,g){Ma(p,g),(p=p.alternate)&&Ma(p,g)}function Ed(p){return p=G(p),p===null?null:p.stateNode}function N0(){return null}return t.attemptContinuousHydration=function(p){if(p.tag===13){var g=yn();li(p,134217728,g),_f(p,134217728)}},t.attemptHydrationAtCurrentPriority=function(p){if(p.tag===13){var g=yn(),w=Wa(p);li(p,w,g),_f(p,w)}},t.attemptSynchronousHydration=function(p){switch(p.tag){case 3:var g=p.stateNode;if(g.current.memoizedState.isDehydrated){var w=yu(g.pendingLanes);w!==0&&(ao(g,w|1),Ni(g,Mr()),(Jt&6)===0&&(Cl(),va()))}break;case 13:var C=yn();ju(function(){return li(p,1,C)}),_f(p,1)}},t.batchedUpdates=function(p,g){var w=Jt;Jt|=1;try{return p(g)}finally{Jt=w,Jt===0&&(Cl(),zh&&va())}},t.createComponentSelector=function(p){return{$$typeof:uf,value:p}},t.createContainer=function(p,g,w,C,D,F,ne){return I0(p,g,!1,null,w,C,D,F,ne)},t.createHasPseudoClassSelector=function(p){return{$$typeof:Ml,value:p}},t.createHydrationContainer=function(p,g,w,C,D,F,ne,de,Oe){return p=I0(w,C,!0,p,D,F,ne,de,Oe),p.context=D0(null),w=p.current,C=yn(),D=Wa(w),F=Uo(C,D),F.callback=g??null,Os(w,F),p.current.lanes=D,rl(p,D,C),Ni(p,C),p},t.createPortal=function(p,g,w){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:C==null?null:""+C,children:p,containerInfo:g,implementation:w}},t.createRoleSelector=function(p){return{$$typeof:Al,value:p}},t.createTestNameSelector=function(p){return{$$typeof:Xo,value:p}},t.createTextSelector=function(p){return{$$typeof:Uu,value:p}},t.deferredUpdates=function(p){var g=on,w=Pn.transition;try{return Pn.transition=null,on=16,p()}finally{on=g,Pn.transition=w}},t.discreteUpdates=function(p,g,w,C,D){var F=on,ne=Pn.transition;try{return Pn.transition=null,on=1,p(g,w,C,D)}finally{on=F,Pn.transition=ne,Jt===0&&Cl()}},t.findAllNodes=Yo,t.findBoundingRects=function(p,g){if(!W)throw Error(o(363));g=Yo(p,g),p=[];for(var w=0;w<g.length;w++)p.push(ze(g[w]));for(g=p.length-1;0<g;g--){w=p[g];for(var C=w.x,D=C+w.width,F=w.y,ne=F+w.height,de=g-1;0<=de;de--)if(g!==de){var Oe=p[de],Ye=Oe.x,mt=Ye+Oe.width,Xt=Oe.y,It=Xt+Oe.height;if(C>=Ye&&F>=Xt&&D<=mt&&ne<=It){p.splice(g,1);break}else if(C!==Ye||w.width!==Oe.width||It<F||Xt>ne){if(!(F!==Xt||w.height!==Oe.height||mt<C||Ye>D)){Ye>C&&(Oe.width+=Ye-C,Oe.x=C),mt<D&&(Oe.width=D-Ye),p.splice(g,1);break}}else{Xt>F&&(Oe.height+=Xt-F,Oe.y=F),It<ne&&(Oe.height=ne-Xt),p.splice(g,1);break}}}return p},t.findHostInstance=L0,t.findHostInstanceWithNoPortals=function(p){return p=z(p),p=p!==null?H(p):null,p===null?null:p.stateNode},t.findHostInstanceWithWarning=function(p){return L0(p)},t.flushControlled=function(p){var g=Jt;Jt|=1;var w=Pn.transition,C=on;try{Pn.transition=null,on=1,p()}finally{on=C,Pn.transition=w,Jt=g,Jt===0&&(Cl(),va())}},t.flushPassiveEffects=ho,t.flushSync=ju,t.focusWithin=function(p,g){if(!W)throw Error(o(363));for(p=cf(p),g=Qi(p,g),g=Array.from(g),p=0;p<g.length;){var w=g[p++];if(!ke(w)){if(w.tag===5&&tt(w.stateNode))return!0;for(w=w.child;w!==null;)g.push(w),w=w.sibling}}return!1},t.getCurrentUpdatePriority=function(){return on},t.getFindAllNodesFailureDescription=function(p,g){if(!W)throw Error(o(363));var w=0,C=[];p=[cf(p),0];for(var D=0;D<p.length;){var F=p[D++],ne=p[D++],de=g[ne];if((F.tag!==5||!ke(F))&&(ff(F,de)&&(C.push(Fs(de)),ne++,ne>w&&(w=ne)),ne<g.length))for(F=F.child;F!==null;)p.push(F,ne),F=F.sibling}if(w<g.length){for(p=[];w<g.length;w++)p.push(Fs(g[w]));return`findAllNodes was able to match part of the selector:
  `+(C.join(" > ")+`

No matching component was found for:
  `)+p.join(" > ")}return null},t.getPublicRootInstance=function(p){return p=p.current,p.child?p.child.tag===5?J(p.child.stateNode):p.child.stateNode:null},t.injectIntoDevTools=function(p){if(p={bundleType:p.bundleType,version:p.version,rendererPackageName:p.rendererPackageName,rendererConfig:p.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:s.ReactCurrentDispatcher,findHostInstanceByFiber:Ed,findFiberByHostInstance:p.findFiberByHostInstance||N0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")p=!1;else{var g=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(g.isDisabled||!g.supportsFiber)p=!0;else{try{jc=g.inject(p),oo=g}catch{}p=!!g.checkDCE}}return p},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(p,g,w,C){if(!W)throw Error(o(363));p=Yo(p,g);var D=lt(p,w,C).disconnect;return{disconnect:function(){D()}}},t.registerMutableSourceForHydration=function(p,g){var w=g._getVersion;w=w(g._source),p.mutableSourceEagerHydrationData==null?p.mutableSourceEagerHydrationData=[g,w]:p.mutableSourceEagerHydrationData.push(g,w)},t.runWithPriority=function(p,g){var w=on;try{return on=p,g()}finally{on=w}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(p,g,w,C){var D=g.current,F=yn(),ne=Wa(D);return w=D0(w),g.context===null?g.context=w:g.pendingContext=w,g=Uo(F,ne),g.payload={element:p},C=C===void 0?null:C,C!==null&&(g.callback=C),Os(D,g),p=li(D,ne,F),p!==null&&Wh(p,D,ne),ne},t}),bE}var Az;function Xme(){return Az||(Az=1,yE.exports=qme()),yE.exports}var Yme=Xme();const Kme=Tn(Yme);var SE={exports:{}},wE={};var Tz;function Zme(){return Tz||(Tz=1,(function(n){function e(B,X){var $=B.length;B.push(X);e:for(;0<$;){var V=$-1>>>1,ee=B[V];if(0<i(ee,X))B[V]=X,B[$]=ee,$=V;else break e}}function t(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var X=B[0],$=B.pop();if($!==X){B[0]=$;e:for(var V=0,ee=B.length,se=ee>>>1;V<se;){var me=2*(V+1)-1,Ce=B[me],Ne=me+1,De=B[Ne];if(0>i(Ce,$))Ne<ee&&0>i(De,Ce)?(B[V]=De,B[Ne]=$,V=Ne):(B[V]=Ce,B[me]=$,V=me);else if(Ne<ee&&0>i(De,$))B[V]=De,B[Ne]=$,V=Ne;else break e}}return X}function i(B,X){var $=B.sortIndex-X.sortIndex;return $!==0?$:B.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();n.unstable_now=function(){return o.now()-s}}var l=[],c=[],f=1,d=null,m=3,v=!1,x=!1,S=!1,_=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(B){for(var X=t(c);X!==null;){if(X.callback===null)r(c);else if(X.startTime<=B)r(c),X.sortIndex=X.expirationTime,e(l,X);else break;X=t(c)}}function E(B){if(S=!1,T(B),!x)if(t(l)!==null)x=!0,J(P);else{var X=t(c);X!==null&&ie(E,X.startTime-B)}}function P(B,X){x=!1,S&&(S=!1,b(U),U=-1),v=!0;var $=m;try{for(T(X),d=t(l);d!==null&&(!(d.expirationTime>X)||B&&!z());){var V=d.callback;if(typeof V=="function"){d.callback=null,m=d.priorityLevel;var ee=V(d.expirationTime<=X);X=n.unstable_now(),typeof ee=="function"?d.callback=ee:d===t(l)&&r(l),T(X)}else r(l);d=t(l)}if(d!==null)var se=!0;else{var me=t(c);me!==null&&ie(E,me.startTime-X),se=!1}return se}finally{d=null,m=$,v=!1}}var R=!1,I=null,U=-1,N=5,k=-1;function z(){return!(n.unstable_now()-k<N)}function G(){if(I!==null){var B=n.unstable_now();k=B;var X=!0;try{X=I(!0,B)}finally{X?K():(R=!1,I=null)}}else R=!1}var K;if(typeof M=="function")K=function(){M(G)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,te=H.port2;H.port1.onmessage=G,K=function(){te.postMessage(null)}}else K=function(){_(G,0)};function J(B){I=B,R||(R=!0,K())}function ie(B,X){U=_(function(){B(n.unstable_now())},X)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(B){B.callback=null},n.unstable_continueExecution=function(){x||v||(x=!0,J(P))},n.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<B?Math.floor(1e3/B):5},n.unstable_getCurrentPriorityLevel=function(){return m},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(B){switch(m){case 1:case 2:case 3:var X=3;break;default:X=m}var $=m;m=X;try{return B()}finally{m=$}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(B,X){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var $=m;m=B;try{return X()}finally{m=$}},n.unstable_scheduleCallback=function(B,X,$){var V=n.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?V+$:V):$=V,B){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=$+ee,B={id:f++,callback:X,priorityLevel:B,startTime:$,expirationTime:ee,sortIndex:-1},$>V?(B.sortIndex=$,e(c,B),t(l)===null&&B===t(c)&&(S?(b(U),U=-1):S=!0,ie(E,$-V))):(B.sortIndex=ee,e(l,B),x||v||(x=!0,J(P))),B},n.unstable_shouldYield=z,n.unstable_wrapCallback=function(B){var X=m;return function(){var $=m;m=X;try{return B.apply(this,arguments)}finally{m=$}}}})(wE)),wE}var Ez;function Jme(){return Ez||(Ez=1,SE.exports=Zme()),SE.exports}var Pz=Jme();const bR={},Qme=n=>{Object.assign(bR,n)};function ege(n,e){function t(f,{args:d=[],attach:m,...v},x){let S=`${f[0].toUpperCase()}${f.slice(1)}`,_;if(f==="primitive"){if(v.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const b=v.object;_=lp(b,{type:f,root:x,attach:m,primitive:!0})}else{const b=bR[S];if(!b)throw new Error(`R3F: ${S} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(d))throw new Error("R3F: The args prop must be an array!");_=lp(new b(...d),{type:f,root:x,attach:m,memoizedProps:{args:d}})}return _.__r3f.attach===void 0&&(_ instanceof cn?_.__r3f.attach="geometry":_ instanceof Ci&&(_.__r3f.attach="material")),S!=="inject"&&TE(_,v),_}function r(f,d){let m=!1;if(d){var v,x;(v=d.__r3f)!=null&&v.attach?AE(f,d,d.__r3f.attach):d.isObject3D&&f.isObject3D&&(f.add(d),m=!0),m||(x=f.__r3f)==null||x.objects.push(d),d.__r3f||lp(d,{}),d.__r3f.parent=f,a2(d),up(d)}}function i(f,d,m){let v=!1;if(d){var x,S;if((x=d.__r3f)!=null&&x.attach)AE(f,d,d.__r3f.attach);else if(d.isObject3D&&f.isObject3D){d.parent=f,d.dispatchEvent({type:"added"}),f.dispatchEvent({type:"childadded",child:d});const _=f.children.filter(M=>M!==d),b=_.indexOf(m);f.children=[..._.slice(0,b),d,..._.slice(b)],v=!0}v||(S=f.__r3f)==null||S.objects.push(d),d.__r3f||lp(d,{}),d.__r3f.parent=f,a2(d),up(d)}}function a(f,d,m=!1){f&&[...f].forEach(v=>o(d,v,m))}function o(f,d,m){if(d){var v,x,S;if(d.__r3f&&(d.__r3f.parent=null),(v=f.__r3f)!=null&&v.objects&&(f.__r3f.objects=f.__r3f.objects.filter(E=>E!==d)),(x=d.__r3f)!=null&&x.attach)Dz(f,d,d.__r3f.attach);else if(d.isObject3D&&f.isObject3D){var _;f.remove(d),(_=d.__r3f)!=null&&_.root&&lge(A_(d),d)}const M=(S=d.__r3f)==null?void 0:S.primitive,T=!M&&(m===void 0?d.dispose!==null:m);if(!M){var b;a((b=d.__r3f)==null?void 0:b.objects,d,T),a(d.children,d,T)}if(delete d.__r3f,T&&d.dispose&&d.type!=="Scene"){const E=()=>{try{d.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?Pz.unstable_scheduleCallback(Pz.unstable_IdlePriority,E):E()}up(f)}}function s(f,d,m,v){var x;const S=(x=f.__r3f)==null?void 0:x.parent;if(!S)return;const _=t(d,m,f.__r3f.root);if(f.children){for(const b of f.children)b.__r3f&&r(_,b);f.children=f.children.filter(b=>!b.__r3f)}f.__r3f.objects.forEach(b=>r(_,b)),f.__r3f.objects=[],f.__r3f.autoRemovedBeforeAppend||o(S,f),_.parent&&(_.__r3f.autoRemovedBeforeAppend=!0),r(S,_),_.raycast&&_.__r3f.eventCount&&A_(_).getState().internal.interaction.push(_),[v,v.alternate].forEach(b=>{b!==null&&(b.stateNode=_,b.ref&&(typeof b.ref=="function"?b.ref(_):b.ref.current=_))})}const l=()=>{};return{reconciler:Kme({createInstance:t,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(f,d)=>{if(!d)return;const m=f.getState().scene;m.__r3f&&(m.__r3f.root=f,r(m,d))},removeChildFromContainer:(f,d)=>{d&&o(f.getState().scene,d)},insertInContainerBefore:(f,d,m)=>{if(!d||!m)return;const v=f.getState().scene;v.__r3f&&i(v,d,m)},getRootHostContext:()=>null,getChildHostContext:f=>f,finalizeInitialChildren(f){var d;return!!((d=f?.__r3f)!=null?d:{}).handlers},prepareUpdate(f,d,m,v){var x;if(((x=f?.__r3f)!=null?x:{}).primitive&&v.object&&v.object!==f)return[!0];{const{args:_=[],children:b,...M}=v,{args:T=[],children:E,...P}=m;if(!Array.isArray(_))throw new Error("R3F: the args prop must be an array!");if(_.some((I,U)=>I!==T[U]))return[!0];const R=_6(f,M,P,!0);return R.changes.length?[!1,R]:null}},commitUpdate(f,[d,m],v,x,S,_){d?s(f,v,S,_):TE(f,m)},commitMount(f,d,m,v){var x;const S=(x=f.__r3f)!=null?x:{};f.raycast&&S.handlers&&S.eventCount&&A_(f).getState().internal.interaction.push(f)},getPublicInstance:f=>f,prepareForCommit:()=>null,preparePortalMount:f=>lp(f.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(f){var d;const{attach:m,parent:v}=(d=f.__r3f)!=null?d:{};m&&v&&Dz(v,f,m),f.isObject3D&&(f.visible=!1),up(f)},unhideInstance(f,d){var m;const{attach:v,parent:x}=(m=f.__r3f)!=null?m:{};v&&x&&AE(x,f,v),(f.isObject3D&&d.visible==null||d.visible)&&(f.visible=!0),up(f)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():xp.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&Yn.fun(performance.now)?performance.now:Yn.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Yn.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Yn.fun(clearTimeout)?clearTimeout:void 0}),applyProps:TE}}var Cz,Oz;const ME=n=>"colorSpace"in n||"outputColorSpace"in n,p6=()=>{var n;return(n=bR.ColorManagement)!=null?n:null},m6=n=>n&&n.isOrthographicCamera,tge=n=>n&&n.hasOwnProperty("current"),a0=typeof window<"u"&&((Cz=window.document)!=null&&Cz.createElement||((Oz=window.navigator)==null?void 0:Oz.product)==="ReactNative")?fe.useLayoutEffect:fe.useEffect;function g6(n){const e=fe.useRef(n);return a0(()=>{e.current=n},[n]),e}function nge({set:n}){return a0(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}class v6 extends fe.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}v6.getDerivedStateFromError=()=>({error:!0});const y6="__default",Rz=new Map,rge=n=>n&&!!n.memoized&&!!n.changes;function x6(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}const jg=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()};function A_(n){let e=n.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const Yn={obj:n=>n===Object(n)&&!Yn.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:r="reference",strict:i=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(Yn.str(n)||Yn.num(n)||Yn.boo(n))return n===e;const a=Yn.obj(n);if(a&&r==="reference")return n===e;const o=Yn.arr(n);if(o&&t==="reference")return n===e;if((o||a)&&n===e)return!0;let s;for(s in n)if(!(s in e))return!1;if(a&&t==="shallow"&&r==="shallow"){for(s in i?e:n)if(!Yn.equ(n[s],e[s],{strict:i,objects:"reference"}))return!1}else for(s in i?e:n)if(n[s]!==e[s])return!1;if(Yn.und(s)){if(o&&n.length===0&&e.length===0||a&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function ige(n){const e={nodes:{},materials:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function age(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function lp(n,e){const t=n;return t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},n}function i2(n,e){let t=n;if(e.includes("-")){const r=e.split("-"),i=r.pop();return t=r.reduce((a,o)=>a[o],n),{target:t,key:i}}else return{target:t,key:e}}const Iz=/-\d+$/;function AE(n,e,t){if(Yn.str(t)){if(Iz.test(t)){const a=t.replace(Iz,""),{target:o,key:s}=i2(n,a);Array.isArray(o[s])||(o[s]=[])}const{target:r,key:i}=i2(n,t);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=t(n,e)}function Dz(n,e,t){var r,i;if(Yn.str(t)){const{target:a,key:o}=i2(n,t),s=e.__r3f.previousAttach;s===void 0?delete a[o]:a[o]=s}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(n,e);(i=e.__r3f)==null||delete i.previousAttach}function _6(n,{children:e,key:t,ref:r,...i},{children:a,key:o,ref:s,...l}={},c=!1){const f=n.__r3f,d=Object.entries(i),m=[];if(c){const x=Object.keys(l);for(let S=0;S<x.length;S++)i.hasOwnProperty(x[S])||d.unshift([x[S],y6+"remove"])}d.forEach(([x,S])=>{var _;if((_=n.__r3f)!=null&&_.primitive&&x==="object"||Yn.equ(S,l[x]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(x))return m.push([x,S,!0,[]]);let b=[];x.includes("-")&&(b=x.split("-")),m.push([x,S,!1,b]);for(const M in i){const T=i[M];M.startsWith(`${x}-`)&&m.push([M,T,!1,M.split("-")])}});const v={...i};return f!=null&&f.memoizedProps&&f!=null&&f.memoizedProps.args&&(v.args=f.memoizedProps.args),f!=null&&f.memoizedProps&&f!=null&&f.memoizedProps.attach&&(v.attach=f.memoizedProps.attach),{memoized:v,changes:m}}function TE(n,e){var t;const r=n.__r3f,i=r?.root,a=i==null||i.getState==null?void 0:i.getState(),{memoized:o,changes:s}=rge(e)?e:_6(n,e),l=r?.eventCount;n.__r3f&&(n.__r3f.memoizedProps=o);for(let f=0;f<s.length;f++){let[d,m,v,x]=s[f];if(ME(n)){const M="srgb",T="srgb-linear";d==="encoding"?(d="colorSpace",m=m===3001?M:T):d==="outputEncoding"&&(d="outputColorSpace",m=m===3001?M:T)}let S=n,_=S[d];if(x.length&&(_=x.reduce((b,M)=>b[M],n),!(_&&_.set))){const[b,...M]=x.reverse();S=M.reverse().reduce((T,E)=>T[E],n),d=b}if(m===y6+"remove")if(S.constructor){let b=Rz.get(S.constructor);b||(b=new S.constructor,Rz.set(S.constructor,b)),m=b[d]}else m=0;if(v&&r)m?r.handlers[d]=m:delete r.handlers[d],r.eventCount=Object.keys(r.handlers).length;else if(_&&_.set&&(_.copy||_ instanceof hh)){if(Array.isArray(m))_.fromArray?_.fromArray(m):_.set(...m);else if(_.copy&&m&&m.constructor&&_.constructor===m.constructor)_.copy(m);else if(m!==void 0){const b=_ instanceof ft;!b&&_.setScalar?_.setScalar(m):_ instanceof hh&&m instanceof hh?_.mask=m.mask:_.set(m),!p6()&&a&&!a.linear&&b&&_.convertSRGBToLinear()}}else if(S[d]=m,S[d]instanceof Sr&&S[d].format===la&&S[d].type===Xs&&a){const b=S[d];ME(b)&&ME(a.gl)?b.colorSpace=a.gl.outputColorSpace:b.encoding=a.gl.outputEncoding}up(n)}if(r&&r.parent&&n.raycast&&l!==r.eventCount){const f=A_(n).getState().internal,d=f.interaction.indexOf(n);d>-1&&f.interaction.splice(d,1),r.eventCount&&f.interaction.push(n)}return!(s.length===1&&s[0][0]==="onUpdate")&&s.length&&(t=n.__r3f)!=null&&t.parent&&a2(n),n}function up(n){var e,t;const r=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();r&&r.internal.frames===0&&r.invalidate()}function a2(n){n.onUpdate==null||n.onUpdate(n)}function oge(n,e){n.manual||(m6(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function c_(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function sge(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return xp.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return xp.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return xp.ContinuousEventPriority;default:return xp.DefaultEventPriority}}function b6(n,e,t,r){const i=t.get(e);i&&(t.delete(e),t.size===0&&(n.delete(r),i.target.releasePointerCapture(r)))}function lge(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(r=>r!==e),t.initialHits=t.initialHits.filter(r=>r!==e),t.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&t.hovered.delete(i)}),t.capturedMap.forEach((r,i)=>{b6(t.capturedMap,e,r,i)})}function uge(n){function e(l){const{internal:c}=n.getState(),f=l.offsetX-c.initialClick[0],d=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(f*f+d*d))}function t(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(f=>{var d;return(d=c.__r3f)==null?void 0:d.handlers["onPointer"+f]}))}function r(l,c){const f=n.getState(),d=new Set,m=[],v=c?c(f.internal.interaction):f.internal.interaction;for(let b=0;b<v.length;b++){const M=jg(v[b]);M&&(M.raycaster.camera=void 0)}f.previousRoot||f.events.compute==null||f.events.compute(l,f);function x(b){const M=jg(b);if(!M||!M.events.enabled||M.raycaster.camera===null)return[];if(M.raycaster.camera===void 0){var T;M.events.compute==null||M.events.compute(l,M,(T=M.previousRoot)==null?void 0:T.getState()),M.raycaster.camera===void 0&&(M.raycaster.camera=null)}return M.raycaster.camera?M.raycaster.intersectObject(b,!0):[]}let S=v.flatMap(x).sort((b,M)=>{const T=jg(b.object),E=jg(M.object);return!T||!E?b.distance-M.distance:E.events.priority-T.events.priority||b.distance-M.distance}).filter(b=>{const M=c_(b);return d.has(M)?!1:(d.add(M),!0)});f.events.filter&&(S=f.events.filter(S,f));for(const b of S){let M=b.object;for(;M;){var _;(_=M.__r3f)!=null&&_.eventCount&&m.push({...b,eventObject:M}),M=M.parent}}if("pointerId"in l&&f.internal.capturedMap.has(l.pointerId))for(let b of f.internal.capturedMap.get(l.pointerId).values())d.has(c_(b.intersection))||m.push(b.intersection);return m}function i(l,c,f,d){const m=n.getState();if(l.length){const v={stopped:!1};for(const x of l){const S=jg(x.object)||m,{raycaster:_,pointer:b,camera:M,internal:T}=S,E=new Q(b.x,b.y,0).unproject(M),P=k=>{var z,G;return(z=(G=T.capturedMap.get(k))==null?void 0:G.has(x.eventObject))!=null?z:!1},R=k=>{const z={intersection:x,target:c.target};T.capturedMap.has(k)?T.capturedMap.get(k).set(x.eventObject,z):T.capturedMap.set(k,new Map([[x.eventObject,z]])),c.target.setPointerCapture(k)},I=k=>{const z=T.capturedMap.get(k);z&&b6(T.capturedMap,x.eventObject,z,k)};let U={};for(let k in c){let z=c[k];typeof z!="function"&&(U[k]=z)}let N={...x,...U,pointer:b,intersections:l,stopped:v.stopped,delta:f,unprojectedPoint:E,ray:_.ray,camera:M,stopPropagation(){const k="pointerId"in c&&T.capturedMap.get(c.pointerId);if((!k||k.has(x.eventObject))&&(N.stopped=v.stopped=!0,T.hovered.size&&Array.from(T.hovered.values()).find(z=>z.eventObject===x.eventObject))){const z=l.slice(0,l.indexOf(x));a([...z,x])}},target:{hasPointerCapture:P,setPointerCapture:R,releasePointerCapture:I},currentTarget:{hasPointerCapture:P,setPointerCapture:R,releasePointerCapture:I},nativeEvent:c};if(d(N),v.stopped===!0)break}}return l}function a(l){const{internal:c}=n.getState();for(const f of c.hovered.values())if(!l.length||!l.find(d=>d.object===f.object&&d.index===f.index&&d.instanceId===f.instanceId)){const m=f.eventObject.__r3f,v=m?.handlers;if(c.hovered.delete(c_(f)),m!=null&&m.eventCount){const x={...f,intersections:l};v.onPointerOut==null||v.onPointerOut(x),v.onPointerLeave==null||v.onPointerLeave(x)}}}function o(l,c){for(let f=0;f<c.length;f++){const d=c[f].__r3f;d==null||d.handlers.onPointerMissed==null||d.handlers.onPointerMissed(l)}}function s(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>a([]);case"onLostPointerCapture":return c=>{const{internal:f}=n.getState();"pointerId"in c&&f.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{f.capturedMap.has(c.pointerId)&&(f.capturedMap.delete(c.pointerId),a([]))})}}return function(f){const{onPointerMissed:d,internal:m}=n.getState();m.lastEvent.current=f;const v=l==="onPointerMove",x=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",_=r(f,v?t:void 0),b=x?e(f):0;l==="onPointerDown"&&(m.initialClick=[f.offsetX,f.offsetY],m.initialHits=_.map(T=>T.eventObject)),x&&!_.length&&b<=2&&(o(f,m.interaction),d&&d(f)),v&&a(_);function M(T){const E=T.eventObject,P=E.__r3f,R=P?.handlers;if(P!=null&&P.eventCount)if(v){if(R.onPointerOver||R.onPointerEnter||R.onPointerOut||R.onPointerLeave){const I=c_(T),U=m.hovered.get(I);U?U.stopped&&T.stopPropagation():(m.hovered.set(I,T),R.onPointerOver==null||R.onPointerOver(T),R.onPointerEnter==null||R.onPointerEnter(T))}R.onPointerMove==null||R.onPointerMove(T)}else{const I=R[l];I?(!x||m.initialHits.includes(E))&&(o(f,m.interaction.filter(U=>!m.initialHits.includes(U))),I(T)):x&&m.initialHits.includes(E)&&o(f,m.interaction.filter(U=>!m.initialHits.includes(U)))}}i(_,f,b,M)}}return{handlePointer:s}}const S6=n=>!!(n!=null&&n.render),w6=fe.createContext(null),cge=(n,e)=>{const t=zme((s,l)=>{const c=new Q,f=new Q,d=new Q;function m(b=l().camera,M=f,T=l().size){const{width:E,height:P,top:R,left:I}=T,U=E/P;M instanceof Q?d.copy(M):d.set(...M);const N=b.getWorldPosition(c).distanceTo(d);if(m6(b))return{width:E/b.zoom,height:P/b.zoom,top:R,left:I,factor:1,distance:N,aspect:U};{const k=b.fov*Math.PI/180,z=2*Math.tan(k/2)*N,G=z*(E/P);return{width:G,height:z,top:R,left:I,factor:E/G,distance:N,aspect:U}}}let v;const x=b=>s(M=>({performance:{...M.performance,current:b}})),S=new Ie;return{set:s,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(b=1)=>n(l(),b),advance:(b,M)=>e(b,M,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new vR,pointer:S,mouse:S,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const b=l();v&&clearTimeout(v),b.performance.current!==b.performance.min&&x(b.performance.min),v=setTimeout(()=>x(l().performance.max),b.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:m},setEvents:b=>s(M=>({...M,events:{...M.events,...b}})),setSize:(b,M,T,E,P)=>{const R=l().camera,I={width:b,height:M,top:E||0,left:P||0,updateStyle:T};s(U=>({size:I,viewport:{...U.viewport,...m(R,f,I)}}))},setDpr:b=>s(M=>{const T=x6(b);return{viewport:{...M.viewport,dpr:T,initialDpr:M.viewport.initialDpr||T}}}),setFrameloop:(b="always")=>{const M=l().clock;M.stop(),M.elapsedTime=0,b!=="never"&&(M.start(),M.elapsedTime=0),s(()=>({frameloop:b}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:fe.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(b,M,T)=>{const E=l().internal;return E.priority=E.priority+(M>0?1:0),E.subscribers.push({ref:b,priority:M,store:T}),E.subscribers=E.subscribers.sort((P,R)=>P.priority-R.priority),()=>{const P=l().internal;P!=null&&P.subscribers&&(P.priority=P.priority-(M>0?1:0),P.subscribers=P.subscribers.filter(R=>R.ref!==b))}}}}}),r=t.getState();let i=r.size,a=r.viewport.dpr,o=r.camera;return t.subscribe(()=>{const{camera:s,size:l,viewport:c,gl:f,set:d}=t.getState();if(l.width!==i.width||l.height!==i.height||c.dpr!==a){var m;i=l,a=c.dpr,oge(s,l),f.setPixelRatio(c.dpr);const v=(m=l.updateStyle)!=null?m:typeof HTMLCanvasElement<"u"&&f.domElement instanceof HTMLCanvasElement;f.setSize(l.width,l.height,v)}s!==o&&(o=s,d(v=>({viewport:{...v.viewport,...v.viewport.getCurrentViewport(s)}})))}),t.subscribe(s=>n(s)),t};let f_,fge=new Set,hge=new Set,dge=new Set;function EE(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function Vg(n,e){switch(n){case"before":return EE(fge,e);case"after":return EE(hge,e);case"tail":return EE(dge,e)}}let PE,CE;function OE(n,e,t){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(r=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),PE=e.internal.subscribers,f_=0;f_<PE.length;f_++)CE=PE[f_],CE.ref.current(CE.store.getState(),r,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function pge(n){let e=!1,t=!1,r,i,a;function o(c){i=requestAnimationFrame(o),e=!0,r=0,Vg("before",c),t=!0;for(const d of n.values()){var f;a=d.store.getState(),a.internal.active&&(a.frameloop==="always"||a.internal.frames>0)&&!((f=a.gl.xr)!=null&&f.isPresenting)&&(r+=OE(c,a))}if(t=!1,Vg("after",c),r===0)return Vg("tail",c),e=!1,cancelAnimationFrame(i)}function s(c,f=1){var d;if(!c)return n.forEach(m=>s(m.store.getState(),f));(d=c.gl.xr)!=null&&d.isPresenting||!c.internal.active||c.frameloop==="never"||(f>1?c.internal.frames=Math.min(60,c.internal.frames+f):t?c.internal.frames=2:c.internal.frames=1,e||(e=!0,requestAnimationFrame(o)))}function l(c,f=!0,d,m){if(f&&Vg("before",c),d)OE(c,d,m);else for(const v of n.values())OE(c,v.store.getState());f&&Vg("after",c)}return{loop:o,invalidate:s,advance:l}}function M6(){const n=fe.useContext(w6);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function ic(n=t=>t,e){return M6()(n,e)}function SR(n,e=0){const t=M6(),r=t.getState().internal.subscribe,i=g6(n);return a0(()=>r(i,e,t),[e,r,t]),null}const Lz=new WeakMap;function A6(n,e){return function(t,...r){let i=Lz.get(t);return i||(i=new t,Lz.set(t,i)),n&&n(i),Promise.all(r.map(a=>new Promise((o,s)=>i.load(a,l=>{l.scene&&Object.assign(l,ige(l.scene)),o(l)},e,l=>s(new Error(`Could not load ${a}: ${l?.message}`))))))}}function wR(n,e,t,r){const i=Array.isArray(e)?e:[e],a=Vme(A6(t,r),[n,...i],{equal:Yn.equ});return Array.isArray(e)?a:a[0]}wR.preload=function(n,e,t){const r=Array.isArray(e)?e:[e];return Hme(A6(t),[n,...r])};wR.clear=function(n,e){const t=Array.isArray(e)?e:[e];return Wme([n,...t])};const im=new Map,{invalidate:Nz,advance:kz}=pge(im),{reconciler:Rb,applyProps:rp}=ege(im,sge),ip={objects:"shallow",strict:!1},mge=(n,e)=>{const t=typeof n=="function"?n(e):n;return S6(t)?t:new eR({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function gge(n,e){const t=typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement;if(e){const{width:r,height:i,top:a,left:o,updateStyle:s=t}=e;return{width:r,height:i,top:a,left:o,updateStyle:s}}else if(typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:r,height:i,top:a,left:o}=n.parentElement.getBoundingClientRect();return{width:r,height:i,top:a,left:o,updateStyle:t}}else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0,updateStyle:t};return{width:0,height:0,top:0,left:0}}function vge(n){const e=im.get(n),t=e?.fiber,r=e?.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,a=r||cge(Nz,kz),o=t||Rb.createContainer(a,xp.ConcurrentRoot,null,!1,null,"",i,null);e||im.set(n,{fiber:o,store:a});let s,l=!1,c;return{configure(f={}){let{gl:d,size:m,scene:v,events:x,onCreated:S,shadows:_=!1,linear:b=!1,flat:M=!1,legacy:T=!1,orthographic:E=!1,frameloop:P="always",dpr:R=[1,2],performance:I,raycaster:U,camera:N,onPointerMissed:k}=f,z=a.getState(),G=z.gl;z.gl||z.set({gl:G=mge(d,n)});let K=z.raycaster;K||z.set({raycaster:K=new c6});const{params:H,...te}=U||{};if(Yn.equ(te,K,ip)||rp(K,{...te}),Yn.equ(H,K.params,ip)||rp(K,{params:{...K.params,...H}}),!z.camera||z.camera===c&&!Yn.equ(c,N,ip)){c=N;const $=N instanceof Zy,V=$?N:E?new xc(0,0,0,0,.1,1e3):new Or(75,0,.1,1e3);$||(V.position.z=5,N&&(rp(V,N),("aspect"in N||"left"in N||"right"in N||"bottom"in N||"top"in N)&&(V.manual=!0,V.updateProjectionMatrix())),!z.camera&&!(N!=null&&N.rotation)&&V.lookAt(0,0,0)),z.set({camera:V}),K.camera=V}if(!z.scene){let $;v instanceof Cb?$=v:($=new Cb,v&&rp($,v)),z.set({scene:lp($)})}if(!z.xr){var J;const $=(se,me)=>{const Ce=a.getState();Ce.frameloop!=="never"&&kz(se,!0,Ce,me)},V=()=>{const se=a.getState();se.gl.xr.enabled=se.gl.xr.isPresenting,se.gl.xr.setAnimationLoop(se.gl.xr.isPresenting?$:null),se.gl.xr.isPresenting||Nz(se)},ee={connect(){const se=a.getState().gl;se.xr.addEventListener("sessionstart",V),se.xr.addEventListener("sessionend",V)},disconnect(){const se=a.getState().gl;se.xr.removeEventListener("sessionstart",V),se.xr.removeEventListener("sessionend",V)}};typeof((J=G.xr)==null?void 0:J.addEventListener)=="function"&&ee.connect(),z.set({xr:ee})}if(G.shadowMap){const $=G.shadowMap.enabled,V=G.shadowMap.type;if(G.shadowMap.enabled=!!_,Yn.boo(_))G.shadowMap.type=pv;else if(Yn.str(_)){var ie;const ee={basic:tW,percentage:_S,soft:pv,variance:fs};G.shadowMap.type=(ie=ee[_])!=null?ie:pv}else Yn.obj(_)&&Object.assign(G.shadowMap,_);($!==G.shadowMap.enabled||V!==G.shadowMap.type)&&(G.shadowMap.needsUpdate=!0)}const B=p6();B&&("enabled"in B?B.enabled=!T:"legacyMode"in B&&(B.legacyMode=T)),l||rp(G,{outputEncoding:b?3e3:3001,toneMapping:M?qs:DO}),z.legacy!==T&&z.set(()=>({legacy:T})),z.linear!==b&&z.set(()=>({linear:b})),z.flat!==M&&z.set(()=>({flat:M})),d&&!Yn.fun(d)&&!S6(d)&&!Yn.equ(d,G,ip)&&rp(G,d),x&&!z.events.handlers&&z.set({events:x(a)});const X=gge(n,m);return Yn.equ(X,z.size,ip)||z.setSize(X.width,X.height,X.updateStyle,X.top,X.left),R&&z.viewport.dpr!==x6(R)&&z.setDpr(R),z.frameloop!==P&&z.setFrameloop(P),z.onPointerMissed||z.set({onPointerMissed:k}),I&&!Yn.equ(I,z.performance,ip)&&z.set($=>({performance:{...$.performance,...I}})),s=S,l=!0,this},render(f){return l||this.configure(),Rb.updateContainer(oe.jsx(yge,{store:a,children:f,onCreated:s,rootElement:n}),o,null,()=>{}),a},unmount(){T6(n)}}}function yge({store:n,children:e,onCreated:t,rootElement:r}){return a0(()=>{const i=n.getState();i.set(a=>({internal:{...a.internal,active:!0}})),t&&t(i),n.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),oe.jsx(w6.Provider,{value:n,children:e})}function T6(n,e){const t=im.get(n),r=t?.fiber;if(r){const i=t?.store.getState();i&&(i.internal.active=!1),Rb.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var a,o,s,l;i.events.disconnect==null||i.events.disconnect(),(a=i.gl)==null||(o=a.renderLists)==null||o.dispose==null||o.dispose(),(s=i.gl)==null||s.forceContextLoss==null||s.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),age(i),im.delete(n)}catch{}},500)})}}Rb.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:fe.version});const RE={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function xge(n){const{handlePointer:e}=uge(n);return{priority:1,enabled:!0,compute(t,r,i){r.pointer.set(t.offsetX/r.size.width*2-1,-(t.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(RE).reduce((t,r)=>({...t,[r]:e(r)}),{}),update:()=>{var t;const{events:r,internal:i}=n.getState();(t=i.lastEvent)!=null&&t.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:t=>{var r;const{set:i,events:a}=n.getState();a.disconnect==null||a.disconnect(),i(o=>({events:{...o.events,connected:t}})),Object.entries((r=a.handlers)!=null?r:[]).forEach(([o,s])=>{const[l,c]=RE[o];t.addEventListener(l,s,{passive:c})})},disconnect:()=>{const{set:t,events:r}=n.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([a,o])=>{if(r&&r.connected instanceof HTMLElement){const[s]=RE[a];r.connected.removeEventListener(s,o)}}),t(a=>({events:{...a.events,connected:void 0}}))}}}}var IE,Uz;function _ge(){if(Uz)return IE;Uz=1;function n(e,t,r){var i,a,o,s,l;t==null&&(t=100);function c(){var d=Date.now()-s;d<t&&d>=0?i=setTimeout(c,t-d):(i=null,r||(l=e.apply(o,a),o=a=null))}var f=function(){o=this,a=arguments,s=Date.now();var d=r&&!i;return i||(i=setTimeout(c,t)),d&&(l=e.apply(o,a),o=a=null),l};return f.clear=function(){i&&(clearTimeout(i),i=null)},f.flush=function(){i&&(l=e.apply(o,a),o=a=null,clearTimeout(i),i=null)},f}return n.debounce=n,IE=n,IE}var bge=_ge();const Fz=Tn(bge);var Sge=Object.defineProperty,wge=Object.defineProperties,Mge=Object.getOwnPropertyDescriptors,Bz=Object.getOwnPropertySymbols,Age=Object.prototype.hasOwnProperty,Tge=Object.prototype.propertyIsEnumerable,zz=(n,e,t)=>e in n?Sge(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,jz=(n,e)=>{for(var t in e||(e={}))Age.call(e,t)&&zz(n,t,e[t]);if(Bz)for(var t of Bz(e))Tge.call(e,t)&&zz(n,t,e[t]);return n},Ege=(n,e)=>wge(n,Mge(e)),Vz,Hz;typeof window<"u"&&((Vz=window.document)!=null&&Vz.createElement||((Hz=window.navigator)==null?void 0:Hz.product)==="ReactNative")?fe.useLayoutEffect:fe.useEffect;function E6(n,e,t){if(!n)return;if(t(n)===!0)return n;let r=n.child;for(;r;){const i=E6(r,e,t);if(i)return i;r=r.sibling}}function P6(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const Wz=console.error;console.error=function(){const n=[...arguments].join("");if(n?.startsWith("Warning:")&&n.includes("useContext")){console.error=Wz;return}return Wz.apply(this,arguments)};const MR=P6(fe.createContext(null));class C6 extends fe.Component{render(){return fe.createElement(MR.Provider,{value:this._reactInternals},this.props.children)}}function Pge(){const n=fe.useContext(MR);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=fe.useId();return fe.useMemo(()=>{for(const r of[n,n?.alternate]){if(!r)continue;const i=E6(r,!1,a=>{let o=a.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(i)return i}},[n,e])}function Cge(){const n=Pge(),[e]=fe.useState(()=>new Map);e.clear();let t=n;for(;t;){if(t.type&&typeof t.type=="object"){const i=t.type._context===void 0&&t.type.Provider===t.type?t.type:t.type._context;i&&i!==MR&&!e.has(i)&&e.set(i,fe.useContext(P6(i)))}t=t.return}return e}function Oge(){const n=Cge();return fe.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>r=>fe.createElement(e,null,fe.createElement(t.Provider,Ege(jz({},r),{value:n.get(t)}))),e=>fe.createElement(C6,jz({},e))),[n])}function Rge({debounce:n,scroll:e,polyfill:t,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const i=t||typeof window<"u"&&window.ResizeObserver,[a,o]=fe.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0});if(!i)return a.width=1280,a.height=800,[()=>{},a,()=>{}];const s=fe.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:a,orientationHandler:null}),l=n?typeof n=="number"?n:n.scroll:null,c=n?typeof n=="number"?n:n.resize:null,f=fe.useRef(!1);fe.useEffect(()=>(f.current=!0,()=>{f.current=!1}));const[d,m,v]=fe.useMemo(()=>{const b=()=>{if(!s.current.element)return;const{left:M,top:T,width:E,height:P,bottom:R,right:I,x:U,y:N}=s.current.element.getBoundingClientRect(),k={left:M,top:T,width:E,height:P,bottom:R,right:I,x:U,y:N};s.current.element instanceof HTMLElement&&r&&(k.height=s.current.element.offsetHeight,k.width=s.current.element.offsetWidth),Object.freeze(k),f.current&&!Nge(s.current.lastBounds,k)&&o(s.current.lastBounds=k)};return[b,c?Fz(b,c):b,l?Fz(b,l):b]},[o,r,l,c]);function x(){s.current.scrollContainers&&(s.current.scrollContainers.forEach(b=>b.removeEventListener("scroll",v,!0)),s.current.scrollContainers=null),s.current.resizeObserver&&(s.current.resizeObserver.disconnect(),s.current.resizeObserver=null),s.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",s.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",s.current.orientationHandler))}function S(){var b;s.current.element&&(s.current.resizeObserver=new i(m),(b=s.current.resizeObserver)==null||b.observe(s.current.element),e&&s.current.scrollContainers&&s.current.scrollContainers.forEach(M=>M.addEventListener("scroll",v,{capture:!0,passive:!0})),s.current.orientationHandler=()=>{v()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",s.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",s.current.orientationHandler))}const _=b=>{!b||b===s.current.element||(x(),s.current.element=b,s.current.scrollContainers=O6(b),S())};return Dge(v,!!e),Ige(m),fe.useEffect(()=>{x(),S()},[e,v,m]),fe.useEffect(()=>x,[]),[_,a,d]}function Ige(n){fe.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[n])}function Dge(n,e){fe.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>{window.removeEventListener("scroll",t,!0)}}},[n,e])}function O6(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:r,overflowY:i}=window.getComputedStyle(n);return[t,r,i].some(a=>a==="auto"||a==="scroll")&&e.push(n),[...e,...O6(n.parentElement)]}const Lge=["x","y","top","bottom","left","right","width","height"],Nge=(n,e)=>Lge.every(t=>n[t]===e[t]),kge=fe.forwardRef(function({children:e,fallback:t,resize:r,style:i,gl:a,events:o=xge,eventSource:s,eventPrefix:l,shadows:c,linear:f,flat:d,legacy:m,orthographic:v,frameloop:x,dpr:S,performance:_,raycaster:b,camera:M,scene:T,onPointerMissed:E,onCreated:P,...R},I){fe.useMemo(()=>Qme(Nme),[]);const U=Oge(),[N,k]=Rge({scroll:!0,debounce:{scroll:50,resize:0},...r}),z=fe.useRef(null),G=fe.useRef(null);fe.useImperativeHandle(I,()=>z.current);const K=g6(E),[H,te]=fe.useState(!1),[J,ie]=fe.useState(!1);if(H)throw H;if(J)throw J;const B=fe.useRef(null);a0(()=>{const $=z.current;k.width>0&&k.height>0&&$&&(B.current||(B.current=vge($)),B.current.configure({gl:a,events:o,shadows:c,linear:f,flat:d,legacy:m,orthographic:v,frameloop:x,dpr:S,performance:_,raycaster:b,camera:M,scene:T,size:k,onPointerMissed:(...V)=>K.current==null?void 0:K.current(...V),onCreated:V=>{V.events.connect==null||V.events.connect(s?tge(s)?s.current:s:G.current),l&&V.setEvents({compute:(ee,se)=>{const me=ee[l+"X"],Ce=ee[l+"Y"];se.pointer.set(me/se.size.width*2-1,-(Ce/se.size.height)*2+1),se.raycaster.setFromCamera(se.pointer,se.camera)}}),P?.(V)}}),B.current.render(oe.jsx(U,{children:oe.jsx(v6,{set:ie,children:oe.jsx(fe.Suspense,{fallback:oe.jsx(nge,{set:te}),children:e})})})))}),fe.useEffect(()=>{const $=z.current;if($)return()=>T6($)},[]);const X=s?"none":"auto";return oe.jsx("div",{ref:G,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:X,...i},...R,children:oe.jsx("div",{ref:N,style:{width:"100%",height:"100%"},children:oe.jsx("canvas",{ref:z,style:{display:"block"},children:t})})})}),Uge=fe.forwardRef(function(e,t){return oe.jsx(C6,{children:oe.jsx(kge,{...e,ref:t})})});function _v(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function o2(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Fge(n,e){if(n){if(typeof n=="string")return o2(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return o2(n,e)}}function Bge(n){if(Array.isArray(n))return o2(n)}function zge(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function jge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vge(n){return Bge(n)||zge(n)||Fge(n)||jge()}new Ie;new Ie;function Hge(n,e,t){return Math.max(e,Math.min(t,n))}function Wge(n,e){return Hge(n-Math.floor(n/e)*e,0,e)}function Gge(n,e){var t=Wge(e-n,Math.PI*2);return t>Math.PI&&(t-=Math.PI*2),t}function R6(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}var _o=function n(e,t,r){var i=this;R6(this,n),_v(this,"dot2",function(a,o){return i.x*a+i.y*o}),_v(this,"dot3",function(a,o,s){return i.x*a+i.y*o+i.z*s}),this.x=e,this.y=t,this.z=r},$ge=[new _o(1,1,0),new _o(-1,1,0),new _o(1,-1,0),new _o(-1,-1,0),new _o(1,0,1),new _o(-1,0,1),new _o(1,0,-1),new _o(-1,0,-1),new _o(0,1,1),new _o(0,-1,1),new _o(0,1,-1),new _o(0,-1,-1)],Gz=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],$z=new Array(512),qz=new Array(512),qge=function(e){e>0&&e<1&&(e*=65536),e=Math.floor(e),e<256&&(e|=e<<8);for(var t=0;t<256;t++){var r;t&1?r=Gz[t]^e&255:r=Gz[t]^e>>8&255,$z[t]=$z[t+256]=r,qz[t]=qz[t+256]=$ge[r%12]}};qge(0);function Xge(n){if(typeof n=="number")n=Math.abs(n);else if(typeof n=="string"){var e=n;n=0;for(var t=0;t<e.length;t++)n=(n+(t+1)*(e.charCodeAt(t)%96))%2147483647}return n===0&&(n=311),n}function Xz(n){var e=Xge(n);return function(){var t=e*48271%2147483647;return e=t,t/2147483647}}var Yge=function n(e){var t=this;R6(this,n),_v(this,"seed",0),_v(this,"init",function(r){t.seed=r,t.value=Xz(r)}),_v(this,"value",Xz(this.seed)),this.init(e)};new Yge(Math.random());var Kge=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.01,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1/(2*Math.PI);return r/Math.atan(1/t)*Math.atan(Math.sin(2*Math.PI*e*i)/t)},I6=function(e){return 1/(1+e+.48*e*e+.235*e*e*e)},Zge=function(e){return e},Jge={in:function(e){return 1-Math.cos(e*Math.PI/2)},out:function(e){return Math.sin(e*Math.PI/2)},inOut:function(e){return-(Math.cos(Math.PI*e)-1)/2}},Qge={in:function(e){return e*e*e},out:function(e){return 1-Math.pow(1-e,3)},inOut:function(e){return e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2}},eve={in:function(e){return e*e*e*e*e},out:function(e){return 1-Math.pow(1-e,5)},inOut:function(e){return e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2}},tve={in:function(e){return 1-Math.sqrt(1-Math.pow(e,2))},out:function(e){return Math.sqrt(1-Math.pow(e-1,2))},inOut:function(e){return e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2}},nve={in:function(e){return e*e*e*e},out:function(e){return 1- --e*e*e*e},inOut:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e}},rve={in:function(e){return e===0?0:Math.pow(2,10*e-10)},out:function(e){return e===1?1:1-Math.pow(2,-10*e)},inOut:function(e){return e===0?0:e===1?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2}};function ti(n,e,t){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:.25,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:.01,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:1/0,o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:I6,s=arguments.length>7&&arguments[7]!==void 0?arguments[7]:.001,l="velocity_"+e;if(n.__damp===void 0&&(n.__damp={}),n.__damp[l]===void 0&&(n.__damp[l]=0),Math.abs(n[e]-t)<=s)return n[e]=t,!1;r=Math.max(1e-4,r);var c=2/r,f=o(c*i),d=n[e]-t,m=t,v=a*r;d=Math.min(Math.max(d,-v),v),t=n[e]-d;var x=(n.__damp[l]+c*d)*i;n.__damp[l]=(n.__damp[l]-c*x)*f;var S=t+(d+x)*f;return m-n[e]>0==S>m&&(S=m,n.__damp[l]=(S-m)/i),n[e]=S,!0}var ive=function(e){return e&&e.isCamera},ave=function(e){return e&&e.isLight},Hg=new Q,Yz=new Rr,Kz=new Rr,Wg=new jt,DE=new Q;function ove(n,e,t,r,i,a,o){typeof e=="number"?Hg.setScalar(e):Array.isArray(e)?Hg.set(e[0],e[1],e[2]):Hg.copy(e);var s=n.parent;n.updateWorldMatrix(!0,!1),DE.setFromMatrixPosition(n.matrixWorld),ive(n)||ave(n)?Wg.lookAt(DE,Hg,n.up):Wg.lookAt(Hg,DE,n.up),Ib(n.quaternion,Kz.setFromRotationMatrix(Wg),t,r,i,a,o),s&&(Wg.extractRotation(s.matrixWorld),Yz.setFromRotationMatrix(Wg),Ib(n.quaternion,Kz.copy(n.quaternion).premultiply(Yz.invert()),t,r,i,a,o))}function Cp(n,e,t,r,i,a,o,s){return ti(n,e,n[e]+Gge(n[e],t),r,i,a,o,s)}var Gg=new Ie,Zz,Jz;function sve(n,e,t,r,i,a,o){return typeof e=="number"?Gg.setScalar(e):Array.isArray(e)?Gg.set(e[0],e[1]):Gg.copy(e),Zz=ti(n,"x",Gg.x,t,r,i,a,o),Jz=ti(n,"y",Gg.y,t,r,i,a,o),Zz||Jz}var ap=new Q,Qz,e4,t4;function s2(n,e,t,r,i,a,o){return typeof e=="number"?ap.setScalar(e):Array.isArray(e)?ap.set(e[0],e[1],e[2]):ap.copy(e),Qz=ti(n,"x",ap.x,t,r,i,a,o),e4=ti(n,"y",ap.y,t,r,i,a,o),t4=ti(n,"z",ap.z,t,r,i,a,o),Qz||e4||t4}var Bf=new Sn,n4,r4,i4,a4;function lve(n,e,t,r,i,a,o){return typeof e=="number"?Bf.setScalar(e):Array.isArray(e)?Bf.set(e[0],e[1],e[2],e[3]):Bf.copy(e),n4=ti(n,"x",Bf.x,t,r,i,a,o),r4=ti(n,"y",Bf.y,t,r,i,a,o),i4=ti(n,"z",Bf.z,t,r,i,a,o),a4=ti(n,"w",Bf.w,t,r,i,a,o),n4||r4||i4||a4}var $g=new ym,o4,s4,l4;function uve(n,e,t,r,i,a,o){return Array.isArray(e)?$g.set(e[0],e[1],e[2],e[3]):$g.copy(e),o4=Cp(n,"x",$g.x,t,r,i,a,o),s4=Cp(n,"y",$g.y,t,r,i,a,o),l4=Cp(n,"z",$g.z,t,r,i,a,o),o4||s4||l4}var op=new ft,u4,c4,f4;function cve(n,e,t,r,i,a,o){return e instanceof ft?op.copy(e):Array.isArray(e)?op.setRGB(e[0],e[1],e[2]):op.set(e),u4=ti(n,"r",op.r,t,r,i,a,o),c4=ti(n,"g",op.g,t,r,i,a,o),f4=ti(n,"b",op.b,t,r,i,a,o),u4||c4||f4}var ls=new Rr,jl=new Sn,h4=new Sn,qg=new Sn,d4,p4,m4,g4;function Ib(n,e,t,r,i,a,o){var s=n;Array.isArray(e)?ls.set(e[0],e[1],e[2],e[3]):ls.copy(e);var l=n.dot(ls)>0?1:-1;return ls.x*=l,ls.y*=l,ls.z*=l,ls.w*=l,d4=ti(n,"x",ls.x,t,r,i,a,o),p4=ti(n,"y",ls.y,t,r,i,a,o),m4=ti(n,"z",ls.z,t,r,i,a,o),g4=ti(n,"w",ls.w,t,r,i,a,o),jl.set(n.x,n.y,n.z,n.w).normalize(),h4.set(s.__damp.velocity_x,s.__damp.velocity_y,s.__damp.velocity_z,s.__damp.velocity_w),qg.copy(jl).multiplyScalar(h4.dot(jl)/jl.dot(jl)),s.__damp.velocity_x-=qg.x,s.__damp.velocity_y-=qg.y,s.__damp.velocity_z-=qg.z,s.__damp.velocity_w-=qg.w,n.set(jl.x,jl.y,jl.z,jl.w),d4||p4||m4||g4}var Xg=new Ry,v4,y4,x4;function fve(n,e,t,r,i,a,o){return Array.isArray(e)?Xg.set(e[0],e[1],e[2]):Xg.copy(e),v4=ti(n,"radius",Xg.radius,t,r,i,a,o),y4=Cp(n,"phi",Xg.phi,t,r,i,a,o),x4=Cp(n,"theta",Xg.theta,t,r,i,a,o),v4||y4||x4}var h_=new jt,_4=new Q,b4=new Rr,S4=new Q,w4,M4,A4;function hve(n,e,t,r,i,a,o){var s=n;return s.__damp===void 0&&(s.__damp={position:new Q,rotation:new Rr,scale:new Q},n.decompose(s.__damp.position,s.__damp.rotation,s.__damp.scale)),Array.isArray(e)?h_.set.apply(h_,Vge(e)):h_.copy(e),h_.decompose(_4,b4,S4),w4=s2(s.__damp.position,_4,t,r,i,a,o),M4=Ib(s.__damp.rotation,b4,t,r,i,a,o),A4=s2(s.__damp.scale,S4,t,r,i,a,o),n.compose(s.__damp.position,s.__damp.rotation,s.__damp.scale),w4||M4||A4}var dve=Object.freeze({__proto__:null,rsqw:Kge,exp:I6,linear:Zge,sine:Jge,cubic:Qge,quint:eve,circ:tve,quart:nve,expo:rve,damp:ti,dampLookAt:ove,dampAngle:Cp,damp2:sve,damp3:s2,damp4:lve,dampE:uve,dampC:cve,dampQ:Ib,dampS:fve,dampM:hve}),pve=Object.defineProperty,mve=(n,e,t)=>e in n?pve(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,gve=(n,e,t)=>(mve(n,e+"",t),t);class vve{constructor(){gve(this,"_listeners")}addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const a=i.indexOf(t);a!==-1&&i.splice(a,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let a=0,o=i.length;a<o;a++)i[a].call(this,e);e.target=null}}}var yve=Object.defineProperty,xve=(n,e,t)=>e in n?yve(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,kt=(n,e,t)=>(xve(n,typeof e!="symbol"?e+"":e,t),t);const d_=new Ph,T4=new Hl,_ve=Math.cos(70*(Math.PI/180)),E4=(n,e)=>(n%e+e)%e;let bve=class extends vve{constructor(e,t){super(),kt(this,"object"),kt(this,"domElement"),kt(this,"enabled",!0),kt(this,"target",new Q),kt(this,"minDistance",0),kt(this,"maxDistance",1/0),kt(this,"minZoom",0),kt(this,"maxZoom",1/0),kt(this,"minPolarAngle",0),kt(this,"maxPolarAngle",Math.PI),kt(this,"minAzimuthAngle",-1/0),kt(this,"maxAzimuthAngle",1/0),kt(this,"enableDamping",!1),kt(this,"dampingFactor",.05),kt(this,"enableZoom",!0),kt(this,"zoomSpeed",1),kt(this,"enableRotate",!0),kt(this,"rotateSpeed",1),kt(this,"enablePan",!0),kt(this,"panSpeed",1),kt(this,"screenSpacePanning",!0),kt(this,"keyPanSpeed",7),kt(this,"zoomToCursor",!1),kt(this,"autoRotate",!1),kt(this,"autoRotateSpeed",2),kt(this,"reverseOrbit",!1),kt(this,"reverseHorizontalOrbit",!1),kt(this,"reverseVerticalOrbit",!1),kt(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),kt(this,"mouseButtons",{LEFT:Hf.ROTATE,MIDDLE:Hf.DOLLY,RIGHT:Hf.PAN}),kt(this,"touches",{ONE:Wf.ROTATE,TWO:Wf.DOLLY_PAN}),kt(this,"target0"),kt(this,"position0"),kt(this,"zoom0"),kt(this,"_domElementKeyEvents",null),kt(this,"getPolarAngle"),kt(this,"getAzimuthalAngle"),kt(this,"setPolarAngle"),kt(this,"setAzimuthalAngle"),kt(this,"getDistance"),kt(this,"getZoomScale"),kt(this,"listenToKeyEvents"),kt(this,"stopListenToKeyEvents"),kt(this,"saveState"),kt(this,"reset"),kt(this,"update"),kt(this,"connect"),kt(this,"dispose"),kt(this,"dollyIn"),kt(this,"dollyOut"),kt(this,"getScale"),kt(this,"setScale"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>f.phi,this.getAzimuthalAngle=()=>f.theta,this.setPolarAngle=ue=>{let Ue=E4(ue,2*Math.PI),st=f.phi;st<0&&(st+=2*Math.PI),Ue<0&&(Ue+=2*Math.PI);let at=Math.abs(Ue-st);2*Math.PI-at<at&&(Ue<st?Ue+=2*Math.PI:st+=2*Math.PI),d.phi=Ue-st,r.update()},this.setAzimuthalAngle=ue=>{let Ue=E4(ue,2*Math.PI),st=f.theta;st<0&&(st+=2*Math.PI),Ue<0&&(Ue+=2*Math.PI);let at=Math.abs(Ue-st);2*Math.PI-at<at&&(Ue<st?Ue+=2*Math.PI:st+=2*Math.PI),d.theta=Ue-st,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=ue=>{ue.addEventListener("keydown",Tt),this._domElementKeyEvents=ue},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",Tt),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(i),r.update(),l=s.NONE},this.update=(()=>{const ue=new Q,Ue=new Q(0,1,0),st=new Rr().setFromUnitVectors(e.up,Ue),at=st.clone().invert(),He=new Q,le=new Rr,Xe=2*Math.PI;return function(){const Rt=r.object.position;st.setFromUnitVectors(e.up,Ue),at.copy(st).invert(),ue.copy(Rt).sub(r.target),ue.applyQuaternion(st),f.setFromVector3(ue),r.autoRotate&&l===s.NONE&&H(G()),r.enableDamping?(f.theta+=d.theta*r.dampingFactor,f.phi+=d.phi*r.dampingFactor):(f.theta+=d.theta,f.phi+=d.phi);let _t=r.minAzimuthAngle,rn=r.maxAzimuthAngle;isFinite(_t)&&isFinite(rn)&&(_t<-Math.PI?_t+=Xe:_t>Math.PI&&(_t-=Xe),rn<-Math.PI?rn+=Xe:rn>Math.PI&&(rn-=Xe),_t<=rn?f.theta=Math.max(_t,Math.min(rn,f.theta)):f.theta=f.theta>(_t+rn)/2?Math.max(_t,f.theta):Math.min(rn,f.theta)),f.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,f.phi)),f.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(v,r.dampingFactor):r.target.add(v),r.zoomToCursor&&N||r.object.isOrthographicCamera?f.radius=se(f.radius):f.radius=se(f.radius*m),ue.setFromSpherical(f),ue.applyQuaternion(at),Rt.copy(r.target).add(ue),r.object.matrixAutoUpdate||r.object.updateMatrix(),r.object.lookAt(r.target),r.enableDamping===!0?(d.theta*=1-r.dampingFactor,d.phi*=1-r.dampingFactor,v.multiplyScalar(1-r.dampingFactor)):(d.set(0,0,0),v.set(0,0,0));let dn=!1;if(r.zoomToCursor&&N){let En=null;if(r.object instanceof Or&&r.object.isPerspectiveCamera){const zn=ue.length();En=se(zn*m);const hn=zn-En;r.object.position.addScaledVector(I,hn),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const zn=new Q(U.x,U.y,0);zn.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/m)),r.object.updateProjectionMatrix(),dn=!0;const hn=new Q(U.x,U.y,0);hn.unproject(r.object),r.object.position.sub(hn).add(zn),r.object.updateMatrixWorld(),En=ue.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;En!==null&&(r.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(En).add(r.object.position):(d_.origin.copy(r.object.position),d_.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(d_.direction))<_ve?e.lookAt(r.target):(T4.setFromNormalAndCoplanarPoint(r.object.up,r.target),d_.intersectPlane(T4,r.target))))}else r.object instanceof xc&&r.object.isOrthographicCamera&&(dn=m!==1,dn&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/m)),r.object.updateProjectionMatrix()));return m=1,N=!1,dn||He.distanceToSquared(r.object.position)>c||8*(1-le.dot(r.object.quaternion))>c?(r.dispatchEvent(i),He.copy(r.object.position),le.copy(r.object.quaternion),dn=!1,!0):!1}})(),this.connect=ue=>{r.domElement=ue,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",en),r.domElement.addEventListener("pointerdown",ze),r.domElement.addEventListener("pointercancel",ke),r.domElement.addEventListener("wheel",lt)},this.dispose=()=>{var ue,Ue,st,at,He,le;r.domElement&&(r.domElement.style.touchAction="auto"),(ue=r.domElement)==null||ue.removeEventListener("contextmenu",en),(Ue=r.domElement)==null||Ue.removeEventListener("pointerdown",ze),(st=r.domElement)==null||st.removeEventListener("pointercancel",ke),(at=r.domElement)==null||at.removeEventListener("wheel",lt),(He=r.domElement)==null||He.ownerDocument.removeEventListener("pointermove",je),(le=r.domElement)==null||le.ownerDocument.removeEventListener("pointerup",ke),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",Tt)};const r=this,i={type:"change"},a={type:"start"},o={type:"end"},s={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=s.NONE;const c=1e-6,f=new Ry,d=new Ry;let m=1;const v=new Q,x=new Ie,S=new Ie,_=new Ie,b=new Ie,M=new Ie,T=new Ie,E=new Ie,P=new Ie,R=new Ie,I=new Q,U=new Ie;let N=!1;const k=[],z={};function G(){return 2*Math.PI/60/60*r.autoRotateSpeed}function K(){return Math.pow(.95,r.zoomSpeed)}function H(ue){r.reverseOrbit||r.reverseHorizontalOrbit?d.theta+=ue:d.theta-=ue}function te(ue){r.reverseOrbit||r.reverseVerticalOrbit?d.phi+=ue:d.phi-=ue}const J=(()=>{const ue=new Q;return function(st,at){ue.setFromMatrixColumn(at,0),ue.multiplyScalar(-st),v.add(ue)}})(),ie=(()=>{const ue=new Q;return function(st,at){r.screenSpacePanning===!0?ue.setFromMatrixColumn(at,1):(ue.setFromMatrixColumn(at,0),ue.crossVectors(r.object.up,ue)),ue.multiplyScalar(st),v.add(ue)}})(),B=(()=>{const ue=new Q;return function(st,at){const He=r.domElement;if(He&&r.object instanceof Or&&r.object.isPerspectiveCamera){const le=r.object.position;ue.copy(le).sub(r.target);let Xe=ue.length();Xe*=Math.tan(r.object.fov/2*Math.PI/180),J(2*st*Xe/He.clientHeight,r.object.matrix),ie(2*at*Xe/He.clientHeight,r.object.matrix)}else He&&r.object instanceof xc&&r.object.isOrthographicCamera?(J(st*(r.object.right-r.object.left)/r.object.zoom/He.clientWidth,r.object.matrix),ie(at*(r.object.top-r.object.bottom)/r.object.zoom/He.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function X(ue){r.object instanceof Or&&r.object.isPerspectiveCamera||r.object instanceof xc&&r.object.isOrthographicCamera?m=ue:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function $(ue){X(m/ue)}function V(ue){X(m*ue)}function ee(ue){if(!r.zoomToCursor||!r.domElement)return;N=!0;const Ue=r.domElement.getBoundingClientRect(),st=ue.clientX-Ue.left,at=ue.clientY-Ue.top,He=Ue.width,le=Ue.height;U.x=st/He*2-1,U.y=-(at/le)*2+1,I.set(U.x,U.y,1).unproject(r.object).sub(r.object.position).normalize()}function se(ue){return Math.max(r.minDistance,Math.min(r.maxDistance,ue))}function me(ue){x.set(ue.clientX,ue.clientY)}function Ce(ue){ee(ue),E.set(ue.clientX,ue.clientY)}function Ne(ue){b.set(ue.clientX,ue.clientY)}function De(ue){S.set(ue.clientX,ue.clientY),_.subVectors(S,x).multiplyScalar(r.rotateSpeed);const Ue=r.domElement;Ue&&(H(2*Math.PI*_.x/Ue.clientHeight),te(2*Math.PI*_.y/Ue.clientHeight)),x.copy(S),r.update()}function Ke(ue){P.set(ue.clientX,ue.clientY),R.subVectors(P,E),R.y>0?$(K()):R.y<0&&V(K()),E.copy(P),r.update()}function Te(ue){M.set(ue.clientX,ue.clientY),T.subVectors(M,b).multiplyScalar(r.panSpeed),B(T.x,T.y),b.copy(M),r.update()}function Le(ue){ee(ue),ue.deltaY<0?V(K()):ue.deltaY>0&&$(K()),r.update()}function Ge(ue){let Ue=!1;switch(ue.code){case r.keys.UP:B(0,r.keyPanSpeed),Ue=!0;break;case r.keys.BOTTOM:B(0,-r.keyPanSpeed),Ue=!0;break;case r.keys.LEFT:B(r.keyPanSpeed,0),Ue=!0;break;case r.keys.RIGHT:B(-r.keyPanSpeed,0),Ue=!0;break}Ue&&(ue.preventDefault(),r.update())}function q(){if(k.length==1)x.set(k[0].pageX,k[0].pageY);else{const ue=.5*(k[0].pageX+k[1].pageX),Ue=.5*(k[0].pageY+k[1].pageY);x.set(ue,Ue)}}function Re(){if(k.length==1)b.set(k[0].pageX,k[0].pageY);else{const ue=.5*(k[0].pageX+k[1].pageX),Ue=.5*(k[0].pageY+k[1].pageY);b.set(ue,Ue)}}function _e(){const ue=k[0].pageX-k[1].pageX,Ue=k[0].pageY-k[1].pageY,st=Math.sqrt(ue*ue+Ue*Ue);E.set(0,st)}function Fe(){r.enableZoom&&_e(),r.enablePan&&Re()}function Ae(){r.enableZoom&&_e(),r.enableRotate&&q()}function it(ue){if(k.length==1)S.set(ue.pageX,ue.pageY);else{const st=pt(ue),at=.5*(ue.pageX+st.x),He=.5*(ue.pageY+st.y);S.set(at,He)}_.subVectors(S,x).multiplyScalar(r.rotateSpeed);const Ue=r.domElement;Ue&&(H(2*Math.PI*_.x/Ue.clientHeight),te(2*Math.PI*_.y/Ue.clientHeight)),x.copy(S)}function Qe(ue){if(k.length==1)M.set(ue.pageX,ue.pageY);else{const Ue=pt(ue),st=.5*(ue.pageX+Ue.x),at=.5*(ue.pageY+Ue.y);M.set(st,at)}T.subVectors(M,b).multiplyScalar(r.panSpeed),B(T.x,T.y),b.copy(M)}function Y(ue){const Ue=pt(ue),st=ue.pageX-Ue.x,at=ue.pageY-Ue.y,He=Math.sqrt(st*st+at*at);P.set(0,He),R.set(0,Math.pow(P.y/E.y,r.zoomSpeed)),$(R.y),E.copy(P)}function W(ue){r.enableZoom&&Y(ue),r.enablePan&&Qe(ue)}function ge(ue){r.enableZoom&&Y(ue),r.enableRotate&&it(ue)}function ze(ue){var Ue,st;r.enabled!==!1&&(k.length===0&&((Ue=r.domElement)==null||Ue.ownerDocument.addEventListener("pointermove",je),(st=r.domElement)==null||st.ownerDocument.addEventListener("pointerup",ke)),Zt(ue),ue.pointerType==="touch"?Vt(ue):xt(ue))}function je(ue){r.enabled!==!1&&(ue.pointerType==="touch"?Ve(ue):tt(ue))}function ke(ue){var Ue,st,at;Ft(ue),k.length===0&&((Ue=r.domElement)==null||Ue.releasePointerCapture(ue.pointerId),(st=r.domElement)==null||st.ownerDocument.removeEventListener("pointermove",je),(at=r.domElement)==null||at.ownerDocument.removeEventListener("pointerup",ke)),r.dispatchEvent(o),l=s.NONE}function xt(ue){let Ue;switch(ue.button){case 0:Ue=r.mouseButtons.LEFT;break;case 1:Ue=r.mouseButtons.MIDDLE;break;case 2:Ue=r.mouseButtons.RIGHT;break;default:Ue=-1}switch(Ue){case Hf.DOLLY:if(r.enableZoom===!1)return;Ce(ue),l=s.DOLLY;break;case Hf.ROTATE:if(ue.ctrlKey||ue.metaKey||ue.shiftKey){if(r.enablePan===!1)return;Ne(ue),l=s.PAN}else{if(r.enableRotate===!1)return;me(ue),l=s.ROTATE}break;case Hf.PAN:if(ue.ctrlKey||ue.metaKey||ue.shiftKey){if(r.enableRotate===!1)return;me(ue),l=s.ROTATE}else{if(r.enablePan===!1)return;Ne(ue),l=s.PAN}break;default:l=s.NONE}l!==s.NONE&&r.dispatchEvent(a)}function tt(ue){if(r.enabled!==!1)switch(l){case s.ROTATE:if(r.enableRotate===!1)return;De(ue);break;case s.DOLLY:if(r.enableZoom===!1)return;Ke(ue);break;case s.PAN:if(r.enablePan===!1)return;Te(ue);break}}function lt(ue){r.enabled===!1||r.enableZoom===!1||l!==s.NONE&&l!==s.ROTATE||(ue.preventDefault(),r.dispatchEvent(a),Le(ue),r.dispatchEvent(o))}function Tt(ue){r.enabled===!1||r.enablePan===!1||Ge(ue)}function Vt(ue){switch(Ct(ue),k.length){case 1:switch(r.touches.ONE){case Wf.ROTATE:if(r.enableRotate===!1)return;q(),l=s.TOUCH_ROTATE;break;case Wf.PAN:if(r.enablePan===!1)return;Re(),l=s.TOUCH_PAN;break;default:l=s.NONE}break;case 2:switch(r.touches.TWO){case Wf.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Fe(),l=s.TOUCH_DOLLY_PAN;break;case Wf.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Ae(),l=s.TOUCH_DOLLY_ROTATE;break;default:l=s.NONE}break;default:l=s.NONE}l!==s.NONE&&r.dispatchEvent(a)}function Ve(ue){switch(Ct(ue),l){case s.TOUCH_ROTATE:if(r.enableRotate===!1)return;it(ue),r.update();break;case s.TOUCH_PAN:if(r.enablePan===!1)return;Qe(ue),r.update();break;case s.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;W(ue),r.update();break;case s.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;ge(ue),r.update();break;default:l=s.NONE}}function en(ue){r.enabled!==!1&&ue.preventDefault()}function Zt(ue){k.push(ue)}function Ft(ue){delete z[ue.pointerId];for(let Ue=0;Ue<k.length;Ue++)if(k[Ue].pointerId==ue.pointerId){k.splice(Ue,1);return}}function Ct(ue){let Ue=z[ue.pointerId];Ue===void 0&&(Ue=new Ie,z[ue.pointerId]=Ue),Ue.set(ue.pageX,ue.pageY)}function pt(ue){const Ue=ue.pointerId===k[0].pointerId?k[1]:k[0];return z[Ue.pointerId]}this.dollyIn=(ue=K())=>{V(ue),r.update()},this.dollyOut=(ue=K())=>{$(ue),r.update()},this.getScale=()=>m,this.setScale=ue=>{X(ue),r.update()},this.getZoomScale=()=>K(),t!==void 0&&this.connect(t),this.update()}};const Sve=()=>parseInt(Xy.replace(/\D+/g,"")),wve=Sve(),Mve=fe.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:r,enableDamping:i=!0,keyEvents:a=!1,onChange:o,onStart:s,onEnd:l,...c},f)=>{const d=ic(R=>R.invalidate),m=ic(R=>R.camera),v=ic(R=>R.gl),x=ic(R=>R.events),S=ic(R=>R.setEvents),_=ic(R=>R.set),b=ic(R=>R.get),M=ic(R=>R.performance),T=e||m,E=r||x.connected||v.domElement,P=fe.useMemo(()=>new bve(T),[T]);return SR(()=>{P.enabled&&P.update()},-1),fe.useEffect(()=>(a&&P.connect(a===!0?E:a),P.connect(E),()=>{P.dispose()}),[a,E,t,P,d]),fe.useEffect(()=>{const R=N=>{d(),t&&M.regress(),o&&o(N)},I=N=>{s&&s(N)},U=N=>{l&&l(N)};return P.addEventListener("change",R),P.addEventListener("start",I),P.addEventListener("end",U),()=>{P.removeEventListener("start",I),P.removeEventListener("end",U),P.removeEventListener("change",R)}},[o,s,l,P,d,S]),fe.useEffect(()=>{if(n){const R=b().controls;return _({controls:P}),()=>_({controls:R})}},[n,P]),fe.createElement("primitive",WP({ref:f,object:P,enableDamping:i},c))});class Ave extends ws{constructor(){super({uniforms:{time:{value:0},fade:{value:1}},vertexShader:`
      uniform float time;
      attribute float size;
      varying vec3 vColor;
      void main() {
        vColor = color;
        vec4 mvPosition = modelViewMatrix * vec4(position, 0.5);
        gl_PointSize = size * (30.0 / -mvPosition.z) * (3.0 + sin(time + 100.0));
        gl_Position = projectionMatrix * mvPosition;
      }`,fragmentShader:`
      uniform sampler2D pointTexture;
      uniform float fade;
      varying vec3 vColor;
      void main() {
        float opacity = 1.0;
        if (fade == 1.0) {
          float d = distance(gl_PointCoord, vec2(0.5, 0.5));
          opacity = 1.0 / (1.0 + exp(16.0 * (d - 0.25)));
        }
        gl_FragColor = vec4(vColor, opacity);

        #include <tonemapping_fragment>
	      #include <${wve>=154?"colorspace_fragment":"encodings_fragment"}>
      }`})}}const Tve=n=>new Q().setFromSpherical(new Ry(n,Math.acos(1-Math.random()*2),Math.random()*2*Math.PI)),Eve=fe.forwardRef(({radius:n=100,depth:e=50,count:t=5e3,saturation:r=0,factor:i=4,fade:a=!1,speed:o=1},s)=>{const l=fe.useRef(),[c,f,d]=fe.useMemo(()=>{const v=[],x=[],S=Array.from({length:t},()=>(.5+.5*Math.random())*i),_=new ft;let b=n+e;const M=e/t;for(let T=0;T<t;T++)b-=M*Math.random(),v.push(...Tve(b).toArray()),_.setHSL(T/t,r,.9),x.push(_.r,_.g,_.b);return[new Float32Array(v),new Float32Array(x),new Float32Array(S)]},[t,e,i,n,r]);SR(v=>l.current&&(l.current.uniforms.time.value=v.clock.getElapsedTime()*o));const[m]=fe.useState(()=>new Ave);return fe.createElement("points",{ref:s},fe.createElement("bufferGeometry",null,fe.createElement("bufferAttribute",{attach:"attributes-position",args:[c,3]}),fe.createElement("bufferAttribute",{attach:"attributes-color",args:[f,3]}),fe.createElement("bufferAttribute",{attach:"attributes-size",args:[d,1]})),fe.createElement("primitive",{ref:l,object:m,attach:"material",blending:uy,"uniforms-fade-value":a,depthWrite:!1,transparent:!0,vertexColors:!0}))}),Pve=({activeTheme:n})=>{const e=fe.useRef(),t=fe.useRef(),r=fe.useRef([0,0]),[i,a,o,s]=wR(K8,["https://raw.githubusercontent.com/pmndrs/drei-assets/master/earth/day.jpg","https://raw.githubusercontent.com/pmndrs/drei-assets/master/earth/normal.jpg","https://raw.githubusercontent.com/pmndrs/drei-assets/master/earth/specular.jpg","https://raw.githubusercontent.com/pmndrs/drei-assets/master/earth/clouds.jpg"]),l={"Extreme Weather Events":[20,78],"Climate Modeling and Predictions":[0,0],"Glacier Dynamics and Water Resources":[28,86],"Vegetation Changes and Land Use":[23,76],"Humanitarian Response":[25,85],"Terrestrial Water Changes":[30,79]};return fe.useEffect(()=>{n&&l[n]?r.current=l[n]:r.current=[0,0]},[n]),SR((c,f)=>{const d=n?.05:.1;e.current.rotation.y+=f*d*.5,t.current.rotation.y+=f*d*.6;const[m,v]=r.current,x=n?2.5:4.5,S=(90-m)*(Math.PI/180),_=(v+180)*(Math.PI/180),b=-(x*Math.sin(S)*Math.cos(_)),M=x*Math.sin(S)*Math.sin(_),T=x*Math.cos(S);dve.damp3(c.camera.position,[b,T,M],.25,f),c.camera.lookAt(0,0,0)}),oe.jsxs(oe.Fragment,{children:[oe.jsx("ambientLight",{intensity:.5}),oe.jsx("pointLight",{position:[10,10,10],intensity:1.5}),oe.jsx("pointLight",{position:[-10,-10,-5],intensity:.5,color:"#38bdf8"}),oe.jsxs("group",{children:[oe.jsxs("mesh",{ref:e,children:[oe.jsx("sphereGeometry",{args:[1,64,64]}),oe.jsx("meshPhongMaterial",{map:i,specularMap:o,normalMap:a,shininess:5})]}),oe.jsxs("mesh",{ref:t,scale:[1.01,1.01,1.01],children:[oe.jsx("sphereGeometry",{args:[1,64,64]}),oe.jsx("meshStandardMaterial",{map:s,transparent:!0,opacity:.4,blending:uy,side:vs})]}),oe.jsxs("mesh",{scale:[1.2,1.2,1.2],children:[oe.jsx("sphereGeometry",{args:[1,64,64]}),oe.jsx("meshToonMaterial",{color:"#38bdf8",transparent:!0,opacity:.1,side:$i})]})]})]})},D6=fe.createContext({});function Cve(n){const e=fe.useRef(null);return e.current===null&&(e.current=n()),e.current}const AR=typeof window<"u",Ove=AR?fe.useLayoutEffect:fe.useEffect,TR=fe.createContext(null);function ER(n,e){n.indexOf(e)===-1&&n.push(e)}function PR(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const ou=(n,e,t)=>t>e?e:t<n?n:t;let CR=()=>{};const su={},L6=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function N6(n){return typeof n=="object"&&n!==null}const k6=n=>/^0[^.\s]+$/u.test(n);function OR(n){let e;return()=>(e===void 0&&(e=n()),e)}const Eo=n=>n,Rve=(n,e)=>t=>e(n(t)),o0=(...n)=>n.reduce(Rve),Iy=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r};class RR{constructor(){this.subscriptions=[]}add(e){return ER(this.subscriptions,e),()=>PR(this.subscriptions,e)}notify(e,t,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,t,r);else for(let a=0;a<i;a++){const o=this.subscriptions[a];o&&o(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ks=n=>n*1e3,To=n=>n/1e3;function U6(n,e){return e?n*(1e3/e):0}const F6=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,Ive=1e-7,Dve=12;function Lve(n,e,t,r,i){let a,o,s=0;do o=e+(t-e)/2,a=F6(o,r,i)-n,a>0?t=o:e=o;while(Math.abs(a)>Ive&&++s<Dve);return o}function s0(n,e,t,r){if(n===e&&t===r)return Eo;const i=a=>Lve(a,0,1,n,t);return a=>a===0||a===1?a:F6(i(a),e,r)}const B6=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,z6=n=>e=>1-n(1-e),j6=s0(.33,1.53,.69,.99),IR=z6(j6),V6=B6(IR),H6=n=>(n*=2)<1?.5*IR(n):.5*(2-Math.pow(2,-10*(n-1))),DR=n=>1-Math.sin(Math.acos(n)),W6=z6(DR),G6=B6(DR),Nve=s0(.42,0,1,1),kve=s0(0,0,.58,1),$6=s0(.42,0,.58,1),Uve=n=>Array.isArray(n)&&typeof n[0]!="number",q6=n=>Array.isArray(n)&&typeof n[0]=="number",Fve={linear:Eo,easeIn:Nve,easeInOut:$6,easeOut:kve,circIn:DR,circInOut:G6,circOut:W6,backIn:IR,backInOut:V6,backOut:j6,anticipate:H6},Bve=n=>typeof n=="string",P4=n=>{if(q6(n)){CR(n.length===4);const[e,t,r,i]=n;return s0(e,t,r,i)}else if(Bve(n))return Fve[n];return n},p_=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function zve(n,e){let t=new Set,r=new Set,i=!1,a=!1;const o=new WeakSet;let s={delta:0,timestamp:0,isProcessing:!1};function l(f){o.has(f)&&(c.schedule(f),n()),f(s)}const c={schedule:(f,d=!1,m=!1)=>{const x=m&&i?t:r;return d&&o.add(f),x.has(f)||x.add(f),f},cancel:f=>{r.delete(f),o.delete(f)},process:f=>{if(s=f,i){a=!0;return}i=!0,[t,r]=[r,t],t.forEach(l),t.clear(),i=!1,a&&(a=!1,c.process(f))}};return c}const jve=40;function X6(n,e){let t=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>t=!0,o=p_.reduce((T,E)=>(T[E]=zve(a),T),{}),{setup:s,read:l,resolveKeyframes:c,preUpdate:f,update:d,preRender:m,render:v,postRender:x}=o,S=()=>{const T=su.useManualTiming?i.timestamp:performance.now();t=!1,su.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(T-i.timestamp,jve),1)),i.timestamp=T,i.isProcessing=!0,s.process(i),l.process(i),c.process(i),f.process(i),d.process(i),m.process(i),v.process(i),x.process(i),i.isProcessing=!1,t&&e&&(r=!1,n(S))},_=()=>{t=!0,r=!0,i.isProcessing||n(S)};return{schedule:p_.reduce((T,E)=>{const P=o[E];return T[E]=(R,I=!1,U=!1)=>(t||_(),P.schedule(R,I,U)),T},{}),cancel:T=>{for(let E=0;E<p_.length;E++)o[p_[E]].cancel(T)},state:i,steps:o}}const{schedule:lr,cancel:Ac,state:Pi,steps:LE}=X6(typeof requestAnimationFrame<"u"?requestAnimationFrame:Eo,!0);let T_;function Vve(){T_=void 0}const Ia={now:()=>(T_===void 0&&Ia.set(Pi.isProcessing||su.useManualTiming?Pi.timestamp:performance.now()),T_),set:n=>{T_=n,queueMicrotask(Vve)}},Y6=n=>e=>typeof e=="string"&&e.startsWith(n),K6=Y6("--"),Hve=Y6("var(--"),LR=n=>Hve(n)?Wve.test(n.split("/*")[0].trim()):!1,Wve=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Sm={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Dy={...Sm,transform:n=>ou(0,1,n)},m_={...Sm,default:1},bv=n=>Math.round(n*1e5)/1e5,NR=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Gve(n){return n==null}const $ve=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,kR=(n,e)=>t=>!!(typeof t=="string"&&$ve.test(t)&&t.startsWith(n)||e&&!Gve(t)&&Object.prototype.hasOwnProperty.call(t,e)),Z6=(n,e,t)=>r=>{if(typeof r!="string")return r;const[i,a,o,s]=r.match(NR);return{[n]:parseFloat(i),[e]:parseFloat(a),[t]:parseFloat(o),alpha:s!==void 0?parseFloat(s):1}},qve=n=>ou(0,255,n),NE={...Sm,transform:n=>Math.round(qve(n))},oh={test:kR("rgb","red"),parse:Z6("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+NE.transform(n)+", "+NE.transform(e)+", "+NE.transform(t)+", "+bv(Dy.transform(r))+")"};function Xve(n){let e="",t="",r="",i="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),i=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),i=n.substring(4,5),e+=e,t+=t,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const l2={test:kR("#"),parse:Xve,transform:oh.transform},l0=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),sc=l0("deg"),Zs=l0("%"),Gt=l0("px"),Yve=l0("vh"),Kve=l0("vw"),C4={...Zs,parse:n=>Zs.parse(n)/100,transform:n=>Zs.transform(n*100)},_p={test:kR("hsl","hue"),parse:Z6("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+Zs.transform(bv(e))+", "+Zs.transform(bv(t))+", "+bv(Dy.transform(r))+")"},Br={test:n=>oh.test(n)||l2.test(n)||_p.test(n),parse:n=>oh.test(n)?oh.parse(n):_p.test(n)?_p.parse(n):l2.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?oh.transform(n):_p.transform(n),getAnimatableNone:n=>{const e=Br.parse(n);return e.alpha=0,Br.transform(e)}},Zve=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Jve(n){return isNaN(n)&&typeof n=="string"&&(n.match(NR)?.length||0)+(n.match(Zve)?.length||0)>0}const J6="number",Q6="color",Qve="var",eye="var(",O4="${}",tye=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ly(n){const e=n.toString(),t=[],r={color:[],number:[],var:[]},i=[];let a=0;const s=e.replace(tye,l=>(Br.test(l)?(r.color.push(a),i.push(Q6),t.push(Br.parse(l))):l.startsWith(eye)?(r.var.push(a),i.push(Qve),t.push(l)):(r.number.push(a),i.push(J6),t.push(parseFloat(l))),++a,O4)).split(O4);return{values:t,split:s,indexes:r,types:i}}function eG(n){return Ly(n).values}function tG(n){const{split:e,types:t}=Ly(n),r=e.length;return i=>{let a="";for(let o=0;o<r;o++)if(a+=e[o],i[o]!==void 0){const s=t[o];s===J6?a+=bv(i[o]):s===Q6?a+=Br.transform(i[o]):a+=i[o]}return a}}const nye=n=>typeof n=="number"?0:Br.test(n)?Br.getAnimatableNone(n):n;function rye(n){const e=eG(n);return tG(n)(e.map(nye))}const Tc={test:Jve,parse:eG,createTransformer:tG,getAnimatableNone:rye};function kE(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function iye({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let i=0,a=0,o=0;if(!e)i=a=o=t;else{const s=t<.5?t*(1+e):t+e-t*e,l=2*t-s;i=kE(l,s,n+1/3),a=kE(l,s,n),o=kE(l,s,n-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:r}}function Db(n,e){return t=>t>0?e:n}const mr=(n,e,t)=>n+(e-n)*t,UE=(n,e,t)=>{const r=n*n,i=t*(e*e-r)+r;return i<0?0:Math.sqrt(i)},aye=[l2,oh,_p],oye=n=>aye.find(e=>e.test(n));function R4(n){const e=oye(n);if(!e)return!1;let t=e.parse(n);return e===_p&&(t=iye(t)),t}const I4=(n,e)=>{const t=R4(n),r=R4(e);if(!t||!r)return Db(n,e);const i={...t};return a=>(i.red=UE(t.red,r.red,a),i.green=UE(t.green,r.green,a),i.blue=UE(t.blue,r.blue,a),i.alpha=mr(t.alpha,r.alpha,a),oh.transform(i))},u2=new Set(["none","hidden"]);function sye(n,e){return u2.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function lye(n,e){return t=>mr(n,e,t)}function UR(n){return typeof n=="number"?lye:typeof n=="string"?LR(n)?Db:Br.test(n)?I4:fye:Array.isArray(n)?nG:typeof n=="object"?Br.test(n)?I4:uye:Db}function nG(n,e){const t=[...n],r=t.length,i=n.map((a,o)=>UR(a)(a,e[o]));return a=>{for(let o=0;o<r;o++)t[o]=i[o](a);return t}}function uye(n,e){const t={...n,...e},r={};for(const i in t)n[i]!==void 0&&e[i]!==void 0&&(r[i]=UR(n[i])(n[i],e[i]));return i=>{for(const a in r)t[a]=r[a](i);return t}}function cye(n,e){const t=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const a=e.types[i],o=n.indexes[a][r[a]],s=n.values[o]??0;t[i]=s,r[a]++}return t}const fye=(n,e)=>{const t=Tc.createTransformer(e),r=Ly(n),i=Ly(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?u2.has(n)&&!i.values.length||u2.has(e)&&!r.values.length?sye(n,e):o0(nG(cye(r,i),i.values),t):Db(n,e)};function rG(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?mr(n,e,t):UR(n)(n,e)}const hye=n=>{const e=({timestamp:t})=>n(t);return{start:(t=!0)=>lr.update(e,t),stop:()=>Ac(e),now:()=>Pi.isProcessing?Pi.timestamp:Ia.now()}},iG=(n,e,t=10)=>{let r="";const i=Math.max(Math.round(e/t),2);for(let a=0;a<i;a++)r+=Math.round(n(a/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Lb=2e4;function FR(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<Lb;)e+=t,r=n.next(e);return e>=Lb?1/0:e}function dye(n,e=100,t){const r=t({...n,keyframes:[0,e]}),i=Math.min(FR(r),Lb);return{type:"keyframes",ease:a=>r.next(i*a).value/e,duration:To(i)}}const pye=5;function aG(n,e,t){const r=Math.max(e-pye,0);return U6(t-n(r),e-r)}const _r={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},FE=.001;function mye({duration:n=_r.duration,bounce:e=_r.bounce,velocity:t=_r.velocity,mass:r=_r.mass}){let i,a,o=1-e;o=ou(_r.minDamping,_r.maxDamping,o),n=ou(_r.minDuration,_r.maxDuration,To(n)),o<1?(i=c=>{const f=c*o,d=f*n,m=f-t,v=c2(c,o),x=Math.exp(-d);return FE-m/v*x},a=c=>{const d=c*o*n,m=d*t+t,v=Math.pow(o,2)*Math.pow(c,2)*n,x=Math.exp(-d),S=c2(Math.pow(c,2),o);return(-i(c)+FE>0?-1:1)*((m-v)*x)/S}):(i=c=>{const f=Math.exp(-c*n),d=(c-t)*n+1;return-FE+f*d},a=c=>{const f=Math.exp(-c*n),d=(t-c)*(n*n);return f*d});const s=5/n,l=vye(i,a,s);if(n=Ks(n),isNaN(l))return{stiffness:_r.stiffness,damping:_r.damping,duration:n};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:n}}}const gye=12;function vye(n,e,t){let r=t;for(let i=1;i<gye;i++)r=r-n(r)/e(r);return r}function c2(n,e){return n*Math.sqrt(1-e*e)}const yye=["duration","bounce"],xye=["stiffness","damping","mass"];function D4(n,e){return e.some(t=>n[t]!==void 0)}function _ye(n){let e={velocity:_r.velocity,stiffness:_r.stiffness,damping:_r.damping,mass:_r.mass,isResolvedFromDuration:!1,...n};if(!D4(n,xye)&&D4(n,yye))if(n.visualDuration){const t=n.visualDuration,r=2*Math.PI/(t*1.2),i=r*r,a=2*ou(.05,1,1-(n.bounce||0))*Math.sqrt(i);e={...e,mass:_r.mass,stiffness:i,damping:a}}else{const t=mye(n);e={...e,...t,mass:_r.mass},e.isResolvedFromDuration=!0}return e}function Nb(n=_r.visualDuration,e=_r.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:r,restDelta:i}=t;const a=t.keyframes[0],o=t.keyframes[t.keyframes.length-1],s={done:!1,value:a},{stiffness:l,damping:c,mass:f,duration:d,velocity:m,isResolvedFromDuration:v}=_ye({...t,velocity:-To(t.velocity||0)}),x=m||0,S=c/(2*Math.sqrt(l*f)),_=o-a,b=To(Math.sqrt(l/f)),M=Math.abs(_)<5;r||(r=M?_r.restSpeed.granular:_r.restSpeed.default),i||(i=M?_r.restDelta.granular:_r.restDelta.default);let T;if(S<1){const P=c2(b,S);T=R=>{const I=Math.exp(-S*b*R);return o-I*((x+S*b*_)/P*Math.sin(P*R)+_*Math.cos(P*R))}}else if(S===1)T=P=>o-Math.exp(-b*P)*(_+(x+b*_)*P);else{const P=b*Math.sqrt(S*S-1);T=R=>{const I=Math.exp(-S*b*R),U=Math.min(P*R,300);return o-I*((x+S*b*_)*Math.sinh(U)+P*_*Math.cosh(U))/P}}const E={calculatedDuration:v&&d||null,next:P=>{const R=T(P);if(v)s.done=P>=d;else{let I=P===0?x:0;S<1&&(I=P===0?Ks(x):aG(T,P,R));const U=Math.abs(I)<=r,N=Math.abs(o-R)<=i;s.done=U&&N}return s.value=s.done?o:R,s},toString:()=>{const P=Math.min(FR(E),Lb),R=iG(I=>E.next(P*I).value,P,30);return P+"ms "+R},toTransition:()=>{}};return E}Nb.applyToOptions=n=>{const e=dye(n,100,Nb);return n.ease=e.ease,n.duration=Ks(e.duration),n.type="keyframes",n};function f2({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:s,max:l,restDelta:c=.5,restSpeed:f}){const d=n[0],m={done:!1,value:d},v=U=>s!==void 0&&U<s||l!==void 0&&U>l,x=U=>s===void 0?l:l===void 0||Math.abs(s-U)<Math.abs(l-U)?s:l;let S=t*e;const _=d+S,b=o===void 0?_:o(_);b!==_&&(S=b-d);const M=U=>-S*Math.exp(-U/r),T=U=>b+M(U),E=U=>{const N=M(U),k=T(U);m.done=Math.abs(N)<=c,m.value=m.done?b:k};let P,R;const I=U=>{v(m.value)&&(P=U,R=Nb({keyframes:[m.value,x(m.value)],velocity:aG(T,U,m.value),damping:i,stiffness:a,restDelta:c,restSpeed:f}))};return I(0),{calculatedDuration:null,next:U=>{let N=!1;return!R&&P===void 0&&(N=!0,E(U),I(U)),P!==void 0&&U>=P?R.next(U-P):(!N&&E(U),m)}}}function bye(n,e,t){const r=[],i=t||su.mix||rG,a=n.length-1;for(let o=0;o<a;o++){let s=i(n[o],n[o+1]);if(e){const l=Array.isArray(e)?e[o]||Eo:e;s=o0(l,s)}r.push(s)}return r}function Sye(n,e,{clamp:t=!0,ease:r,mixer:i}={}){const a=n.length;if(CR(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const o=n[0]===n[1];n[0]>n[a-1]&&(n=[...n].reverse(),e=[...e].reverse());const s=bye(e,r,i),l=s.length,c=f=>{if(o&&f<n[0])return e[0];let d=0;if(l>1)for(;d<n.length-2&&!(f<n[d+1]);d++);const m=Iy(n[d],n[d+1],f);return s[d](m)};return t?f=>c(ou(n[0],n[a-1],f)):c}function wye(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const i=Iy(0,e,r);n.push(mr(t,1,i))}}function Mye(n){const e=[0];return wye(e,n.length-1),e}function Aye(n,e){return n.map(t=>t*e)}function Tye(n,e){return n.map(()=>e||$6).splice(0,n.length-1)}function Sv({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const i=Uve(r)?r.map(P4):P4(r),a={done:!1,value:e[0]},o=Aye(t&&t.length===e.length?t:Mye(e),n),s=Sye(o,e,{ease:Array.isArray(i)?i:Tye(e,i)});return{calculatedDuration:n,next:l=>(a.value=s(l),a.done=l>=n,a)}}const Eye=n=>n!==null;function BR(n,{repeat:e,repeatType:t="loop"},r,i=1){const a=n.filter(Eye),s=i<0||e&&t!=="loop"&&e%2===1?0:a.length-1;return!s||r===void 0?a[s]:r}const Pye={decay:f2,inertia:f2,tween:Sv,keyframes:Sv,spring:Nb};function oG(n){typeof n.type=="string"&&(n.type=Pye[n.type])}class zR{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const Cye=n=>n/100;class jR extends zR{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:t}=this.options;t&&t.updatedAt!==Ia.now()&&this.tick(Ia.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;oG(e);const{type:t=Sv,repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:o=0}=e;let{keyframes:s}=e;const l=t||Sv;l!==Sv&&typeof s[0]!="number"&&(this.mixKeyframes=o0(Cye,rG(s[0],s[1])),s=[0,100]);const c=l({...e,keyframes:s});a==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...s].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=FR(c));const{calculatedDuration:f}=c;this.calculatedDuration=f,this.resolvedDuration=f+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=c}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:r,totalDuration:i,mixKeyframes:a,mirroredGenerator:o,resolvedDuration:s,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:f,repeat:d,repeatType:m,repeatDelay:v,type:x,onUpdate:S,finalKeyframe:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const b=this.currentTime-c*(this.playbackSpeed>=0?1:-1),M=this.playbackSpeed>=0?b<0:b>i;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let T=this.currentTime,E=r;if(d){const U=Math.min(this.currentTime,i)/s;let N=Math.floor(U),k=U%1;!k&&U>=1&&(k=1),k===1&&N--,N=Math.min(N,d+1),N%2&&(m==="reverse"?(k=1-k,v&&(k-=v/s)):m==="mirror"&&(E=o)),T=ou(0,1,k)*s}const P=M?{done:!1,value:f[0]}:E.next(T);a&&(P.value=a(P.value));let{done:R}=P;!M&&l!==null&&(R=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&R);return I&&x!==f2&&(P.value=BR(f,this.options,_,this.speed)),S&&S(P.value),I&&this.finish(),P}then(e,t){return this.finished.then(e,t)}get duration(){return To(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+To(e)}get time(){return To(this.currentTime)}set time(e){e=Ks(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Ia.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=To(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=hye,startTime:t}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=t??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ia.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function Oye(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const sh=n=>n*180/Math.PI,h2=n=>{const e=sh(Math.atan2(n[1],n[0]));return d2(e)},Rye={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:h2,rotateZ:h2,skewX:n=>sh(Math.atan(n[1])),skewY:n=>sh(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},d2=n=>(n=n%360,n<0&&(n+=360),n),L4=h2,N4=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),k4=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),Iye={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:N4,scaleY:k4,scale:n=>(N4(n)+k4(n))/2,rotateX:n=>d2(sh(Math.atan2(n[6],n[5]))),rotateY:n=>d2(sh(Math.atan2(-n[2],n[0]))),rotateZ:L4,rotate:L4,skewX:n=>sh(Math.atan(n[4])),skewY:n=>sh(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function p2(n){return n.includes("scale")?1:0}function m2(n,e){if(!n||n==="none")return p2(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(t)r=Iye,i=t;else{const s=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=Rye,i=s}if(!i)return p2(e);const a=r[e],o=i[1].split(",").map(Lye);return typeof a=="function"?a(o):o[a]}const Dye=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return m2(t,e)};function Lye(n){return parseFloat(n.trim())}const wm=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Mm=new Set(wm),U4=n=>n===Sm||n===Gt,Nye=new Set(["x","y","z"]),kye=wm.filter(n=>!Nye.has(n));function Uye(n){const e=[];return kye.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e}const mh={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>m2(e,"x"),y:(n,{transform:e})=>m2(e,"y")};mh.translateX=mh.x;mh.translateY=mh.y;const gh=new Set;let g2=!1,v2=!1,y2=!1;function sG(){if(v2){const n=Array.from(gh).filter(r=>r.needsMeasurement),e=new Set(n.map(r=>r.element)),t=new Map;e.forEach(r=>{const i=Uye(r);i.length&&(t.set(r,i),r.render())}),n.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=t.get(r);i&&i.forEach(([a,o])=>{r.getValue(a)?.set(o)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}v2=!1,g2=!1,gh.forEach(n=>n.complete(y2)),gh.clear()}function lG(){gh.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(v2=!0)})}function Fye(){y2=!0,lG(),sG(),y2=!1}class VR{constructor(e,t,r,i,a,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=i,this.element=a,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(gh.add(this),g2||(g2=!0,lr.read(lG),lr.resolveKeyframes(sG))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:r,motionValue:i}=this;if(e[0]===null){const a=i?.get(),o=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&t){const s=r.readValue(t,o);s!=null&&(e[0]=s)}e[0]===void 0&&(e[0]=o),i&&a===void 0&&i.set(e[0])}Oye(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),gh.delete(this)}cancel(){this.state==="scheduled"&&(gh.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Bye=n=>n.startsWith("--");function zye(n,e,t){Bye(e)?n.style.setProperty(e,t):n.style[e]=t}const jye=OR(()=>window.ScrollTimeline!==void 0),Vye={};function Hye(n,e){const t=OR(n);return()=>Vye[e]??t()}const uG=Hye(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),rv=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,F4={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:rv([0,.65,.55,1]),circOut:rv([.55,0,1,.45]),backIn:rv([.31,.01,.66,-.59]),backOut:rv([.33,1.53,.69,.99])};function cG(n,e){if(n)return typeof n=="function"?uG()?iG(n,e):"ease-out":q6(n)?rv(n):Array.isArray(n)?n.map(t=>cG(t,e)||F4.easeOut):F4[n]}function Wye(n,e,t,{delay:r=0,duration:i=300,repeat:a=0,repeatType:o="loop",ease:s="easeOut",times:l}={},c=void 0){const f={[e]:t};l&&(f.offset=l);const d=cG(s,i);Array.isArray(d)&&(f.easing=d);const m={delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"};return c&&(m.pseudoElement=c),n.animate(f,m)}function fG(n){return typeof n=="function"&&"applyToOptions"in n}function Gye({type:n,...e}){return fG(n)&&uG()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class $ye extends zR{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:r,keyframes:i,pseudoElement:a,allowFlatten:o=!1,finalKeyframe:s,onComplete:l}=e;this.isPseudoElement=!!a,this.allowFlatten=o,this.options=e,CR(typeof e.type!="string");const c=Gye(e);this.animation=Wye(t,r,i,c,a),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const f=BR(i,this.options,s,this.speed);this.updateMotionValue?this.updateMotionValue(f):zye(t,r,f),this.animation.cancel()}l?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return To(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+To(e)}get time(){return To(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Ks(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&jye()?(this.animation.timeline=e,Eo):t(this)}}const hG={anticipate:H6,backInOut:V6,circInOut:G6};function qye(n){return n in hG}function Xye(n){typeof n.ease=="string"&&qye(n.ease)&&(n.ease=hG[n.ease])}const B4=10;class Yye extends $ye{constructor(e){Xye(e),oG(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:r,onComplete:i,element:a,...o}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const s=new jR({...o,autoplay:!1}),l=Ks(this.finishedTime??this.time);t.setWithVelocity(s.sample(l-B4).value,s.sample(l).value,B4),s.stop()}}const z4=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Tc.test(n)||n==="0")&&!n.startsWith("url("));function Kye(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function Zye(n,e,t,r){const i=n[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=n[n.length-1],o=z4(i,e),s=z4(a,e);return!o||!s?!1:Kye(n)||(t==="spring"||fG(t))&&r}function x2(n){n.duration=0,n.type="keyframes"}const Jye=new Set(["opacity","clipPath","filter","transform"]),Qye=OR(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function e0e(n){const{motionValue:e,name:t,repeatDelay:r,repeatType:i,damping:a,type:o}=n;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=e.owner.getProps();return Qye()&&t&&Jye.has(t)&&(t!=="transform"||!c)&&!l&&!r&&i!=="mirror"&&a!==0&&o!=="inertia"}const t0e=40;class n0e extends zR{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:o="loop",keyframes:s,name:l,motionValue:c,element:f,...d}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Ia.now();const m={autoplay:e,delay:t,type:r,repeat:i,repeatDelay:a,repeatType:o,name:l,motionValue:c,element:f,...d},v=f?.KeyframeResolver||VR;this.keyframeResolver=new v(s,(x,S,_)=>this.onKeyframesResolved(x,S,m,!_),l,c,f),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,r,i){this.keyframeResolver=void 0;const{name:a,type:o,velocity:s,delay:l,isHandoff:c,onUpdate:f}=r;this.resolvedAt=Ia.now(),Zye(e,a,o,s)||((su.instantAnimations||!l)&&f?.(BR(e,r,t)),e[0]=e[e.length-1],x2(r),r.repeat=0);const m={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>t0e?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...r,keyframes:e},v=!c&&e0e(m)?new Yye({...m,element:m.motionValue.owner.current}):new jR(m);v.finished.then(()=>this.notifyFinished()).catch(Eo),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Fye()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const r0e=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function i0e(n){const e=r0e.exec(n);if(!e)return[,];const[,t,r,i]=e;return[`--${t??r}`,i]}function dG(n,e,t=1){const[r,i]=i0e(n);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const o=a.trim();return L6(o)?parseFloat(o):o}return LR(i)?dG(i,e,t+1):i}function HR(n,e){return n?.[e]??n?.default??n}const pG=new Set(["width","height","top","left","right","bottom",...wm]),a0e={test:n=>n==="auto",parse:n=>n},mG=n=>e=>e.test(n),gG=[Sm,Gt,Zs,sc,Kve,Yve,a0e],j4=n=>gG.find(mG(n));function o0e(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||k6(n):!0}const s0e=new Set(["brightness","contrast","saturate","opacity"]);function l0e(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(NR)||[];if(!r)return n;const i=t.replace(r,"");let a=s0e.has(e)?1:0;return r!==t&&(a*=100),e+"("+a+i+")"}const u0e=/\b([a-z-]*)\(.*?\)/gu,_2={...Tc,getAnimatableNone:n=>{const e=n.match(u0e);return e?e.map(l0e).join(" "):n}},V4={...Sm,transform:Math.round},c0e={rotate:sc,rotateX:sc,rotateY:sc,rotateZ:sc,scale:m_,scaleX:m_,scaleY:m_,scaleZ:m_,skew:sc,skewX:sc,skewY:sc,distance:Gt,translateX:Gt,translateY:Gt,translateZ:Gt,x:Gt,y:Gt,z:Gt,perspective:Gt,transformPerspective:Gt,opacity:Dy,originX:C4,originY:C4,originZ:Gt},WR={borderWidth:Gt,borderTopWidth:Gt,borderRightWidth:Gt,borderBottomWidth:Gt,borderLeftWidth:Gt,borderRadius:Gt,radius:Gt,borderTopLeftRadius:Gt,borderTopRightRadius:Gt,borderBottomRightRadius:Gt,borderBottomLeftRadius:Gt,width:Gt,maxWidth:Gt,height:Gt,maxHeight:Gt,top:Gt,right:Gt,bottom:Gt,left:Gt,padding:Gt,paddingTop:Gt,paddingRight:Gt,paddingBottom:Gt,paddingLeft:Gt,margin:Gt,marginTop:Gt,marginRight:Gt,marginBottom:Gt,marginLeft:Gt,backgroundPositionX:Gt,backgroundPositionY:Gt,...c0e,zIndex:V4,fillOpacity:Dy,strokeOpacity:Dy,numOctaves:V4},f0e={...WR,color:Br,backgroundColor:Br,outlineColor:Br,fill:Br,stroke:Br,borderColor:Br,borderTopColor:Br,borderRightColor:Br,borderBottomColor:Br,borderLeftColor:Br,filter:_2,WebkitFilter:_2},vG=n=>f0e[n];function yG(n,e){let t=vG(n);return t!==_2&&(t=Tc),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const h0e=new Set(["auto","none","0"]);function d0e(n,e,t){let r=0,i;for(;r<n.length&&!i;){const a=n[r];typeof a=="string"&&!h0e.has(a)&&Ly(a).values.length&&(i=n[r]),r++}if(i&&t)for(const a of e)n[a]=yG(t,i)}class p0e extends VR{constructor(e,t,r,i,a){super(e,t,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),LR(c))){const f=dG(c,t.current);f!==void 0&&(e[l]=f),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!pG.has(r)||e.length!==2)return;const[i,a]=e,o=j4(i),s=j4(a);if(o!==s)if(U4(o)&&U4(s))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else mh[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||o0e(e[i]))&&r.push(i);r.length&&d0e(e,r,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=mh[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const i=t[t.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){const{element:e,name:t,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(t);i&&i.jump(this.measuredOrigin,!1);const a=r.length-1,o=r[a];r[a]=mh[t](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([s,l])=>{e.getValue(s).set(l)}),this.resolveNoneKeyframes()}}function m0e(n,e,t){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let r=document;const i=t?.[n]??r.querySelectorAll(n);return i?Array.from(i):[]}return Array.from(n)}const xG=(n,e)=>e&&typeof n=="number"?e.transform(n):n;function g0e(n){return N6(n)&&"offsetHeight"in n}const H4=30,v0e=n=>!isNaN(parseFloat(n));class y0e{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const i=Ia.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Ia.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=v0e(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new RR);const r=this.events[e].add(t);return e==="change"?()=>{r(),lr.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ia.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>H4)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,H4);return U6(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function am(n,e){return new y0e(n,e)}const{schedule:GR}=X6(queueMicrotask,!1),cs={x:!1,y:!1};function _G(){return cs.x||cs.y}function x0e(n){return n==="x"||n==="y"?cs[n]?null:(cs[n]=!0,()=>{cs[n]=!1}):cs.x||cs.y?null:(cs.x=cs.y=!0,()=>{cs.x=cs.y=!1})}function bG(n,e){const t=m0e(n),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[t,i,()=>r.abort()]}function W4(n){return!(n.pointerType==="touch"||_G())}function _0e(n,e,t={}){const[r,i,a]=bG(n,t),o=s=>{if(!W4(s))return;const{target:l}=s,c=e(l,s);if(typeof c!="function"||!l)return;const f=d=>{W4(d)&&(c(d),l.removeEventListener("pointerleave",f))};l.addEventListener("pointerleave",f,i)};return r.forEach(s=>{s.addEventListener("pointerenter",o,i)}),a}const SG=(n,e)=>e?n===e?!0:SG(n,e.parentElement):!1,$R=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,b0e=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function S0e(n){return b0e.has(n.tagName)||n.tabIndex!==-1}const E_=new WeakSet;function G4(n){return e=>{e.key==="Enter"&&n(e)}}function BE(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const w0e=(n,e)=>{const t=n.currentTarget;if(!t)return;const r=G4(()=>{if(E_.has(t))return;BE(t,"down");const i=G4(()=>{BE(t,"up")}),a=()=>BE(t,"cancel");t.addEventListener("keyup",i,e),t.addEventListener("blur",a,e)});t.addEventListener("keydown",r,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",r),e)};function $4(n){return $R(n)&&!_G()}function M0e(n,e,t={}){const[r,i,a]=bG(n,t),o=s=>{const l=s.currentTarget;if(!$4(s))return;E_.add(l);const c=e(l,s),f=(v,x)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",m),E_.has(l)&&E_.delete(l),$4(v)&&typeof c=="function"&&c(v,{success:x})},d=v=>{f(v,l===window||l===document||t.useGlobalTarget||SG(l,v.target))},m=v=>{f(v,!1)};window.addEventListener("pointerup",d,i),window.addEventListener("pointercancel",m,i)};return r.forEach(s=>{(t.useGlobalTarget?window:s).addEventListener("pointerdown",o,i),g0e(s)&&(s.addEventListener("focus",c=>w0e(c,i)),!S0e(s)&&!s.hasAttribute("tabindex")&&(s.tabIndex=0))}),a}function wG(n){return N6(n)&&"ownerSVGElement"in n}function A0e(n){return wG(n)&&n.tagName==="svg"}const Wi=n=>!!(n&&n.getVelocity),T0e=[...gG,Br,Tc],E0e=n=>T0e.find(mG(n)),MG=fe.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function P0e(n=!0){const e=fe.useContext(TR);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:i}=e,a=fe.useId();fe.useEffect(()=>{if(n)return i(a)},[n]);const o=fe.useCallback(()=>n&&r&&r(a),[a,r,n]);return!t&&r?[!1,o]:[!0]}const AG=fe.createContext({strict:!1}),q4={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},om={};for(const n in q4)om[n]={isEnabled:e=>q4[n].some(t=>!!e[t])};function C0e(n){for(const e in n)om[e]={...om[e],...n[e]}}const O0e=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function kb(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||O0e.has(n)}let TG=n=>!kb(n);function R0e(n){typeof n=="function"&&(TG=e=>e.startsWith("on")?!kb(e):n(e))}try{R0e(require("@emotion/is-prop-valid").default)}catch{}function I0e(n,e,t){const r={};for(const i in n)i==="values"&&typeof n.values=="object"||(TG(i)||t===!0&&kb(i)||!e&&!kb(i)||n.draggable&&i.startsWith("onDrag"))&&(r[i]=n[i]);return r}const qS=fe.createContext({});function XS(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function Ny(n){return typeof n=="string"||Array.isArray(n)}const qR=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],XR=["initial",...qR];function YS(n){return XS(n.animate)||XR.some(e=>Ny(n[e]))}function EG(n){return!!(YS(n)||n.variants)}function D0e(n,e){if(YS(n)){const{initial:t,animate:r}=n;return{initial:t===!1||Ny(t)?t:void 0,animate:Ny(r)?r:void 0}}return n.inherit!==!1?e:{}}function L0e(n){const{initial:e,animate:t}=D0e(n,fe.useContext(qS));return fe.useMemo(()=>({initial:e,animate:t}),[X4(e),X4(t)])}function X4(n){return Array.isArray(n)?n.join(" "):n}function Y4(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Yg={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Gt.test(n))n=parseFloat(n);else return n;const t=Y4(n,e.target.x),r=Y4(n,e.target.y);return`${t}% ${r}%`}},N0e={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,i=Tc.parse(n);if(i.length>5)return r;const a=Tc.createTransformer(n),o=typeof i[0]!="number"?1:0,s=t.x.scale*e.x,l=t.y.scale*e.y;i[0+o]/=s,i[1+o]/=l;const c=mr(s,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),a(i)}},b2={borderRadius:{...Yg,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Yg,borderTopRightRadius:Yg,borderBottomLeftRadius:Yg,borderBottomRightRadius:Yg,boxShadow:N0e};function PG(n,{layout:e,layoutId:t}){return Mm.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!b2[n]||n==="opacity")}const k0e={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},U0e=wm.length;function F0e(n,e,t){let r="",i=!0;for(let a=0;a<U0e;a++){const o=wm[a],s=n[o];if(s===void 0)continue;let l=!0;if(typeof s=="number"?l=s===(o.startsWith("scale")?1:0):l=parseFloat(s)===0,!l||t){const c=xG(s,WR[o]);if(!l){i=!1;const f=k0e[o]||o;r+=`${f}(${c}) `}t&&(e[o]=c)}}return r=r.trim(),t?r=t(e,i?"":r):i&&(r="none"),r}function YR(n,e,t){const{style:r,vars:i,transformOrigin:a}=n;let o=!1,s=!1;for(const l in e){const c=e[l];if(Mm.has(l)){o=!0;continue}else if(K6(l)){i[l]=c;continue}else{const f=xG(c,WR[l]);l.startsWith("origin")?(s=!0,a[l]=f):r[l]=f}}if(e.transform||(o||t?r.transform=F0e(e,n.transform,t):r.transform&&(r.transform="none")),s){const{originX:l="50%",originY:c="50%",originZ:f=0}=a;r.transformOrigin=`${l} ${c} ${f}`}}const KR=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function CG(n,e,t){for(const r in e)!Wi(e[r])&&!PG(r,t)&&(n[r]=e[r])}function B0e({transformTemplate:n},e){return fe.useMemo(()=>{const t=KR();return YR(t,e,n),Object.assign({},t.vars,t.style)},[e])}function z0e(n,e){const t=n.style||{},r={};return CG(r,t,n),Object.assign(r,B0e(n,e)),r}function j0e(n,e){const t={},r=z0e(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=r,t}const V0e={offset:"stroke-dashoffset",array:"stroke-dasharray"},H0e={offset:"strokeDashoffset",array:"strokeDasharray"};function W0e(n,e,t=1,r=0,i=!0){n.pathLength=1;const a=i?V0e:H0e;n[a.offset]=Gt.transform(-r);const o=Gt.transform(e),s=Gt.transform(t);n[a.array]=`${o} ${s}`}function OG(n,{attrX:e,attrY:t,attrScale:r,pathLength:i,pathSpacing:a=1,pathOffset:o=0,...s},l,c,f){if(YR(n,s,c),l){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:d,style:m}=n;d.transform&&(m.transform=d.transform,delete d.transform),(m.transform||d.transformOrigin)&&(m.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),m.transform&&(m.transformBox=f?.transformBox??"fill-box",delete d.transformBox),e!==void 0&&(d.x=e),t!==void 0&&(d.y=t),r!==void 0&&(d.scale=r),i!==void 0&&W0e(d,i,a,o,!1)}const RG=()=>({...KR(),attrs:{}}),IG=n=>typeof n=="string"&&n.toLowerCase()==="svg";function G0e(n,e,t,r){const i=fe.useMemo(()=>{const a=RG();return OG(a,e,IG(r),n.transformTemplate,n.style),{...a.attrs,style:{...a.style}}},[e]);if(n.style){const a={};CG(a,n.style,n),i.style={...a,...i.style}}return i}const $0e=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ZR(n){return typeof n!="string"||n.includes("-")?!1:!!($0e.indexOf(n)>-1||/[A-Z]/u.test(n))}function q0e(n,e,t,{latestValues:r},i,a=!1){const s=(ZR(n)?G0e:j0e)(e,r,i,n),l=I0e(e,typeof n=="string",a),c=n!==fe.Fragment?{...l,...s,ref:t}:{},{children:f}=e,d=fe.useMemo(()=>Wi(f)?f.get():f,[f]);return fe.createElement(n,{...c,children:d})}function K4(n){const e=[{},{}];return n?.values.forEach((t,r)=>{e[0][r]=t.get(),e[1][r]=t.getVelocity()}),e}function JR(n,e,t,r){if(typeof e=="function"){const[i,a]=K4(r);e=e(t!==void 0?t:n.custom,i,a)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[i,a]=K4(r);e=e(t!==void 0?t:n.custom,i,a)}return e}function P_(n){return Wi(n)?n.get():n}function X0e({scrapeMotionValuesFromProps:n,createRenderState:e},t,r,i){return{latestValues:Y0e(t,r,i,n),renderState:e()}}function Y0e(n,e,t,r){const i={},a=r(n,{});for(const m in a)i[m]=P_(a[m]);let{initial:o,animate:s}=n;const l=YS(n),c=EG(n);e&&c&&!l&&n.inherit!==!1&&(o===void 0&&(o=e.initial),s===void 0&&(s=e.animate));let f=t?t.initial===!1:!1;f=f||o===!1;const d=f?s:o;if(d&&typeof d!="boolean"&&!XS(d)){const m=Array.isArray(d)?d:[d];for(let v=0;v<m.length;v++){const x=JR(n,m[v]);if(x){const{transitionEnd:S,transition:_,...b}=x;for(const M in b){let T=b[M];if(Array.isArray(T)){const E=f?T.length-1:0;T=T[E]}T!==null&&(i[M]=T)}for(const M in S)i[M]=S[M]}}}return i}const DG=n=>(e,t)=>{const r=fe.useContext(qS),i=fe.useContext(TR),a=()=>X0e(n,e,r,i);return t?a():Cve(a)};function QR(n,e,t){const{style:r}=n,i={};for(const a in r)(Wi(r[a])||e.style&&Wi(e.style[a])||PG(a,n)||t?.getValue(a)?.liveStyle!==void 0)&&(i[a]=r[a]);return i}const K0e=DG({scrapeMotionValuesFromProps:QR,createRenderState:KR});function LG(n,e,t){const r=QR(n,e,t);for(const i in n)if(Wi(n[i])||Wi(e[i])){const a=wm.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=n[i]}return r}const Z0e=DG({scrapeMotionValuesFromProps:LG,createRenderState:RG}),J0e=Symbol.for("motionComponentSymbol");function bp(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function Q0e(n,e,t){return fe.useCallback(r=>{r&&n.onMount&&n.onMount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):bp(t)&&(t.current=r))},[e])}const eI=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),exe="framerAppearId",NG="data-"+eI(exe),kG=fe.createContext({});function txe(n,e,t,r,i){const{visualElement:a}=fe.useContext(qS),o=fe.useContext(AG),s=fe.useContext(TR),l=fe.useContext(MG).reducedMotion,c=fe.useRef(null);r=r||o.renderer,!c.current&&r&&(c.current=r(n,{visualState:e,parent:a,props:t,presenceContext:s,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:l}));const f=c.current,d=fe.useContext(kG);f&&!f.projection&&i&&(f.type==="html"||f.type==="svg")&&nxe(c.current,t,i,d);const m=fe.useRef(!1);fe.useInsertionEffect(()=>{f&&m.current&&f.update(t,s)});const v=t[NG],x=fe.useRef(!!v&&!window.MotionHandoffIsComplete?.(v)&&window.MotionHasOptimisedAnimation?.(v));return Ove(()=>{f&&(m.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),x.current&&f.animationState&&f.animationState.animateChanges())}),fe.useEffect(()=>{f&&(!x.current&&f.animationState&&f.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(v)}),x.current=!1),f.enteringChildren=void 0)}),f}function nxe(n,e,t,r){const{layoutId:i,layout:a,drag:o,dragConstraints:s,layoutScroll:l,layoutRoot:c,layoutCrossfade:f}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:UG(n.parent)),n.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!o||s&&bp(s),visualElement:n,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:f,layoutScroll:l,layoutRoot:c})}function UG(n){if(n)return n.options.allowProjection!==!1?n.projection:UG(n.parent)}function zE(n,{forwardMotionProps:e=!1}={},t,r){t&&C0e(t);const i=ZR(n)?Z0e:K0e;function a(s,l){let c;const f={...fe.useContext(MG),...s,layoutId:rxe(s)},{isStatic:d}=f,m=L0e(s),v=i(s,d);if(!d&&AR){ixe();const x=axe(f);c=x.MeasureLayout,m.visualElement=txe(n,v,f,r,x.ProjectionNode)}return oe.jsxs(qS.Provider,{value:m,children:[c&&m.visualElement?oe.jsx(c,{visualElement:m.visualElement,...f}):null,q0e(n,s,Q0e(v,m.visualElement,l),v,d,e)]})}a.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const o=fe.forwardRef(a);return o[J0e]=n,o}function rxe({layoutId:n}){const e=fe.useContext(D6).id;return e&&n!==void 0?e+"-"+n:n}function ixe(n,e){fe.useContext(AG).strict}function axe(n){const{drag:e,layout:t}=om;if(!e&&!t)return{};const r={...e,...t};return{MeasureLayout:e?.isEnabled(n)||t?.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function oxe(n,e){if(typeof Proxy>"u")return zE;const t=new Map,r=(a,o)=>zE(a,o,n,e),i=(a,o)=>r(a,o);return new Proxy(i,{get:(a,o)=>o==="create"?r:(t.has(o)||t.set(o,zE(o,void 0,n,e)),t.get(o))})}function FG({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function sxe({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function lxe(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function jE(n){return n===void 0||n===1}function S2({scale:n,scaleX:e,scaleY:t}){return!jE(n)||!jE(e)||!jE(t)}function qf(n){return S2(n)||BG(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function BG(n){return Z4(n.x)||Z4(n.y)}function Z4(n){return n&&n!=="0%"}function Ub(n,e,t){const r=n-t,i=e*r;return t+i}function J4(n,e,t,r,i){return i!==void 0&&(n=Ub(n,i,r)),Ub(n,t,r)+e}function w2(n,e=0,t=1,r,i){n.min=J4(n.min,e,t,r,i),n.max=J4(n.max,e,t,r,i)}function zG(n,{x:e,y:t}){w2(n.x,e.translate,e.scale,e.originPoint),w2(n.y,t.translate,t.scale,t.originPoint)}const Q4=.999999999999,ej=1.0000000000001;function uxe(n,e,t,r=!1){const i=t.length;if(!i)return;e.x=e.y=1;let a,o;for(let s=0;s<i;s++){a=t[s],o=a.projectionDelta;const{visualElement:l}=a.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&wp(n,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,zG(n,o)),r&&qf(a.latestValues)&&wp(n,a.latestValues))}e.x<ej&&e.x>Q4&&(e.x=1),e.y<ej&&e.y>Q4&&(e.y=1)}function Sp(n,e){n.min=n.min+e,n.max=n.max+e}function tj(n,e,t,r,i=.5){const a=mr(n.min,n.max,i);w2(n,e,t,a,r)}function wp(n,e){tj(n.x,e.x,e.scaleX,e.scale,e.originX),tj(n.y,e.y,e.scaleY,e.scale,e.originY)}function jG(n,e){return FG(lxe(n.getBoundingClientRect(),e))}function cxe(n,e,t){const r=jG(n,t),{scroll:i}=e;return i&&(Sp(r.x,i.offset.x),Sp(r.y,i.offset.y)),r}const nj=()=>({translate:0,scale:1,origin:0,originPoint:0}),Mp=()=>({x:nj(),y:nj()}),rj=()=>({min:0,max:0}),Zr=()=>({x:rj(),y:rj()}),M2={current:null},VG={current:!1};function fxe(){if(VG.current=!0,!!AR)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>M2.current=n.matches;n.addEventListener("change",e),e()}else M2.current=!1}const hxe=new WeakMap;function dxe(n,e,t){for(const r in e){const i=e[r],a=t[r];if(Wi(i))n.addValue(r,i);else if(Wi(a))n.addValue(r,am(i,{owner:n}));else if(a!==i)if(n.hasValue(r)){const o=n.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=n.getStaticValue(r);n.addValue(r,am(o!==void 0?o:i,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const ij=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class pxe{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:o},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=VR,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Ia.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,lr.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=t.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=s,this.blockInitialAnimation=!!a,this.isControllingVariants=YS(t),this.isVariantNode=EG(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...d}=this.scrapeMotionValuesFromProps(t,{},this);for(const m in d){const v=d[m];l[m]!==void 0&&Wi(v)&&v.set(l[m])}}mount(e){this.current=e,hxe.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),VG.current||fxe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:M2.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ac(this.notifyUpdate),Ac(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Mm.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=t.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&lr.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{i(),a&&a(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in om){const t=om[e];if(!t)continue;const{isEnabled:r,Feature:i}=t;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Zr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<ij.length;r++){const i=ij[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,o=e[a];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=dxe(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=am(t===null?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(L6(r)||k6(r))?r=parseFloat(r):!E0e(r)&&Tc.test(t)&&(r=yG(e,t)),this.setBaseTarget(e,Wi(r)?r.get():r)),Wi(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let r;if(typeof t=="string"||typeof t=="object"){const a=JR(this.props,t,this.presenceContext?.custom);a&&(r=a[e])}if(t&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Wi(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new RR),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){GR.render(this.render)}}class HG extends pxe{constructor(){super(...arguments),this.KeyframeResolver=p0e}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Wi(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function WG(n,{style:e,vars:t},r,i){const a=n.style;let o;for(o in e)a[o]=e[o];i?.applyProjectionStyles(a,r);for(o in t)a.setProperty(o,t[o])}function mxe(n){return window.getComputedStyle(n)}class gxe extends HG{constructor(){super(...arguments),this.type="html",this.renderInstance=WG}readValueFromInstance(e,t){if(Mm.has(t))return this.projection?.isProjecting?p2(t):Dye(e,t);{const r=mxe(e),i=(K6(t)?r.getPropertyValue(t):r[t])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:t}){return jG(e,t)}build(e,t,r){YR(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return QR(e,t,r)}}const GG=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function vxe(n,e,t,r){WG(n,e,void 0,r);for(const i in e.attrs)n.setAttribute(GG.has(i)?i:eI(i),e.attrs[i])}class yxe extends HG{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Zr}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Mm.has(t)){const r=vG(t);return r&&r.default||0}return t=GG.has(t)?t:eI(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return LG(e,t,r)}build(e,t,r){OG(e,t,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,t,r,i){vxe(e,t,r,i)}mount(e){this.isSVGTag=IG(e.tagName),super.mount(e)}}const xxe=(n,e)=>ZR(n)?new yxe(e):new gxe(e,{allowProjection:n!==fe.Fragment});function Op(n,e,t){const r=n.getProps();return JR(r,e,t!==void 0?t:r.custom,n)}const A2=n=>Array.isArray(n);function _xe(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,am(t))}function bxe(n){return A2(n)?n[n.length-1]||0:n}function Sxe(n,e){const t=Op(n,e);let{transitionEnd:r={},transition:i={},...a}=t||{};a={...a,...r};for(const o in a){const s=bxe(a[o]);_xe(n,o,s)}}function wxe(n){return!!(Wi(n)&&n.add)}function T2(n,e){const t=n.getValue("willChange");if(wxe(t))return t.add(e);if(!t&&su.WillChange){const r=new su.WillChange("auto");n.addValue("willChange",r),r.add(e)}}function $G(n){return n.props[NG]}const Mxe=n=>n!==null;function Axe(n,{repeat:e,repeatType:t="loop"},r){const i=n.filter(Mxe),a=e&&t!=="loop"&&e%2===1?0:i.length-1;return i[a]}const Txe={type:"spring",stiffness:500,damping:25,restSpeed:10},Exe=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),Pxe={type:"keyframes",duration:.8},Cxe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Oxe=(n,{keyframes:e})=>e.length>2?Pxe:Mm.has(n)?n.startsWith("scale")?Exe(e[1]):Txe:Cxe;function Rxe({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:s,from:l,elapsed:c,...f}){return!!Object.keys(f).length}const tI=(n,e,t,r={},i,a)=>o=>{const s=HR(r,n)||{},l=s.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Ks(l);const f={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...s,delay:-c,onUpdate:m=>{e.set(m),s.onUpdate&&s.onUpdate(m)},onComplete:()=>{o(),s.onComplete&&s.onComplete()},name:n,motionValue:e,element:a?void 0:i};Rxe(s)||Object.assign(f,Oxe(n,f)),f.duration&&(f.duration=Ks(f.duration)),f.repeatDelay&&(f.repeatDelay=Ks(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let d=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(x2(f),f.delay===0&&(d=!0)),(su.instantAnimations||su.skipAnimations)&&(d=!0,x2(f),f.delay=0),f.allowFlatten=!s.type&&!s.ease,d&&!a&&e.get()!==void 0){const m=Axe(f.keyframes,s);if(m!==void 0){lr.update(()=>{f.onUpdate(m),f.onComplete()});return}}return s.isSync?new jR(f):new n0e(f)};function Ixe({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function qG(n,e,{delay:t=0,transitionOverride:r,type:i}={}){let{transition:a=n.getDefaultTransition(),transitionEnd:o,...s}=e;r&&(a=r);const l=[],c=i&&n.animationState&&n.animationState.getState()[i];for(const f in s){const d=n.getValue(f,n.latestValues[f]??null),m=s[f];if(m===void 0||c&&Ixe(c,f))continue;const v={delay:t,...HR(a||{},f)},x=d.get();if(x!==void 0&&!d.isAnimating&&!Array.isArray(m)&&m===x&&!v.velocity)continue;let S=!1;if(window.MotionHandoffAnimation){const b=$G(n);if(b){const M=window.MotionHandoffAnimation(b,f,lr);M!==null&&(v.startTime=M,S=!0)}}T2(n,f),d.start(tI(f,d,m,n.shouldReduceMotion&&pG.has(f)?{type:!1}:v,n,S));const _=d.animation;_&&l.push(_)}return o&&Promise.all(l).then(()=>{lr.update(()=>{o&&Sxe(n,o)})}),l}function XG(n,e,t,r=0,i=1){const a=Array.from(n).sort((c,f)=>c.sortNodePosition(f)).indexOf(e),o=n.size,s=(o-1)*r;return typeof t=="function"?t(a,o):i===1?a*r:s-a*r}function E2(n,e,t={}){const r=Op(n,e,t.type==="exit"?n.presenceContext?.custom:void 0);let{transition:i=n.getDefaultTransition()||{}}=r||{};t.transitionOverride&&(i=t.transitionOverride);const a=r?()=>Promise.all(qG(n,r,t)):()=>Promise.resolve(),o=n.variantChildren&&n.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:f,staggerDirection:d}=i;return Dxe(n,e,l,c,f,d,t)}:()=>Promise.resolve(),{when:s}=i;if(s){const[l,c]=s==="beforeChildren"?[a,o]:[o,a];return l().then(()=>c())}else return Promise.all([a(),o(t.delay)])}function Dxe(n,e,t=0,r=0,i=0,a=1,o){const s=[];for(const l of n.variantChildren)l.notify("AnimationStart",e),s.push(E2(l,e,{...o,delay:t+(typeof r=="function"?0:r)+XG(n.variantChildren,l,r,i,a)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(s)}function Lxe(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(a=>E2(n,a,t));r=Promise.all(i)}else if(typeof e=="string")r=E2(n,e,t);else{const i=typeof e=="function"?Op(n,e,t.custom):e;r=Promise.all(qG(n,i,t))}return r.then(()=>{n.notify("AnimationComplete",e)})}function YG(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}const Nxe=XR.length;function KG(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?KG(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<Nxe;t++){const r=XR[t],i=n.props[r];(Ny(i)||i===!1)&&(e[r]=i)}return e}const kxe=[...qR].reverse(),Uxe=qR.length;function Fxe(n){return e=>Promise.all(e.map(({animation:t,options:r})=>Lxe(n,t,r)))}function Bxe(n){let e=Fxe(n),t=aj(),r=!0;const i=l=>(c,f)=>{const d=Op(n,f,l==="exit"?n.presenceContext?.custom:void 0);if(d){const{transition:m,transitionEnd:v,...x}=d;c={...c,...x,...v}}return c};function a(l){e=l(n)}function o(l){const{props:c}=n,f=KG(n.parent)||{},d=[],m=new Set;let v={},x=1/0;for(let _=0;_<Uxe;_++){const b=kxe[_],M=t[b],T=c[b]!==void 0?c[b]:f[b],E=Ny(T),P=b===l?M.isActive:null;P===!1&&(x=_);let R=T===f[b]&&T!==c[b]&&E;if(R&&r&&n.manuallyAnimateOnMount&&(R=!1),M.protectedKeys={...v},!M.isActive&&P===null||!T&&!M.prevProp||XS(T)||typeof T=="boolean")continue;const I=zxe(M.prevProp,T);let U=I||b===l&&M.isActive&&!R&&E||_>x&&E,N=!1;const k=Array.isArray(T)?T:[T];let z=k.reduce(i(b),{});P===!1&&(z={});const{prevResolvedValues:G={}}=M,K={...G,...z},H=ie=>{U=!0,m.has(ie)&&(N=!0,m.delete(ie)),M.needsAnimating[ie]=!0;const B=n.getValue(ie);B&&(B.liveStyle=!1)};for(const ie in K){const B=z[ie],X=G[ie];if(v.hasOwnProperty(ie))continue;let $=!1;A2(B)&&A2(X)?$=!YG(B,X):$=B!==X,$?B!=null?H(ie):m.add(ie):B!==void 0&&m.has(ie)?H(ie):M.protectedKeys[ie]=!0}M.prevProp=T,M.prevResolvedValues=z,M.isActive&&(v={...v,...z}),r&&n.blockInitialAnimation&&(U=!1);const te=R&&I;U&&(!te||N)&&d.push(...k.map(ie=>{const B={type:b};if(typeof ie=="string"&&r&&!te&&n.manuallyAnimateOnMount&&n.parent){const{parent:X}=n,$=Op(X,ie);if(X.enteringChildren&&$){const{delayChildren:V}=$.transition||{};B.delay=XG(X.enteringChildren,n,V)}}return{animation:ie,options:B}}))}if(m.size){const _={};if(typeof c.initial!="boolean"){const b=Op(n,Array.isArray(c.initial)?c.initial[0]:c.initial);b&&b.transition&&(_.transition=b.transition)}m.forEach(b=>{const M=n.getBaseTarget(b),T=n.getValue(b);T&&(T.liveStyle=!0),_[b]=M??null}),d.push({animation:_})}let S=!!d.length;return r&&(c.initial===!1||c.initial===c.animate)&&!n.manuallyAnimateOnMount&&(S=!1),r=!1,S?e(d):Promise.resolve()}function s(l,c){if(t[l].isActive===c)return Promise.resolve();n.variantChildren?.forEach(d=>d.animationState?.setActive(l,c)),t[l].isActive=c;const f=o(l);for(const d in t)t[d].protectedKeys={};return f}return{animateChanges:o,setActive:s,setAnimateFunction:a,getState:()=>t,reset:()=>{t=aj()}}}function zxe(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!YG(e,n):!1}function zf(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function aj(){return{animate:zf(!0),whileInView:zf(),whileHover:zf(),whileTap:zf(),whileDrag:zf(),whileFocus:zf(),exit:zf()}}class Uc{constructor(e){this.isMounted=!1,this.node=e}update(){}}class jxe extends Uc{constructor(e){super(e),e.animationState||(e.animationState=Bxe(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();XS(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let Vxe=0;class Hxe extends Uc{constructor(){super(...arguments),this.id=Vxe++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);t&&!e&&i.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Wxe={animation:{Feature:jxe},exit:{Feature:Hxe}};function ky(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}function u0(n){return{point:{x:n.pageX,y:n.pageY}}}const Gxe=n=>e=>$R(e)&&n(e,u0(e));function wv(n,e,t,r){return ky(n,e,Gxe(t),r)}const ZG=1e-4,$xe=1-ZG,qxe=1+ZG,JG=.01,Xxe=0-JG,Yxe=0+JG;function ha(n){return n.max-n.min}function Kxe(n,e,t){return Math.abs(n-e)<=t}function oj(n,e,t,r=.5){n.origin=r,n.originPoint=mr(e.min,e.max,n.origin),n.scale=ha(t)/ha(e),n.translate=mr(t.min,t.max,n.origin)-n.originPoint,(n.scale>=$xe&&n.scale<=qxe||isNaN(n.scale))&&(n.scale=1),(n.translate>=Xxe&&n.translate<=Yxe||isNaN(n.translate))&&(n.translate=0)}function Mv(n,e,t,r){oj(n.x,e.x,t.x,r?r.originX:void 0),oj(n.y,e.y,t.y,r?r.originY:void 0)}function sj(n,e,t){n.min=t.min+e.min,n.max=n.min+ha(e)}function Zxe(n,e,t){sj(n.x,e.x,t.x),sj(n.y,e.y,t.y)}function lj(n,e,t){n.min=e.min-t.min,n.max=n.min+ha(e)}function Fb(n,e,t){lj(n.x,e.x,t.x),lj(n.y,e.y,t.y)}function bo(n){return[n("x"),n("y")]}const QG=({current:n})=>n?n.ownerDocument.defaultView:null,uj=(n,e)=>Math.abs(n-e);function Jxe(n,e){const t=uj(n.x,e.x),r=uj(n.y,e.y);return Math.sqrt(t**2+r**2)}class e${constructor(e,t,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:a=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=HE(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,x=Jxe(m.offset,{x:0,y:0})>=this.distanceThreshold;if(!v&&!x)return;const{point:S}=m,{timestamp:_}=Pi;this.history.push({...S,timestamp:_});const{onStart:b,onMove:M}=this.handlers;v||(b&&b(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),M&&M(this.lastMoveEvent,m)},this.handlePointerMove=(m,v)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=VE(v,this.transformPagePoint),lr.update(this.updatePoint,!0)},this.handlePointerUp=(m,v)=>{this.end();const{onEnd:x,onSessionEnd:S,resumeAnimation:_}=this.handlers;if(this.dragSnapToOrigin&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=HE(m.type==="pointercancel"?this.lastMoveEventInfo:VE(v,this.transformPagePoint),this.history);this.startEvent&&x&&x(m,b),S&&S(m,b)},!$R(e))return;this.dragSnapToOrigin=a,this.handlers=t,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=i||window;const s=u0(e),l=VE(s,this.transformPagePoint),{point:c}=l,{timestamp:f}=Pi;this.history=[{...c,timestamp:f}];const{onSessionStart:d}=t;d&&d(e,HE(l,this.history)),this.removeListeners=o0(wv(this.contextWindow,"pointermove",this.handlePointerMove),wv(this.contextWindow,"pointerup",this.handlePointerUp),wv(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ac(this.updatePoint)}}function VE(n,e){return e?{point:e(n.point)}:n}function cj(n,e){return{x:n.x-e.x,y:n.y-e.y}}function HE({point:n},e){return{point:n,delta:cj(n,t$(e)),offset:cj(n,Qxe(e)),velocity:e_e(e,.1)}}function Qxe(n){return n[0]}function t$(n){return n[n.length-1]}function e_e(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const i=t$(n);for(;t>=0&&(r=n[t],!(i.timestamp-r.timestamp>Ks(e)));)t--;if(!r)return{x:0,y:0};const a=To(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const o={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function t_e(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?mr(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?mr(t,n,r.max):Math.min(n,t)),n}function fj(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function n_e(n,{top:e,left:t,bottom:r,right:i}){return{x:fj(n.x,t,i),y:fj(n.y,e,r)}}function hj(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function r_e(n,e){return{x:hj(n.x,e.x),y:hj(n.y,e.y)}}function i_e(n,e){let t=.5;const r=ha(n),i=ha(e);return i>r?t=Iy(e.min,e.max-r,n.min):r>i&&(t=Iy(n.min,n.max-i,e.min)),ou(0,1,t)}function a_e(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const P2=.35;function o_e(n=P2){return n===!1?n=0:n===!0&&(n=P2),{x:dj(n,"left","right"),y:dj(n,"top","bottom")}}function dj(n,e,t){return{min:pj(n,e),max:pj(n,t)}}function pj(n,e){return typeof n=="number"?n:n[e]||0}const s_e=new WeakMap;class l_e{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Zr(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=d=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(u0(d).point)},o=(d,m)=>{const{drag:v,dragPropagation:x,onDragStart:S}=this.getProps();if(v&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=x0e(v),!this.openDragLock))return;this.latestPointerEvent=d,this.latestPanInfo=m,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),bo(b=>{let M=this.getAxisMotionValue(b).get()||0;if(Zs.test(M)){const{projection:T}=this.visualElement;if(T&&T.layout){const E=T.layout.layoutBox[b];E&&(M=ha(E)*(parseFloat(M)/100))}}this.originPoint[b]=M}),S&&lr.postRender(()=>S(d,m)),T2(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},s=(d,m)=>{this.latestPointerEvent=d,this.latestPanInfo=m;const{dragPropagation:v,dragDirectionLock:x,onDirectionLock:S,onDrag:_}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:b}=m;if(x&&this.currentDirection===null){this.currentDirection=u_e(b),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",m.point,b),this.updateAxis("y",m.point,b),this.visualElement.render(),_&&_(d,m)},l=(d,m)=>{this.latestPointerEvent=d,this.latestPanInfo=m,this.stop(d,m),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>bo(d=>this.getAnimationState(d)==="paused"&&this.getAxisMotionValue(d).animation?.play()),{dragSnapToOrigin:f}=this.getProps();this.panSession=new e$(e,{onSessionStart:a,onStart:o,onMove:s,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,distanceThreshold:r,contextWindow:QG(this.visualElement)})}stop(e,t){const r=e||this.latestPointerEvent,i=t||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!i||!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:s}=this.getProps();s&&lr.postRender(()=>s(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:i}=this.getProps();if(!r||!g_(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=t_e(o,this.constraints[e],this.elastic[e])),a.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&bp(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=n_e(r.layoutBox,e):this.constraints=!1,this.elastic=o_e(t),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&bo(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=a_e(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!bp(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=cxe(r,i.root,this.visualElement.getTransformPagePoint());let o=r_e(i.layout.layoutBox,a);if(t){const s=t(sxe(o));this.hasMutatedConstraints=!!s,s&&(o=FG(s))}return o}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:s}=this.getProps(),l=this.constraints||{},c=bo(f=>{if(!g_(f,t,this.currentDirection))return;let d=l&&l[f]||{};o&&(d={min:0,max:0});const m=i?200:1e6,v=i?40:1e7,x={type:"inertia",velocity:r?e[f]:0,bounceStiffness:m,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...a,...d};return this.startAxisValueAnimation(f,x)});return Promise.all(c).then(s)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return T2(this.visualElement,e),r.start(tI(e,r,0,t,this.visualElement,!1))}stopAnimation(){bo(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){bo(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[t];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){bo(t=>{const{drag:r}=this.getProps();if(!g_(t,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(t);if(i&&i.layout){const{min:o,max:s}=i.layout.layoutBox[t];a.set(e[t]-mr(o,s,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!bp(t)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};bo(o=>{const s=this.getAxisMotionValue(o);if(s&&this.constraints!==!1){const l=s.get();i[o]=i_e({min:l,max:l},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),bo(o=>{if(!g_(o,e,null))return;const s=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];s.set(mr(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;s_e.set(this.visualElement,this);const e=this.visualElement.current,t=wv(e,"pointerdown",l=>{const{drag:c,dragListener:f=!0}=this.getProps();c&&f&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();bp(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),lr.read(r);const o=ky(window,"resize",()=>this.scalePositionWithinConstraints()),s=i.addEventListener("didUpdate",(({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(bo(f=>{const d=this.getAxisMotionValue(f);d&&(this.originPoint[f]+=l[f].translate,d.set(d.get()+l[f].translate))}),this.visualElement.render())}));return()=>{o(),t(),a(),s&&s()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:o=P2,dragMomentum:s=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:o,dragMomentum:s}}}function g_(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function u_e(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class c_e extends Uc{constructor(e){super(e),this.removeGroupControls=Eo,this.removeListeners=Eo,this.controls=new l_e(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Eo}unmount(){this.removeGroupControls(),this.removeListeners()}}const mj=n=>(e,t)=>{n&&lr.postRender(()=>n(e,t))};class f_e extends Uc{constructor(){super(...arguments),this.removePointerDownListener=Eo}onPointerDown(e){this.session=new e$(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:QG(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:mj(e),onStart:mj(t),onMove:r,onEnd:(a,o)=>{delete this.session,i&&lr.postRender(()=>i(a,o))}}}mount(){this.removePointerDownListener=wv(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const C_={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let WE=!1;class h_e extends fe.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=e;a&&(t.group&&t.group.add(a),r&&r.register&&i&&r.register(a),WE&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),C_.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:i,isPresent:a}=this.props,{projection:o}=r;return o&&(o.isPresent=a,WE=!0,i||e.layoutDependency!==t||t===void 0||e.isPresent!==a?o.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?o.promote():o.relegate()||lr.postRender(()=>{const s=o.getStack();(!s||!s.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),GR.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:i}=e;WE=!0,i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function n$(n){const[e,t]=P0e(),r=fe.useContext(D6);return oe.jsx(h_e,{...n,layoutGroup:r,switchLayoutGroup:fe.useContext(kG),isPresent:e,safeToRemove:t})}function d_e(n,e,t){const r=Wi(n)?n:am(n);return r.start(tI("",r,e,t)),r.animation}const p_e=(n,e)=>n.depth-e.depth;class m_e{constructor(){this.children=[],this.isDirty=!1}add(e){ER(this.children,e),this.isDirty=!0}remove(e){PR(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(p_e),this.isDirty=!1,this.children.forEach(e)}}function g_e(n,e){const t=Ia.now(),r=({timestamp:i})=>{const a=i-t;a>=e&&(Ac(r),n(a-e))};return lr.setup(r,!0),()=>Ac(r)}const r$=["TopLeft","TopRight","BottomLeft","BottomRight"],v_e=r$.length,gj=n=>typeof n=="string"?parseFloat(n):n,vj=n=>typeof n=="number"||Gt.test(n);function y_e(n,e,t,r,i,a){i?(n.opacity=mr(0,t.opacity??1,x_e(r)),n.opacityExit=mr(e.opacity??1,0,__e(r))):a&&(n.opacity=mr(e.opacity??1,t.opacity??1,r));for(let o=0;o<v_e;o++){const s=`border${r$[o]}Radius`;let l=yj(e,s),c=yj(t,s);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||vj(l)===vj(c)?(n[s]=Math.max(mr(gj(l),gj(c),r),0),(Zs.test(c)||Zs.test(l))&&(n[s]+="%")):n[s]=c}(e.rotate||t.rotate)&&(n.rotate=mr(e.rotate||0,t.rotate||0,r))}function yj(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const x_e=i$(0,.5,W6),__e=i$(.5,.95,Eo);function i$(n,e,t){return r=>r<n?0:r>e?1:t(Iy(n,e,r))}function xj(n,e){n.min=e.min,n.max=e.max}function us(n,e){xj(n.x,e.x),xj(n.y,e.y)}function _j(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function bj(n,e,t,r,i){return n-=e,n=Ub(n,1/t,r),i!==void 0&&(n=Ub(n,1/i,r)),n}function b_e(n,e=0,t=1,r=.5,i,a=n,o=n){if(Zs.test(e)&&(e=parseFloat(e),e=mr(o.min,o.max,e/100)-o.min),typeof e!="number")return;let s=mr(a.min,a.max,r);n===a&&(s-=e),n.min=bj(n.min,e,t,s,i),n.max=bj(n.max,e,t,s,i)}function Sj(n,e,[t,r,i],a,o){b_e(n,e[t],e[r],e[i],e.scale,a,o)}const S_e=["x","scaleX","originX"],w_e=["y","scaleY","originY"];function wj(n,e,t,r){Sj(n.x,e,S_e,t?t.x:void 0,r?r.x:void 0),Sj(n.y,e,w_e,t?t.y:void 0,r?r.y:void 0)}function Mj(n){return n.translate===0&&n.scale===1}function a$(n){return Mj(n.x)&&Mj(n.y)}function Aj(n,e){return n.min===e.min&&n.max===e.max}function M_e(n,e){return Aj(n.x,e.x)&&Aj(n.y,e.y)}function Tj(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function o$(n,e){return Tj(n.x,e.x)&&Tj(n.y,e.y)}function Ej(n){return ha(n.x)/ha(n.y)}function Pj(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class A_e{constructor(){this.members=[]}add(e){ER(this.members,e),e.scheduleRender()}remove(e){if(PR(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(i=>e===i);if(t===0)return!1;let r;for(let i=t;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function T_e(n,e,t){let r="";const i=n.x.translate/e.x,a=n.y.translate/e.y,o=t?.z||0;if((i||a||o)&&(r=`translate3d(${i}px, ${a}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:c,rotate:f,rotateX:d,rotateY:m,skewX:v,skewY:x}=t;c&&(r=`perspective(${c}px) ${r}`),f&&(r+=`rotate(${f}deg) `),d&&(r+=`rotateX(${d}deg) `),m&&(r+=`rotateY(${m}deg) `),v&&(r+=`skewX(${v}deg) `),x&&(r+=`skewY(${x}deg) `)}const s=n.x.scale*e.x,l=n.y.scale*e.y;return(s!==1||l!==1)&&(r+=`scale(${s}, ${l})`),r||"none"}const GE=["","X","Y","Z"],E_e=1e3;let P_e=0;function $E(n,e,t,r){const{latestValues:i}=e;i[n]&&(t[n]=i[n],e.setStaticValue(n,0),r&&(r[n]=0))}function s$(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=$G(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:i,layoutId:a}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",lr,!(i||a))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&s$(r)}function l$({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},s=e?.()){this.id=P_e++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(R_e),this.nodes.forEach(N_e),this.nodes.forEach(k_e),this.nodes.forEach(I_e)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=s?s.root||s:this,this.path=s?[...s.path,s]:[],this.parent=s,this.depth=s?s.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new m_e)}addEventListener(o,s){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new RR),this.eventHandlers.get(o).add(s)}notifyListeners(o,...s){const l=this.eventHandlers.get(o);l&&l.notify(...s)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=wG(o)&&!A0e(o),this.instance=o;const{layoutId:s,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||s)&&(this.isLayoutDirty=!0),n){let f,d=0;const m=()=>this.root.updateBlockedByResize=!1;lr.read(()=>{d=window.innerWidth}),n(o,()=>{const v=window.innerWidth;v!==d&&(d=v,this.root.updateBlockedByResize=!0,f&&f(),f=g_e(m,250),C_.hasAnimatedSinceResize&&(C_.hasAnimatedSinceResize=!1,this.nodes.forEach(Rj)))})}s&&this.root.registerSharedNode(s,this),this.options.animate!==!1&&c&&(s||l)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:d,hasRelativeLayoutChanged:m,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||c.getDefaultTransition()||j_e,{onLayoutAnimationStart:S,onLayoutAnimationComplete:_}=c.getProps(),b=!this.targetLayout||!o$(this.targetLayout,v),M=!d&&m;if(this.options.layoutRoot||this.resumeFrom||M||d&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const T={...HR(x,"layout"),onPlay:S,onComplete:_};(c.shouldReduceMotion||this.options.layoutRoot)&&(T.delay=0,T.type=!1),this.startAnimation(T),this.setAnimationOrigin(f,M)}else d||Rj(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ac(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(U_e),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&s$(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const d=this.path[f];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:s,layout:l}=this.options;if(s===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Cj);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Oj);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(L_e),this.nodes.forEach(C_e),this.nodes.forEach(O_e)):this.nodes.forEach(Oj),this.clearAllSnapshots();const s=Ia.now();Pi.delta=ou(0,1e3/60,s-Pi.timestamp),Pi.timestamp=s,Pi.isProcessing=!0,LE.update.process(Pi),LE.preRender.process(Pi),LE.render.process(Pi),Pi.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,GR.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(D_e),this.sharedNodes.forEach(F_e)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,lr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){lr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ha(this.snapshot.measuredBox.x)&&!ha(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Zr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:s}=this.options;s&&s.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let s=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(s=!1),s&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,s=this.projectionDelta&&!a$(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,f=c!==this.prevTransformTemplateValue;o&&this.instance&&(s||qf(this.latestValues)||f)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const s=this.measurePageBox();let l=this.removeElementScroll(s);return o&&(l=this.removeTransform(l)),V_e(l),{animationId:this.root.animationId,measuredBox:s,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Zr();const s=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(H_e))){const{scroll:c}=this.root;c&&(Sp(s.x,c.offset.x),Sp(s.y,c.offset.y))}return s}removeElementScroll(o){const s=Zr();if(us(s,o),this.scroll?.wasRoot)return s;for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:f,options:d}=c;c!==this.root&&f&&d.layoutScroll&&(f.wasRoot&&us(s,o),Sp(s.x,f.offset.x),Sp(s.y,f.offset.y))}return s}applyTransform(o,s=!1){const l=Zr();us(l,o);for(let c=0;c<this.path.length;c++){const f=this.path[c];!s&&f.options.layoutScroll&&f.scroll&&f!==f.root&&wp(l,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),qf(f.latestValues)&&wp(l,f.latestValues)}return qf(this.latestValues)&&wp(l,this.latestValues),l}removeTransform(o){const s=Zr();us(s,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!qf(c.latestValues))continue;S2(c.latestValues)&&c.updateSnapshot();const f=Zr(),d=c.measurePageBox();us(f,d),wj(s,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,f)}return qf(this.latestValues)&&wj(s,this.latestValues),s}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Pi.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const s=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=s.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=s.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=s.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==s;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:d}=this.options;if(!this.layout||!(f||d))return;this.resolvedRelativeTargetAt=Pi.timestamp;const m=this.getClosestProjectingParent();m&&this.linkedParentVersion!==m.layoutVersion&&!m.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(m&&m.layout?this.createRelativeTarget(m,this.layout.layoutBox,m.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Zr(),this.targetWithTransforms=Zr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Zxe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):us(this.target,this.layout.layoutBox),zG(this.target,this.targetDelta)):us(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?this.createRelativeTarget(m,this.target,m.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||S2(this.parent.latestValues)||BG(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,s,l){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Zr(),this.relativeTargetOrigin=Zr(),Fb(this.relativeTargetOrigin,s,l),us(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const o=this.getLead(),s=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(l=!1),s&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Pi.timestamp&&(l=!1),l)return;const{layout:c,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||f))return;us(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,m=this.treeScale.y;uxe(this.layoutCorrected,this.treeScale,this.path,s),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Zr());const{target:v}=o;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(_j(this.prevProjectionDelta.x,this.projectionDelta.x),_j(this.prevProjectionDelta.y,this.projectionDelta.y)),Mv(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==m||!Pj(this.projectionDelta.x,this.prevProjectionDelta.x)||!Pj(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const s=this.getStack();s&&s.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Mp(),this.projectionDelta=Mp(),this.projectionDeltaWithTransform=Mp()}setAnimationOrigin(o,s=!1){const l=this.snapshot,c=l?l.latestValues:{},f={...this.latestValues},d=Mp();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!s;const m=Zr(),v=l?l.source:void 0,x=this.layout?this.layout.source:void 0,S=v!==x,_=this.getStack(),b=!_||_.members.length<=1,M=!!(S&&!b&&this.options.crossfade===!0&&!this.path.some(z_e));this.animationProgress=0;let T;this.mixTargetDelta=E=>{const P=E/1e3;Ij(d.x,o.x,P),Ij(d.y,o.y,P),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Fb(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),B_e(this.relativeTarget,this.relativeTargetOrigin,m,P),T&&M_e(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=Zr()),us(T,this.relativeTarget)),S&&(this.animationValues=f,y_e(f,c,this.latestValues,P,M,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Ac(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=lr.update(()=>{C_.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=am(0)),this.currentAnimation=d_e(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:s=>{this.mixTargetDelta(s),o.onUpdate&&o.onUpdate(s)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(E_e),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:s,target:l,layout:c,latestValues:f}=o;if(!(!s||!l||!c)){if(this!==o&&this.layout&&c&&u$(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Zr();const d=ha(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const m=ha(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+m}us(s,l),wp(s,f),Mv(this.projectionDeltaWithTransform,this.layoutCorrected,s,f)}}registerSharedNode(o,s){this.sharedNodes.has(o)||this.sharedNodes.set(o,new A_e),this.sharedNodes.get(o).add(s);const c=s.options.initialPromotionConfig;s.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(s):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:s,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),s&&this.setOptions({transition:s})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let s=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(s=!0),!s)return;const c={};l.z&&$E("z",o,c,this.animationValues);for(let f=0;f<GE.length;f++)$E(`rotate${GE[f]}`,o,c,this.animationValues),$E(`skew${GE[f]}`,o,c,this.animationValues);o.render();for(const f in c)o.setStaticValue(f,c[f]),this.animationValues&&(this.animationValues[f]=c[f]);o.scheduleRender()}applyProjectionStyles(o,s){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=P_(s?.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=P_(s?.pointerEvents)||""),this.hasProjected&&!qf(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const f=c.animationValues||c.latestValues;this.applyTransformsToTarget();let d=T_e(this.projectionDeltaWithTransform,this.treeScale,f);l&&(d=l(f,d)),o.transform=d;const{x:m,y:v}=this.projectionDelta;o.transformOrigin=`${m.origin*100}% ${v.origin*100}% 0`,c.animationValues?o.opacity=c===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:o.opacity=c===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const x in b2){if(f[x]===void 0)continue;const{correct:S,applyTo:_,isCSSVariable:b}=b2[x],M=d==="none"?f[x]:S(f[x],c);if(_){const T=_.length;for(let E=0;E<T;E++)o[_[E]]=M}else b?this.options.visualElement.renderState.vars[x]=M:o[x]=M}this.options.layoutId&&(o.pointerEvents=c===this?P_(s?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop()),this.root.nodes.forEach(Cj),this.root.sharedNodes.clear()}}}function C_e(n){n.updateLayout()}function O_e(n){const e=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=n.layout,{animationType:i}=n.options,a=e.source!==n.layout.source;i==="size"?bo(f=>{const d=a?e.measuredBox[f]:e.layoutBox[f],m=ha(d);d.min=t[f].min,d.max=d.min+m}):u$(i,e.layoutBox,t)&&bo(f=>{const d=a?e.measuredBox[f]:e.layoutBox[f],m=ha(t[f]);d.max=d.min+m,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[f].max=n.relativeTarget[f].min+m)});const o=Mp();Mv(o,t,e.layoutBox);const s=Mp();a?Mv(s,n.applyTransform(r,!0),e.measuredBox):Mv(s,t,e.layoutBox);const l=!a$(o);let c=!1;if(!n.resumeFrom){const f=n.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:d,layout:m}=f;if(d&&m){const v=Zr();Fb(v,e.layoutBox,d.layoutBox);const x=Zr();Fb(x,t,m.layoutBox),o$(v,x)||(c=!0),f.options.layoutRoot&&(n.relativeTarget=x,n.relativeTargetOrigin=v,n.relativeParent=f)}}}n.notifyListeners("didUpdate",{layout:t,snapshot:e,delta:s,layoutDelta:o,hasLayoutChanged:l,hasRelativeLayoutChanged:c})}else if(n.isLead()){const{onExitComplete:t}=n.options;t&&t()}n.options.transition=void 0}function R_e(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function I_e(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function D_e(n){n.clearSnapshot()}function Cj(n){n.clearMeasurements()}function Oj(n){n.isLayoutDirty=!1}function L_e(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function Rj(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function N_e(n){n.resolveTargetDelta()}function k_e(n){n.calcProjection()}function U_e(n){n.resetSkewAndRotation()}function F_e(n){n.removeLeadSnapshot()}function Ij(n,e,t){n.translate=mr(e.translate,0,t),n.scale=mr(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function Dj(n,e,t,r){n.min=mr(e.min,t.min,r),n.max=mr(e.max,t.max,r)}function B_e(n,e,t,r){Dj(n.x,e.x,t.x,r),Dj(n.y,e.y,t.y,r)}function z_e(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const j_e={duration:.45,ease:[.4,0,.1,1]},Lj=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),Nj=Lj("applewebkit/")&&!Lj("chrome/")?Math.round:Eo;function kj(n){n.min=Nj(n.min),n.max=Nj(n.max)}function V_e(n){kj(n.x),kj(n.y)}function u$(n,e,t){return n==="position"||n==="preserve-aspect"&&!Kxe(Ej(e),Ej(t),.2)}function H_e(n){return n!==n.root&&n.scroll?.wasRoot}const W_e=l$({attachResizeListener:(n,e)=>ky(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),qE={current:void 0},c$=l$({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!qE.current){const n=new W_e({});n.mount(window),n.setOptions({layoutScroll:!0}),qE.current=n}return qE.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),G_e={pan:{Feature:f_e},drag:{Feature:c_e,ProjectionNode:c$,MeasureLayout:n$}};function Uj(n,e,t){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",t==="Start");const i="onHover"+t,a=r[i];a&&lr.postRender(()=>a(e,u0(e)))}class $_e extends Uc{mount(){const{current:e}=this.node;e&&(this.unmount=_0e(e,(t,r)=>(Uj(this.node,r,"Start"),i=>Uj(this.node,i,"End"))))}unmount(){}}class q_e extends Uc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=o0(ky(this.node.current,"focus",()=>this.onFocus()),ky(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Fj(n,e,t){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",t==="Start");const i="onTap"+(t==="End"?"":t),a=r[i];a&&lr.postRender(()=>a(e,u0(e)))}class X_e extends Uc{mount(){const{current:e}=this.node;e&&(this.unmount=M0e(e,(t,r)=>(Fj(this.node,r,"Start"),(i,{success:a})=>Fj(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const C2=new WeakMap,XE=new WeakMap,Y_e=n=>{const e=C2.get(n.target);e&&e(n)},K_e=n=>{n.forEach(Y_e)};function Z_e({root:n,...e}){const t=n||document;XE.has(t)||XE.set(t,{});const r=XE.get(t),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(K_e,{root:n,...e})),r[i]}function J_e(n,e,t){const r=Z_e(e);return C2.set(n,t),r.observe(n),()=>{C2.delete(n),r.unobserve(n)}}const Q_e={some:0,all:1};class ebe extends Uc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:i="some",once:a}=e,o={root:t?t.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Q_e[i]},s=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,a&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:f,onViewportLeave:d}=this.node.getProps(),m=c?f:d;m&&m(l)};return J_e(this.node.current,o,s)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(tbe(e,t))&&this.startObserver()}unmount(){}}function tbe({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const nbe={inView:{Feature:ebe},tap:{Feature:X_e},focus:{Feature:q_e},hover:{Feature:$_e}},rbe={layout:{ProjectionNode:c$,MeasureLayout:n$}},ibe={...Wxe,...nbe,...G_e,...rbe},Bj=oxe(ibe,xxe),abe=["Extreme Weather Events","Climate Modeling and Predictions","Glacier Dynamics and Water Resources","Vegetation Changes and Land Use","Humanitarian Response","Terrestrial Water Changes"],obe=({activeTheme:n,onThemeSelect:e})=>oe.jsx("div",{className:"h-full flex flex-col justify-center px-8 z-10 relative pointer-events-none",children:oe.jsxs("div",{className:"pointer-events-auto",children:[oe.jsx("h2",{className:"text-4xl font-bold font-heading mb-8 text-transparent bg-clip-text bg-gradient-to-r from-white to-gray-400",children:"Research Themes"}),oe.jsx("div",{className:"space-y-4",children:abe.map((t,r)=>oe.jsx(Bj.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:r*.1},children:oe.jsxs("button",{onClick:()=>e(t===n?null:t),className:`group flex items-center w-full text-left p-4 rounded-xl transition-all duration-300 backdrop-blur-sm border ${n===t?"bg-primary/20 border-primary shadow-[0_0_20px_rgba(56,189,248,0.3)]":"bg-white/5 border-white/10 hover:bg-white/10 hover:border-white/20"}`,children:[oe.jsx("div",{className:`w-3 h-3 rounded-full mr-4 transition-all duration-300 ${n===t?"bg-accent shadow-[0_0_10px_#f97316]":"bg-gray-500 group-hover:bg-gray-300"}`}),oe.jsx("span",{className:`text-lg font-medium transition-colors ${n===t?"text-white":"text-gray-300 group-hover:text-white"}`,children:t})]})},t))}),oe.jsx(Bj.button,{initial:{opacity:0},animate:{opacity:n?1:0},className:`mt-8 px-6 py-2 rounded-full border border-white/20 text-sm text-gray-400 hover:text-white hover:bg-white/10 transition-all ${!n&&"pointer-events-none"}`,onClick:()=>e(null),children:" Return to Global View"})]})}),sbe=()=>{const[n,e]=fe.useState(null);return oe.jsxs("div",{className:"relative w-full h-[800px] flex rounded-3xl overflow-hidden border border-white/10 bg-black shadow-2xl my-8",children:[oe.jsxs("div",{className:"w-1/3 min-w-[350px] relative z-20",children:[oe.jsx(obe,{activeTheme:n,onThemeSelect:e}),oe.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black via-black/80 to-transparent pointer-events-none z-0"})]}),oe.jsx("div",{className:"absolute inset-0 w-full h-full",children:oe.jsx(fe.Suspense,{fallback:oe.jsx("div",{className:"text-white flex items-center justify-center h-full",children:"Loading 3D Assets..."}),children:oe.jsxs(Uge,{camera:{position:[0,0,4.5],fov:45},children:[oe.jsx("color",{attach:"background",args:["#050510"]}),oe.jsx("ambientLight",{intensity:.2}),oe.jsx("directionalLight",{position:[5,3,5],intensity:1.5}),oe.jsx(Eve,{radius:300,depth:50,count:5e3,factor:4,saturation:0,fade:!0,speed:1}),oe.jsx(Pve,{activeTheme:n}),oe.jsx(Mve,{enableZoom:!1,enablePan:!1,rotateSpeed:.5,minPolarAngle:Math.PI/2.5,maxPolarAngle:Math.PI/1.5})]})})})]})},lbe=[{year:2001,temperature:25.6},{year:2002,temperature:25.7},{year:2003,temperature:25.6},{year:2004,temperature:25.7},{year:2005,temperature:25.6},{year:2006,temperature:25.7},{year:2007,temperature:25.6},{year:2008,temperature:26.1},{year:2009,temperature:26},{year:2010,temperature:26.1},{year:2011,temperature:25.6},{year:2012,temperature:25.6},{year:2013,temperature:25.6},{year:2014,temperature:25.7},{year:2015,temperature:25.9},{year:2016,temperature:26.2},{year:2017,temperature:26},{year:2018,temperature:25.9},{year:2019,temperature:26.1},{year:2020,temperature:25.8},{year:2021,temperature:25.7},{year:2022,temperature:25.9},{year:2023,temperature:26.15}],ube=[{month:"Jan",precipitation:15},{month:"Feb",precipitation:25},{month:"Mar",precipitation:40},{month:"Apr",precipitation:55},{month:"May",precipitation:65},{month:"Jun",precipitation:150},{month:"Jul",precipitation:325},{month:"Aug",precipitation:300},{month:"Sep",precipitation:175},{month:"Oct",precipitation:40},{month:"Nov",precipitation:10},{month:"Dec",precipitation:5}],cbe=[{year:2010,deaths:347},{year:2011,deaths:302},{year:2012,deaths:208},{year:2013,deaths:282},{year:2014,deaths:499},{year:2015,deaths:232},{year:2016,deaths:210},{year:2017,deaths:231},{year:2018,deaths:404},{year:2019,deaths:264},{year:2020,deaths:295},{year:2021,deaths:380},{year:2022,deaths:269},{year:2023,deaths:242},{year:2024,deaths:430}],fbe=[{year:2e3,area:100},{year:2005,area:98},{year:2010,area:95},{year:2015,area:91},{year:2020,area:86},{year:2025,area:80}],Gi={primary:"#38bdf8",secondary:"#22d3ee",accent:"#f97316",grid:"#334155",text:"#f1f5f9"},KS=({active:n,payload:e,label:t})=>n&&e&&e.length?oe.jsxs("div",{className:"bg-dark-800 border border-white/10 p-4 rounded-lg shadow-xl backdrop-blur-sm",children:[oe.jsx("p",{className:"text-gray-300 mb-2",children:t}),e.map((r,i)=>oe.jsxs("div",{className:"flex items-center gap-2",children:[oe.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:r.color}}),oe.jsxs("p",{className:"font-bold text-white",children:[r.name,": ",r.value]})]},i))]}):null,hbe=()=>oe.jsx(Gl,{width:"100%",height:300,children:oe.jsxs(IO,{data:lbe,children:[oe.jsx(Eh,{strokeDasharray:"3 3",stroke:Gi.grid}),oe.jsx(no,{dataKey:"year",stroke:Gi.text}),oe.jsx(Da,{stroke:Gi.text,domain:[25,27]}),oe.jsx(pi,{content:oe.jsx(KS,{})}),oe.jsx(Po,{}),oe.jsx(du,{type:"monotone",dataKey:"temperature",stroke:Gi.primary,strokeWidth:3,dot:{r:4},activeDot:{r:8},name:"Avg. Temp (C)"})]})}),dbe=()=>oe.jsx(Gl,{width:"100%",height:300,children:oe.jsxs(mC,{data:ube,children:[oe.jsx(Eh,{strokeDasharray:"3 3",stroke:Gi.grid}),oe.jsx(no,{dataKey:"month",stroke:Gi.text}),oe.jsx(Da,{stroke:Gi.text}),oe.jsx(pi,{content:oe.jsx(KS,{})}),oe.jsx(Po,{}),oe.jsx(eo,{dataKey:"precipitation",fill:Gi.secondary,radius:[4,4,0,0],name:"Precipitation (mm)"})]})}),pbe=()=>oe.jsx(Gl,{width:"100%",height:300,children:oe.jsxs(IO,{data:cbe,children:[oe.jsx(Eh,{strokeDasharray:"3 3",stroke:Gi.grid}),oe.jsx(no,{dataKey:"year",stroke:Gi.text}),oe.jsx(Da,{stroke:Gi.text}),oe.jsx(pi,{content:oe.jsx(KS,{})}),oe.jsx(Po,{}),oe.jsx(du,{type:"monotone",dataKey:"deaths",stroke:Gi.accent,strokeWidth:3,name:"Deaths"})]})}),mbe=()=>oe.jsx(Gl,{width:"100%",height:300,children:oe.jsxs(IO,{data:fbe,children:[oe.jsx(Eh,{strokeDasharray:"3 3",stroke:Gi.grid}),oe.jsx(no,{dataKey:"year",stroke:Gi.text}),oe.jsx(Da,{stroke:Gi.text}),oe.jsx(pi,{content:oe.jsx(KS,{})}),oe.jsx(Po,{}),oe.jsx(du,{type:"monotone",dataKey:"area",stroke:Gi.primary,strokeWidth:3,name:"Glacier Area"})]})}),gbe=()=>{const[n,e]=fe.useState("home"),[t,r]=fe.useState(""),i=fe.useMemo(()=>[{title:"Tackling Climate and Water Challenges in the Himalayas using AI",link:"https://www.himalayanwaterproject.org/post/tackling-climate-and-water-challenges-in-the-himalayas-using-ai?fbclid=PAAaYk42lbCAwvs7NAlLl5tlILoeEEMovhuIRWmo2vMEQ_SAjkvU59c_c5N3g_aem_AUUgE-tuc5yK5O631x1-3Q7zOoMlneCuDTH2uRJHXjU-y7wdNfTwqlPw0oN2RBTUWPc"}].filter(s=>s.title.toLowerCase().includes(t.toLowerCase())),[t]),a=()=>{switch(n){case"home":return oe.jsxs(oe.Fragment,{children:[oe.jsx(Hero,{onExplore:()=>e("visualizations")}),oe.jsx(Wse,{})]});case"research":return oe.jsx("div",{className:"container mx-auto px-4 py-8 animate-fade-in",children:oe.jsx(sbe,{})});case"visualizations":return oe.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-12 animate-fade-in",children:[oe.jsxs("section",{children:[oe.jsx("h2",{className:"text-3xl font-bold font-heading mb-6 text-white border-l-4 border-primary pl-4",children:"Disaster Impact Monitor"}),oe.jsx(ps,{className:"p-6",children:oe.jsx(Fse,{})})]}),oe.jsxs("section",{children:[oe.jsx("h2",{className:"text-3xl font-bold font-heading mb-6 text-white border-l-4 border-secondary pl-4",children:"Climate Metrics"}),oe.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[oe.jsxs(ps,{className:"p-6",children:[oe.jsx("h3",{className:"text-xl font-bold mb-4 text-gray-200",children:"Annual Temperature"}),oe.jsx(hbe,{})]}),oe.jsxs(ps,{className:"p-6",children:[oe.jsx("h3",{className:"text-xl font-bold mb-4 text-gray-200",children:"Precipitation Levels"}),oe.jsx(dbe,{})]}),oe.jsxs(ps,{className:"p-6",children:[oe.jsx("h3",{className:"text-xl font-bold mb-4 text-gray-200",children:"Landslide Impact"}),oe.jsx(pbe,{})]}),oe.jsxs(ps,{className:"p-6",children:[oe.jsx("h3",{className:"text-xl font-bold mb-4 text-gray-200",children:"Glacier Retreat"}),oe.jsx(mbe,{})]})]})]}),oe.jsx("section",{children:oe.jsx(Vse,{})})]});case"blogs":return oe.jsxs("div",{className:"container mx-auto px-4 py-8 animate-fade-in",children:[oe.jsx("h2",{className:"text-4xl font-bold font-heading mb-8",children:"Latest Insights"}),oe.jsx("div",{className:"grid gap-6",children:i.map((o,s)=>oe.jsx(ps,{className:"p-6 hover:border-primary/50 transition-colors group",children:oe.jsxs("a",{href:o.link,target:"_blank",rel:"noopener noreferrer",className:"block",children:[oe.jsx("h3",{className:"text-xl font-bold text-white group-hover:text-primary transition-colors mb-2",children:o.title}),oe.jsx("span",{className:"text-sm text-gray-400",children:"Read Article "})]})},s))})]});default:return null}};return oe.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-dark-900 to-black text-white selection:bg-primary selection:text-black font-sans",children:[oe.jsx(Hse,{activeTab:n,onTabChange:e}),oe.jsx("main",{className:"min-h-screen pb-20",children:a()})]})};function vbe(){return oe.jsx("div",{className:"App",children:oe.jsx(gbe,{})})}const ybe=W$.createRoot(document.getElementById("root"));ybe.render(oe.jsx(re.StrictMode,{children:oe.jsx(vbe,{})}));
